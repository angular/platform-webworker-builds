{"version":3,"sources":["../../../../../../modules/@angular/platform-webworker/src/web_workers/shared/serializer.ts"],"names":[],"mappings":"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","file":"serializer.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable, RenderComponentType, RendererTypeV2, Type} from '@angular/core';\n\nimport {stringify} from '../../facade/lang';\n\nimport {RenderStore} from './render_store';\n\n\n/**\n * Any type that does not need to be serialized (string, number, boolean)\n *\n * @experimental WebWorker support in Angular is currently experimental.\n * @deprecated in v4. Use SerializerTypes.PRIMITIVE instead\n */\nexport const /** @type {?} */ PRIMITIVE = SerializerTypes.PRIMITIVE;\nexport class LocationType {\n/**\n * @param {?} href\n * @param {?} protocol\n * @param {?} host\n * @param {?} hostname\n * @param {?} port\n * @param {?} pathname\n * @param {?} search\n * @param {?} hash\n * @param {?} origin\n */\nconstructor(\npublic href: string,\npublic protocol: string,\npublic host: string,\npublic hostname: string,\npublic port: string,\npublic pathname: string,\npublic search: string,\npublic hash: string,\npublic origin: string) {}\n}\n\nfunction LocationType_tsickle_Closure_declarations() {\n/** @type {?} */\nLocationType.prototype.href;\n/** @type {?} */\nLocationType.prototype.protocol;\n/** @type {?} */\nLocationType.prototype.host;\n/** @type {?} */\nLocationType.prototype.hostname;\n/** @type {?} */\nLocationType.prototype.port;\n/** @type {?} */\nLocationType.prototype.pathname;\n/** @type {?} */\nLocationType.prototype.search;\n/** @type {?} */\nLocationType.prototype.hash;\n/** @type {?} */\nLocationType.prototype.origin;\n}\n\n\n/**\n * @experimental WebWorker support in Angular is currently experimental.\n */\nexport const enum SerializerTypes {\n  // RendererTypeV2\n  RENDERER_TYPE_V2,\n  // Primitive types\n  PRIMITIVE,\n  // An object stored in a RenderStore\n  RENDER_STORE_OBJECT,\n}\nexport class Serializer {\n/**\n * @param {?} _renderStore\n */\nconstructor(private _renderStore: RenderStore) {}\n/**\n * @param {?} obj\n * @param {?=} type\n * @return {?}\n */\nserialize(obj: any, type: Type<any>|SerializerTypes = SerializerTypes.PRIMITIVE): Object {\n    if (obj == null || type === SerializerTypes.PRIMITIVE) {\n      return obj;\n    }\n    if (Array.isArray(obj)) {\n      return obj.map(v => this.serialize(v, type));\n    }\n    if (type === SerializerTypes.RENDER_STORE_OBJECT) {\n      return this._renderStore.serialize(obj);\n    }\n    if (type === RenderComponentType) {\n      return this._serializeRenderComponentType(obj);\n    }\n    if (type === SerializerTypes.RENDERER_TYPE_V2) {\n      return this._serializeRendererTypeV2(obj);\n    }\n    if (type === LocationType) {\n      return this._serializeLocation(obj);\n    }\n    throw new Error(`No serializer for type ${stringify(type)}`);\n  }\n/**\n * @param {?} map\n * @param {?=} type\n * @param {?=} data\n * @return {?}\n */\ndeserialize(map: any, type: Type<any>|SerializerTypes = SerializerTypes.PRIMITIVE, data?: any):\n      any {\n    if (map == null || type === SerializerTypes.PRIMITIVE) {\n      return map;\n    }\n    if (Array.isArray(map)) {\n      return map.map(val => this.deserialize(val, type, data));\n    }\n    if (type === SerializerTypes.RENDER_STORE_OBJECT) {\n      return this._renderStore.deserialize(map);\n    }\n    if (type === RenderComponentType) {\n      return this._deserializeRenderComponentType(map);\n    }\n    if (type === SerializerTypes.RENDERER_TYPE_V2) {\n      return this._deserializeRendererTypeV2(map);\n    }\n    if (type === LocationType) {\n      return this._deserializeLocation(map);\n    }\n    throw new Error(`No deserializer for type ${stringify(type)}`);\n  }\n/**\n * @param {?} loc\n * @return {?}\n */\nprivate _serializeLocation(loc: LocationType): Object {\n    return {\n      'href': loc.href,\n      'protocol': loc.protocol,\n      'host': loc.host,\n      'hostname': loc.hostname,\n      'port': loc.port,\n      'pathname': loc.pathname,\n      'search': loc.search,\n      'hash': loc.hash,\n      'origin': loc.origin,\n    };\n  }\n/**\n * @param {?} loc\n * @return {?}\n */\nprivate _deserializeLocation(loc: {[key: string]: any}): LocationType {\n    return new LocationType(\n        loc['href'], loc['protocol'], loc['host'], loc['hostname'], loc['port'], loc['pathname'],\n        loc['search'], loc['hash'], loc['origin']);\n  }\n/**\n * @param {?} type\n * @return {?}\n */\nprivate _serializeRenderComponentType(type: RenderComponentType): Object {\n    return {\n      'id': type.id,\n      'templateUrl': type.templateUrl,\n      'slotCount': type.slotCount,\n      'encapsulation': this.serialize(type.encapsulation),\n      'styles': this.serialize(type.styles),\n    };\n  }\n/**\n * @param {?} props\n * @return {?}\n */\nprivate _deserializeRenderComponentType(props: {[key: string]: any}): RenderComponentType {\n    return new RenderComponentType(\n        props['id'], props['templateUrl'], props['slotCount'],\n        this.deserialize(props['encapsulation']), this.deserialize(props['styles']), {});\n  }\n/**\n * @param {?} type\n * @return {?}\n */\nprivate _serializeRendererTypeV2(type: RendererTypeV2): {[key: string]: any} {\n    return {\n      'id': type.id,\n      'encapsulation': this.serialize(type.encapsulation),\n      'styles': this.serialize(type.styles),\n      'data': this.serialize(type.data),\n    };\n  }\n/**\n * @param {?} props\n * @return {?}\n */\nprivate _deserializeRendererTypeV2(props: {[key: string]: any}): RendererTypeV2 {\n    return {\n      id: props['id'],\n      encapsulation: props['encapsulation'],\n      styles: this.deserialize(props['styles']),\n      data: this.deserialize(props['data'])\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: RenderStore, },\n];\n}\n\nfunction Serializer_tsickle_Closure_declarations() {\n/** @type {?} */\nSerializer.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSerializer.ctorParameters;\n/** @type {?} */\nSerializer.prototype._renderStore;\n}\n\n\nexport const /** @type {?} */ ANIMATION_WORKER_PLAYER_PREFIX = 'AnimationPlayer.';\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}