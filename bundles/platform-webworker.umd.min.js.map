{"version":3,"sources":["packages/platform-webworker/platform-webworker.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","platformWebworker","core","common","platformBrowser","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","metadataKey","metadataValue","metadata","__read","o","n","m","Symbol","iterator","e","call","ar","next","done","push","value","error","__spread","concat","ON_WEB_WORKER","InjectionToken","MessageBus","RenderStore","_nextIndex","_lookupById","Map","_lookupByObject","allocateId","store","obj","id","set","remove","index","get","delete","deserialize","has","serialize","Injectable","LocationType","href","protocol","host","hostname","port","pathname","search","hash","origin","Serializer","_renderStore","type","_this","isArray","map","v","RenderComponentType","_serializeRenderComponentType","_serializeRendererType2","_serializeLocation","Error","ɵstringify","data","val","_deserializeRenderComponentType","_deserializeRendererType2","_deserializeLocation","loc","templateUrl","slotCount","encapsulation","styles","props","ClientMessageBrokerFactory","_messageBus","_serializer","createMessageBroker","channel","runInZone","initChannel","ClientMessageBroker","messageBus","_pending","_sink","to","from","subscribe","message","_handleMessage","_generateMessageId","name","time","Date","getTime","iteration","runOnService","args","returnType","promise","fnArgs","forEach","argument","completer_1","undefined","Promise","resolve","reject","method","catch","err","console","then","emit","FnArg","UiArguments","PostMessageBusSink","_postMessageTarget","_channels","_messageBuffer","attachToZone","zone","_zone","runOutsideAngular","onStable","_handleOnEventDone","emitter","EventEmitter","channelInfo","_Channel","_sendMessages","messages","postMessage","PostMessageBusSource","eventTarget","addEventListener","ev","_handleMessages","self","channelInfo_1","run","PostMessageBus","sink","source","ServiceMessageBrokerFactory","ServiceMessageBroker","_methods","registerMethod","methodName","signature","serializedArgs","numArgs","deserializedArgs","apply","_wrapWebWorkerPromise","result","RENDERER_2_CHANNEL","EVENT_2_CHANNEL","ROUTER_CHANNEL","MOUSE_EVENT_PROPERTIES","KEYBOARD_EVENT_PROPERTIES","TRANSITION_EVENT_PROPERTIES","EVENT_PROPERTIES","NODES_WITH_VALUE","Set","addTarget","serializedEvent","tagName","toLowerCase","files","serializeEvent","properties","serialized","prop","EventDispatcher","dispatchAnimationEvent","player","phaseName","element","animationPlayer","dispatchRenderEvent","eventName","event","serializeMouseEvent","serializeKeyboardEvent","serializeEventWithTarget","serializeGenericEvent","serializeTransitionEvent","MessageBasedRenderer2","_brokerFactory","_bus","_rendererFactory","start","broker","_eventDispatcher","_a","RSO","P","createRenderer","createElement","createComment","createText","appendChild","insertBefore","removeChild","selectRootElement","parentNode","nextSibling","setAttribute","removeAttribute","addClass","removeClass","setStyle","removeStyle","setProperty","setValue","listen","unlisten","destroy","destroyNode","_b","argTypes","slice","bind","node","el","namespace","parent","child","ref","selector","style","flags","elName","unlistenId","RendererFactory2","WebWorkerInstance","init","worker","bus","WORKER_SCRIPT","WORKER_UI_STARTABLE_MESSAGING_SERVICE","platformWorkerUi","createPlatformFactory","platformCore","provide","NgZone","useFactory","createNgZone","enableLongStackTrace","isDevMode","deps","useExisting","multi","ɵBROWSER_SANITIZATION_PROVIDERS","ErrorHandler","_exceptionHandler","DOCUMENT","_document","document","EVENT_MANAGER_PLUGINS","useClass","ɵDomEventsPlugin","ɵKeyEventsPlugin","ɵHammerGesturesPlugin","HAMMER_GESTURE_CONFIG","HammerGestureConfig","ɵAPP_ID_RANDOM_PROVIDER","ɵDomRendererFactory2","EventManager","ɵDomSharedStylesHost","ɵSharedStylesHost","useValue","Testability","PLATFORM_INITIALIZER","initWebWorkerRenderPlatform","injector","scriptUri","ɵBrowserDomAdapter","makeCurrent","ɵBrowserGetTestability","spawnWebWorker","uri","instance","webWorker","Worker","initializeGenericWorkerRenderer","services","runGuarded","svc","Injector","PLATFORM_ID","ɵPLATFORM_WORKER_UI_ID","messageBusFactory","VERSION","Version","MessageBasedPlatformLocation","_platformLocation","onPopState","_sendUrlChangeEvent","onHashChange","_broker","_channelSink","_getLocation","_setPathname","pushState","replaceState","forward","back","location","ɵBrowserPlatformLocation","WORKER_UI_LOCATION_PROVIDERS","initUiLocation","WebWorkerPlatformLocation","_super","brokerFactory","_popStateListeners","_hashChangeListeners","_location","_channelSource","msg","listeners","fn","initialized","res","initializedResolve","getBaseHrefFromDOM","newPath","enumerable","configurable","state","title","url","PlatformLocation","WORKER_APP_LOCATION_PROVIDERS","APP_INITIALIZER","appInitFnFactory","platformLocation","LOCATION_INITIALIZED","locationInitialized","NamedEventEmitter","callback","_getListeners","listener","indexOf","splice","dispatchEvent","_listeners","WebWorkerRendererFactory2","messageBrokerFactory","renderStore","globalEvents","_messageBroker","_dispatchEvent","renderer","WebWorkerRenderer2","callUI","begin","end","fnName","allocateNode","WebWorkerRenderNode","freeNode","eventNameWithTarget","events","asFnArg","callUIWithRenderer","newChild","refChild","oldChild","selectorOrNode","targetEl","targetName","fullName","WorkerDomAdapter","ɵsetRootDomAdapter","logError","log","logGroup","group","logGroupEnd","groupEnd","contains","nodeA","nodeB","hasProperty","getProperty","invoke","parse","templateHtml","querySelector","querySelectorAll","on","evt","onAndCancel","createMouseEvent","eventType","createEvent","preventDefault","isPrevented","getInnerHTML","getTemplateContent","getOuterHTML","nodeName","nodeValue","content","firstChild","parentElement","childNodes","childNodesAsList","clearNodes","replaceChild","newNode","oldNode","insertAllBefore","nodes","insertAfter","setInnerHTML","getText","setText","getValue","getChecked","setChecked","text","createTemplate","html","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","createStyleElement","css","createShadowRoot","getShadowRoot","getHost","getDistributedNodes","clone","getElementsByClassName","getElementsByTagName","classList","className","hasClass","styleName","styleValue","getStyle","hasStyle","attributeMap","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttributeNS","templateAwareRoot","createHtmlDocument","getDefaultDocument","getBoundingClientRect","getTitle","setTitle","newTitle","elementMatches","isTemplateElement","isTextNode","isCommentNode","isElementNode","hasShadowRoot","isShadowRoot","importIntoDoc","adoptNode","getHref","getEventKey","resolveAndSetHref","baseUrl","supportsDOMEvents","supportsNativeShadowDOM","getGlobalEventTarget","getHistory","getLocation","getBaseHref","resetBaseElement","getUserAgent","setData","getComputedStyle","getData","performanceNow","getAnimationPrefix","getTransitionEnd","supportsAnimation","supportsWebAnimation","supportsCookies","getCookie","setCookie","ɵDomAdapter","platformWorkerApp","ɵPLATFORM_WORKER_APP_ID","errorHandler","_postMessage","transferrables","createMessageBus","setupWebWorker","WorkerAppModule","NgModule","providers","ViewportScroller","ɵNullViewportScroller","CommonModule","ApplicationModule","bootstrapWorkerUi","workerScriptUri","customProviders","platform"],"mappings":"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","sourcesContent":["/**\n * @license Angular v7.0.0-rc.0+63.sha-55d54c7\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common'), require('@angular/platform-browser')) :\n    typeof define === 'function' && define.amd ? define('@angular/platform-webworker', ['exports', '@angular/core', '@angular/common', '@angular/platform-browser'], factory) :\n    (factory((global.ng = global.ng || {}, global.ng.platformWebworker = {}),global.ng.core,global.ng.common,global.ng.platformBrowser));\n}(this, (function (exports,core,common,platformBrowser) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    function __decorate(decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    }\r\n\r\n    function __metadata(metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    }\r\n\r\n    function __read(o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    }\r\n\r\n    function __spread() {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var ON_WEB_WORKER = new core.InjectionToken('WebWorker.onWebWorker');\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Message Bus is a low level API used to communicate between the UI and the background.\n     * Communication is based on a channel abstraction. Messages published in a\n     * given channel to one MessageBusSink are received on the same channel\n     * by the corresponding MessageBusSource.\n     *\n     * @experimental WebWorker support in Angular is currenlty experimental.\n     */\n    var MessageBus = /** @class */ (function () {\n        function MessageBus() {\n        }\n        return MessageBus;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var RenderStore = /** @class */ (function () {\n        function RenderStore() {\n            this._nextIndex = 0;\n            this._lookupById = new Map();\n            this._lookupByObject = new Map();\n        }\n        RenderStore.prototype.allocateId = function () { return this._nextIndex++; };\n        RenderStore.prototype.store = function (obj, id) {\n            if (id == null)\n                return;\n            this._lookupById.set(id, obj);\n            this._lookupByObject.set(obj, id);\n        };\n        RenderStore.prototype.remove = function (obj) {\n            var index = this._lookupByObject.get(obj);\n            if (index != null) {\n                this._lookupByObject.delete(obj);\n                this._lookupById.delete(index);\n            }\n        };\n        RenderStore.prototype.deserialize = function (id) {\n            return this._lookupById.has(id) ? this._lookupById.get(id) : null;\n        };\n        RenderStore.prototype.serialize = function (obj) {\n            return obj == null ? null : this._lookupByObject.get(obj);\n        };\n        RenderStore = __decorate([\n            core.Injectable()\n        ], RenderStore);\n        return RenderStore;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var LocationType = /** @class */ (function () {\n        function LocationType(href, protocol, host, hostname, port, pathname, search, hash, origin) {\n            this.href = href;\n            this.protocol = protocol;\n            this.host = host;\n            this.hostname = hostname;\n            this.port = port;\n            this.pathname = pathname;\n            this.search = search;\n            this.hash = hash;\n            this.origin = origin;\n        }\n        return LocationType;\n    }());\n    var Serializer = /** @class */ (function () {\n        function Serializer(_renderStore) {\n            this._renderStore = _renderStore;\n        }\n        Serializer.prototype.serialize = function (obj, type) {\n            var _this = this;\n            if (type === void 0) { type = 1 /* PRIMITIVE */; }\n            if (obj == null || type === 1 /* PRIMITIVE */) {\n                return obj;\n            }\n            if (Array.isArray(obj)) {\n                return obj.map(function (v) { return _this.serialize(v, type); });\n            }\n            if (type === 2 /* RENDER_STORE_OBJECT */) {\n                return this._renderStore.serialize(obj);\n            }\n            if (type === core.RenderComponentType) {\n                return this._serializeRenderComponentType(obj);\n            }\n            if (type === 0 /* RENDERER_TYPE_2 */) {\n                return this._serializeRendererType2(obj);\n            }\n            if (type === LocationType) {\n                return this._serializeLocation(obj);\n            }\n            throw new Error(\"No serializer for type \" + core.ɵstringify(type));\n        };\n        Serializer.prototype.deserialize = function (map, type, data) {\n            var _this = this;\n            if (type === void 0) { type = 1 /* PRIMITIVE */; }\n            if (map == null || type === 1 /* PRIMITIVE */) {\n                return map;\n            }\n            if (Array.isArray(map)) {\n                return map.map(function (val) { return _this.deserialize(val, type, data); });\n            }\n            if (type === 2 /* RENDER_STORE_OBJECT */) {\n                return this._renderStore.deserialize(map);\n            }\n            if (type === core.RenderComponentType) {\n                return this._deserializeRenderComponentType(map);\n            }\n            if (type === 0 /* RENDERER_TYPE_2 */) {\n                return this._deserializeRendererType2(map);\n            }\n            if (type === LocationType) {\n                return this._deserializeLocation(map);\n            }\n            throw new Error(\"No deserializer for type \" + core.ɵstringify(type));\n        };\n        Serializer.prototype._serializeLocation = function (loc) {\n            return {\n                'href': loc.href,\n                'protocol': loc.protocol,\n                'host': loc.host,\n                'hostname': loc.hostname,\n                'port': loc.port,\n                'pathname': loc.pathname,\n                'search': loc.search,\n                'hash': loc.hash,\n                'origin': loc.origin,\n            };\n        };\n        Serializer.prototype._deserializeLocation = function (loc) {\n            return new LocationType(loc['href'], loc['protocol'], loc['host'], loc['hostname'], loc['port'], loc['pathname'], loc['search'], loc['hash'], loc['origin']);\n        };\n        Serializer.prototype._serializeRenderComponentType = function (type) {\n            return {\n                'id': type.id,\n                'templateUrl': type.templateUrl,\n                'slotCount': type.slotCount,\n                'encapsulation': this.serialize(type.encapsulation),\n                'styles': this.serialize(type.styles),\n            };\n        };\n        Serializer.prototype._deserializeRenderComponentType = function (props) {\n            return new core.RenderComponentType(props['id'], props['templateUrl'], props['slotCount'], this.deserialize(props['encapsulation']), this.deserialize(props['styles']), {});\n        };\n        Serializer.prototype._serializeRendererType2 = function (type) {\n            return {\n                'id': type.id,\n                'encapsulation': this.serialize(type.encapsulation),\n                'styles': this.serialize(type.styles),\n                'data': this.serialize(type.data),\n            };\n        };\n        Serializer.prototype._deserializeRendererType2 = function (props) {\n            return {\n                id: props['id'],\n                encapsulation: props['encapsulation'],\n                styles: this.deserialize(props['styles']),\n                data: this.deserialize(props['data'])\n            };\n        };\n        Serializer = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [RenderStore])\n        ], Serializer);\n        return Serializer;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * @experimental WebWorker support in Angular is experimental.\n     */\n    var ClientMessageBrokerFactory = /** @class */ (function () {\n        /** @internal */\n        function ClientMessageBrokerFactory(_messageBus, _serializer) {\n            this._messageBus = _messageBus;\n            this._serializer = _serializer;\n        }\n        /**\n         * Initializes the given channel and attaches a new {@link ClientMessageBroker} to it.\n         */\n        ClientMessageBrokerFactory.prototype.createMessageBroker = function (channel, runInZone) {\n            if (runInZone === void 0) { runInZone = true; }\n            this._messageBus.initChannel(channel, runInZone);\n            return new ClientMessageBroker(this._messageBus, this._serializer, channel);\n        };\n        ClientMessageBrokerFactory = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [MessageBus, Serializer])\n        ], ClientMessageBrokerFactory);\n        return ClientMessageBrokerFactory;\n    }());\n    /**\n     * @experimental WebWorker support in Angular is experimental.\n     */\n    var ClientMessageBroker = /** @class */ (function () {\n        /** @internal */\n        function ClientMessageBroker(messageBus, _serializer, channel) {\n            var _this = this;\n            this.channel = channel;\n            this._pending = new Map();\n            this._sink = messageBus.to(channel);\n            this._serializer = _serializer;\n            var source = messageBus.from(channel);\n            source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n        }\n        ClientMessageBroker.prototype._generateMessageId = function (name) {\n            var time = core.ɵstringify(new Date().getTime());\n            var iteration = 0;\n            var id = name + time + core.ɵstringify(iteration);\n            while (this._pending.has(id)) {\n                id = \"\" + name + time + iteration;\n                iteration++;\n            }\n            return id;\n        };\n        ClientMessageBroker.prototype.runOnService = function (args, returnType) {\n            var _this = this;\n            var fnArgs = [];\n            if (args.args) {\n                args.args.forEach(function (argument) {\n                    if (argument.type != null) {\n                        fnArgs.push(_this._serializer.serialize(argument.value, argument.type));\n                    }\n                    else {\n                        fnArgs.push(argument.value);\n                    }\n                });\n            }\n            var promise;\n            var id = null;\n            if (returnType != null) {\n                var completer_1 = undefined;\n                promise = new Promise(function (resolve, reject) { completer_1 = { resolve: resolve, reject: reject }; });\n                id = this._generateMessageId(args.method);\n                this._pending.set(id, completer_1);\n                promise.catch(function (err) {\n                    if (console && console.error) {\n                        // tslint:disable-next-line:no-console\n                        console.error(err);\n                    }\n                    completer_1.reject(err);\n                });\n                promise = promise.then(function (v) { return _this._serializer ? _this._serializer.deserialize(v, returnType) : v; });\n            }\n            else {\n                promise = null;\n            }\n            var message = {\n                'method': args.method,\n                'args': fnArgs,\n            };\n            if (id != null) {\n                message['id'] = id;\n            }\n            this._sink.emit(message);\n            return promise;\n        };\n        ClientMessageBroker.prototype._handleMessage = function (message) {\n            if (message.type === 'result' || message.type === 'error') {\n                var id = message.id;\n                if (this._pending.has(id)) {\n                    if (message.type === 'result') {\n                        this._pending.get(id).resolve(message.value);\n                    }\n                    else {\n                        this._pending.get(id).reject(message.value);\n                    }\n                    this._pending.delete(id);\n                }\n            }\n        };\n        return ClientMessageBroker;\n    }());\n    /**\n     * @experimental WebWorker support in Angular is experimental.\n     */\n    var FnArg = /** @class */ (function () {\n        function FnArg(value, type) {\n            if (type === void 0) { type = 1 /* PRIMITIVE */; }\n            this.value = value;\n            this.type = type;\n        }\n        return FnArg;\n    }());\n    /**\n     * @experimental WebWorker support in Angular is experimental.\n     */\n    var UiArguments = /** @class */ (function () {\n        function UiArguments(method, args) {\n            this.method = method;\n            this.args = args;\n        }\n        return UiArguments;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var PostMessageBusSink = /** @class */ (function () {\n        function PostMessageBusSink(_postMessageTarget) {\n            this._postMessageTarget = _postMessageTarget;\n            this._channels = {};\n            this._messageBuffer = [];\n        }\n        PostMessageBusSink.prototype.attachToZone = function (zone) {\n            var _this = this;\n            this._zone = zone;\n            this._zone.runOutsideAngular(function () { _this._zone.onStable.subscribe({ next: function () { _this._handleOnEventDone(); } }); });\n        };\n        PostMessageBusSink.prototype.initChannel = function (channel, runInZone) {\n            var _this = this;\n            if (runInZone === void 0) { runInZone = true; }\n            if (this._channels.hasOwnProperty(channel)) {\n                throw new Error(channel + \" has already been initialized\");\n            }\n            var emitter = new core.EventEmitter(false);\n            var channelInfo = new _Channel(emitter, runInZone);\n            this._channels[channel] = channelInfo;\n            emitter.subscribe(function (data) {\n                var message = { channel: channel, message: data };\n                if (runInZone) {\n                    _this._messageBuffer.push(message);\n                }\n                else {\n                    _this._sendMessages([message]);\n                }\n            });\n        };\n        PostMessageBusSink.prototype.to = function (channel) {\n            if (this._channels.hasOwnProperty(channel)) {\n                return this._channels[channel].emitter;\n            }\n            else {\n                throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n            }\n        };\n        PostMessageBusSink.prototype._handleOnEventDone = function () {\n            if (this._messageBuffer.length > 0) {\n                this._sendMessages(this._messageBuffer);\n                this._messageBuffer = [];\n            }\n        };\n        PostMessageBusSink.prototype._sendMessages = function (messages) { this._postMessageTarget.postMessage(messages); };\n        return PostMessageBusSink;\n    }());\n    var PostMessageBusSource = /** @class */ (function () {\n        function PostMessageBusSource(eventTarget) {\n            var _this = this;\n            this._channels = {};\n            if (eventTarget) {\n                eventTarget.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n            }\n            else {\n                // if no eventTarget is given we assume we're in a WebWorker and listen on the global scope\n                var workerScope = self;\n                workerScope.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n            }\n        }\n        PostMessageBusSource.prototype.attachToZone = function (zone) { this._zone = zone; };\n        PostMessageBusSource.prototype.initChannel = function (channel, runInZone) {\n            if (runInZone === void 0) { runInZone = true; }\n            if (this._channels.hasOwnProperty(channel)) {\n                throw new Error(channel + \" has already been initialized\");\n            }\n            var emitter = new core.EventEmitter(false);\n            var channelInfo = new _Channel(emitter, runInZone);\n            this._channels[channel] = channelInfo;\n        };\n        PostMessageBusSource.prototype.from = function (channel) {\n            if (this._channels.hasOwnProperty(channel)) {\n                return this._channels[channel].emitter;\n            }\n            else {\n                throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n            }\n        };\n        PostMessageBusSource.prototype._handleMessages = function (ev) {\n            var messages = ev.data;\n            for (var i = 0; i < messages.length; i++) {\n                this._handleMessage(messages[i]);\n            }\n        };\n        PostMessageBusSource.prototype._handleMessage = function (data) {\n            var channel = data.channel;\n            if (this._channels.hasOwnProperty(channel)) {\n                var channelInfo_1 = this._channels[channel];\n                if (channelInfo_1.runInZone) {\n                    this._zone.run(function () { channelInfo_1.emitter.emit(data.message); });\n                }\n                else {\n                    channelInfo_1.emitter.emit(data.message);\n                }\n            }\n        };\n        return PostMessageBusSource;\n    }());\n    /**\n     * A TypeScript implementation of {@link MessageBus} for communicating via JavaScript's\n     * postMessage API.\n     */\n    var PostMessageBus = /** @class */ (function () {\n        function PostMessageBus(sink, source) {\n            this.sink = sink;\n            this.source = source;\n        }\n        PostMessageBus.prototype.attachToZone = function (zone) {\n            this.source.attachToZone(zone);\n            this.sink.attachToZone(zone);\n        };\n        PostMessageBus.prototype.initChannel = function (channel, runInZone) {\n            if (runInZone === void 0) { runInZone = true; }\n            this.source.initChannel(channel, runInZone);\n            this.sink.initChannel(channel, runInZone);\n        };\n        PostMessageBus.prototype.from = function (channel) { return this.source.from(channel); };\n        PostMessageBus.prototype.to = function (channel) { return this.sink.to(channel); };\n        PostMessageBus = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [PostMessageBusSink, PostMessageBusSource])\n        ], PostMessageBus);\n        return PostMessageBus;\n    }());\n    /**\n     * Helper class that wraps a channel's {@link EventEmitter} and\n     * keeps track of if it should run in the zone.\n     */\n    var _Channel = /** @class */ (function () {\n        function _Channel(emitter, runInZone) {\n            this.emitter = emitter;\n            this.runInZone = runInZone;\n        }\n        return _Channel;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * @experimental WebWorker support in Angular is currently experimental.\n     */\n    var ServiceMessageBrokerFactory = /** @class */ (function () {\n        /** @internal */\n        function ServiceMessageBrokerFactory(_messageBus, _serializer) {\n            this._messageBus = _messageBus;\n            this._serializer = _serializer;\n        }\n        /**\n         * Initializes the given channel and attaches a new {@link ServiceMessageBroker} to it.\n         */\n        ServiceMessageBrokerFactory.prototype.createMessageBroker = function (channel, runInZone) {\n            if (runInZone === void 0) { runInZone = true; }\n            this._messageBus.initChannel(channel, runInZone);\n            return new ServiceMessageBroker(this._messageBus, this._serializer, channel);\n        };\n        ServiceMessageBrokerFactory = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [MessageBus, Serializer])\n        ], ServiceMessageBrokerFactory);\n        return ServiceMessageBrokerFactory;\n    }());\n    /**\n     * Helper class for UIComponents that allows components to register methods.\n     * If a registered method message is received from the broker on the worker,\n     * the UIMessageBroker deserializes its arguments and calls the registered method.\n     * If that method returns a promise, the UIMessageBroker returns the result to the worker.\n     *\n     * @experimental WebWorker support in Angular is currently experimental.\n     */\n    var ServiceMessageBroker = /** @class */ (function () {\n        /** @internal */\n        function ServiceMessageBroker(messageBus, _serializer, channel) {\n            var _this = this;\n            this._serializer = _serializer;\n            this.channel = channel;\n            this._methods = new Map();\n            this._sink = messageBus.to(channel);\n            var source = messageBus.from(channel);\n            source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n        }\n        ServiceMessageBroker.prototype.registerMethod = function (methodName, signature, method, returnType) {\n            var _this = this;\n            this._methods.set(methodName, function (message) {\n                var serializedArgs = message.args;\n                var numArgs = signature ? signature.length : 0;\n                var deserializedArgs = new Array(numArgs);\n                for (var i = 0; i < numArgs; i++) {\n                    var serializedArg = serializedArgs[i];\n                    deserializedArgs[i] = _this._serializer.deserialize(serializedArg, signature[i]);\n                }\n                var promise = method.apply(void 0, __spread(deserializedArgs));\n                if (returnType && promise) {\n                    _this._wrapWebWorkerPromise(message.id, promise, returnType);\n                }\n            });\n        };\n        ServiceMessageBroker.prototype._handleMessage = function (message) {\n            if (this._methods.has(message.method)) {\n                this._methods.get(message.method)(message);\n            }\n        };\n        ServiceMessageBroker.prototype._wrapWebWorkerPromise = function (id, promise, type) {\n            var _this = this;\n            promise.then(function (result) {\n                _this._sink.emit({\n                    'type': 'result',\n                    'value': _this._serializer.serialize(result, type),\n                    'id': id,\n                });\n            });\n        };\n        return ServiceMessageBroker;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * All channels used by angular's WebWorker components are listed here.\n     * You should not use these channels in your application code.\n     */\n    var RENDERER_2_CHANNEL = 'v2.ng-Renderer';\n    var EVENT_2_CHANNEL = 'v2.ng-Events';\n    var ROUTER_CHANNEL = 'ng-Router';\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var MOUSE_EVENT_PROPERTIES = [\n        'altKey', 'button', 'clientX', 'clientY', 'metaKey', 'movementX', 'movementY', 'offsetX',\n        'offsetY', 'region', 'screenX', 'screenY', 'shiftKey'\n    ];\n    var KEYBOARD_EVENT_PROPERTIES = [\n        'altkey', 'charCode', 'code', 'ctrlKey', 'isComposing', 'key', 'keyCode', 'location', 'metaKey',\n        'repeat', 'shiftKey', 'which'\n    ];\n    var TRANSITION_EVENT_PROPERTIES = ['propertyName', 'elapsedTime', 'pseudoElement'];\n    var EVENT_PROPERTIES = ['type', 'bubbles', 'cancelable'];\n    var NODES_WITH_VALUE = new Set(['input', 'select', 'option', 'button', 'li', 'meter', 'progress', 'param', 'textarea']);\n    function serializeGenericEvent(e) {\n        return serializeEvent(e, EVENT_PROPERTIES);\n    }\n    // TODO(jteplitz602): Allow users to specify the properties they need rather than always\n    // adding value and files #3374\n    function serializeEventWithTarget(e) {\n        var serializedEvent = serializeEvent(e, EVENT_PROPERTIES);\n        return addTarget(e, serializedEvent);\n    }\n    function serializeMouseEvent(e) {\n        return serializeEvent(e, MOUSE_EVENT_PROPERTIES);\n    }\n    function serializeKeyboardEvent(e) {\n        var serializedEvent = serializeEvent(e, KEYBOARD_EVENT_PROPERTIES);\n        return addTarget(e, serializedEvent);\n    }\n    function serializeTransitionEvent(e) {\n        var serializedEvent = serializeEvent(e, TRANSITION_EVENT_PROPERTIES);\n        return addTarget(e, serializedEvent);\n    }\n    // TODO(jteplitz602): #3374. See above.\n    function addTarget(e, serializedEvent) {\n        if (NODES_WITH_VALUE.has(e.target.tagName.toLowerCase())) {\n            var target = e.target;\n            serializedEvent['target'] = { 'value': target.value };\n            if (target.files) {\n                serializedEvent['target']['files'] = target.files;\n            }\n        }\n        return serializedEvent;\n    }\n    function serializeEvent(e, properties) {\n        var serialized = {};\n        for (var i = 0; i < properties.length; i++) {\n            var prop = properties[i];\n            serialized[prop] = e[prop];\n        }\n        return serialized;\n    }\n\n    var EventDispatcher = /** @class */ (function () {\n        function EventDispatcher(_sink, _serializer) {\n            this._sink = _sink;\n            this._serializer = _serializer;\n        }\n        EventDispatcher.prototype.dispatchAnimationEvent = function (player, phaseName, element) {\n            this._sink.emit({\n                'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n                'animationPlayer': this._serializer.serialize(player, 2 /* RENDER_STORE_OBJECT */),\n                'phaseName': phaseName,\n            });\n            return true;\n        };\n        EventDispatcher.prototype.dispatchRenderEvent = function (element, eventTarget, eventName, event) {\n            var serializedEvent;\n            // TODO (jteplitz602): support custom events #3350\n            switch (event.type) {\n                case 'click':\n                case 'mouseup':\n                case 'mousedown':\n                case 'dblclick':\n                case 'contextmenu':\n                case 'mouseenter':\n                case 'mouseleave':\n                case 'mousemove':\n                case 'mouseout':\n                case 'mouseover':\n                case 'show':\n                    serializedEvent = serializeMouseEvent(event);\n                    break;\n                case 'keydown':\n                case 'keypress':\n                case 'keyup':\n                    serializedEvent = serializeKeyboardEvent(event);\n                    break;\n                case 'input':\n                case 'change':\n                case 'blur':\n                    serializedEvent = serializeEventWithTarget(event);\n                    break;\n                case 'abort':\n                case 'afterprint':\n                case 'beforeprint':\n                case 'cached':\n                case 'canplay':\n                case 'canplaythrough':\n                case 'chargingchange':\n                case 'chargingtimechange':\n                case 'close':\n                case 'dischargingtimechange':\n                case 'DOMContentLoaded':\n                case 'downloading':\n                case 'durationchange':\n                case 'emptied':\n                case 'ended':\n                case 'error':\n                case 'fullscreenchange':\n                case 'fullscreenerror':\n                case 'invalid':\n                case 'languagechange':\n                case 'levelfchange':\n                case 'loadeddata':\n                case 'loadedmetadata':\n                case 'obsolete':\n                case 'offline':\n                case 'online':\n                case 'open':\n                case 'orientatoinchange':\n                case 'pause':\n                case 'pointerlockchange':\n                case 'pointerlockerror':\n                case 'play':\n                case 'playing':\n                case 'ratechange':\n                case 'readystatechange':\n                case 'reset':\n                case 'scroll':\n                case 'seeked':\n                case 'seeking':\n                case 'stalled':\n                case 'submit':\n                case 'success':\n                case 'suspend':\n                case 'timeupdate':\n                case 'updateready':\n                case 'visibilitychange':\n                case 'volumechange':\n                case 'waiting':\n                    serializedEvent = serializeGenericEvent(event);\n                    break;\n                case 'transitionend':\n                    serializedEvent = serializeTransitionEvent(event);\n                    break;\n                default:\n                    throw new Error(eventName + ' not supported on WebWorkers');\n            }\n            this._sink.emit({\n                'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n                'eventName': eventName,\n                'eventTarget': eventTarget,\n                'event': serializedEvent,\n            });\n            // TODO(kegluneq): Eventually, we want the user to indicate from the UI side whether the event\n            // should be canceled, but for now just call `preventDefault` on the original DOM event.\n            return false;\n        };\n        return EventDispatcher;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var MessageBasedRenderer2 = /** @class */ (function () {\n        function MessageBasedRenderer2(_brokerFactory, _bus, _serializer, _renderStore, _rendererFactory) {\n            this._brokerFactory = _brokerFactory;\n            this._bus = _bus;\n            this._serializer = _serializer;\n            this._renderStore = _renderStore;\n            this._rendererFactory = _rendererFactory;\n        }\n        MessageBasedRenderer2.prototype.start = function () {\n            var _this = this;\n            var broker = this._brokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n            this._bus.initChannel(EVENT_2_CHANNEL);\n            this._eventDispatcher = new EventDispatcher(this._bus.to(EVENT_2_CHANNEL), this._serializer);\n            var _a = __read([\n                2 /* RENDER_STORE_OBJECT */,\n                1 /* PRIMITIVE */,\n                0 /* RENDERER_TYPE_2 */,\n            ], 3), RSO = _a[0], P = _a[1], CRT = _a[2];\n            var methods = [\n                ['createRenderer', this.createRenderer, RSO, CRT, P],\n                ['createElement', this.createElement, RSO, P, P, P],\n                ['createComment', this.createComment, RSO, P, P], ['createText', this.createText, RSO, P, P],\n                ['appendChild', this.appendChild, RSO, RSO, RSO],\n                ['insertBefore', this.insertBefore, RSO, RSO, RSO, RSO],\n                ['removeChild', this.removeChild, RSO, RSO, RSO],\n                ['selectRootElement', this.selectRootElement, RSO, P, P],\n                ['parentNode', this.parentNode, RSO, RSO, P], ['nextSibling', this.nextSibling, RSO, RSO, P],\n                ['setAttribute', this.setAttribute, RSO, RSO, P, P, P],\n                ['removeAttribute', this.removeAttribute, RSO, RSO, P, P],\n                ['addClass', this.addClass, RSO, RSO, P], ['removeClass', this.removeClass, RSO, RSO, P],\n                ['setStyle', this.setStyle, RSO, RSO, P, P, P],\n                ['removeStyle', this.removeStyle, RSO, RSO, P, P],\n                ['setProperty', this.setProperty, RSO, RSO, P, P], ['setValue', this.setValue, RSO, RSO, P],\n                ['listen', this.listen, RSO, RSO, P, P, P], ['unlisten', this.unlisten, RSO, RSO],\n                ['destroy', this.destroy, RSO], ['destroyNode', this.destroyNode, RSO, P]\n            ];\n            methods.forEach(function (_a) {\n                var _b = __read(_a), name = _b[0], method = _b[1], argTypes = _b.slice(2);\n                broker.registerMethod(name, argTypes, method.bind(_this));\n            });\n        };\n        MessageBasedRenderer2.prototype.destroy = function (r) { r.destroy(); };\n        MessageBasedRenderer2.prototype.destroyNode = function (r, node) {\n            if (r.destroyNode) {\n                r.destroyNode(node);\n            }\n            this._renderStore.remove(node);\n        };\n        MessageBasedRenderer2.prototype.createRenderer = function (el, type, id) {\n            this._renderStore.store(this._rendererFactory.createRenderer(el, type), id);\n        };\n        MessageBasedRenderer2.prototype.createElement = function (r, name, namespace, id) {\n            this._renderStore.store(r.createElement(name, namespace), id);\n        };\n        MessageBasedRenderer2.prototype.createComment = function (r, value, id) {\n            this._renderStore.store(r.createComment(value), id);\n        };\n        MessageBasedRenderer2.prototype.createText = function (r, value, id) {\n            this._renderStore.store(r.createText(value), id);\n        };\n        MessageBasedRenderer2.prototype.appendChild = function (r, parent, child) { r.appendChild(parent, child); };\n        MessageBasedRenderer2.prototype.insertBefore = function (r, parent, child, ref) {\n            r.insertBefore(parent, child, ref);\n        };\n        MessageBasedRenderer2.prototype.removeChild = function (r, parent, child) { r.removeChild(parent, child); };\n        MessageBasedRenderer2.prototype.selectRootElement = function (r, selector, id) {\n            this._renderStore.store(r.selectRootElement(selector), id);\n        };\n        MessageBasedRenderer2.prototype.parentNode = function (r, node, id) {\n            this._renderStore.store(r.parentNode(node), id);\n        };\n        MessageBasedRenderer2.prototype.nextSibling = function (r, node, id) {\n            this._renderStore.store(r.nextSibling(node), id);\n        };\n        MessageBasedRenderer2.prototype.setAttribute = function (r, el, name, value, namespace) {\n            r.setAttribute(el, name, value, namespace);\n        };\n        MessageBasedRenderer2.prototype.removeAttribute = function (r, el, name, namespace) {\n            r.removeAttribute(el, name, namespace);\n        };\n        MessageBasedRenderer2.prototype.addClass = function (r, el, name) { r.addClass(el, name); };\n        MessageBasedRenderer2.prototype.removeClass = function (r, el, name) { r.removeClass(el, name); };\n        MessageBasedRenderer2.prototype.setStyle = function (r, el, style, value, flags) {\n            r.setStyle(el, style, value, flags);\n        };\n        MessageBasedRenderer2.prototype.removeStyle = function (r, el, style, flags) {\n            r.removeStyle(el, style, flags);\n        };\n        MessageBasedRenderer2.prototype.setProperty = function (r, el, name, value) {\n            r.setProperty(el, name, value);\n        };\n        MessageBasedRenderer2.prototype.setValue = function (r, node, value) { r.setValue(node, value); };\n        MessageBasedRenderer2.prototype.listen = function (r, el, elName, eventName, unlistenId) {\n            var _this = this;\n            var listener = function (event) {\n                return _this._eventDispatcher.dispatchRenderEvent(el, elName, eventName, event);\n            };\n            var unlisten = r.listen(el || elName, eventName, listener);\n            this._renderStore.store(unlisten, unlistenId);\n        };\n        MessageBasedRenderer2.prototype.unlisten = function (r, unlisten) { unlisten(); };\n        MessageBasedRenderer2 = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [ServiceMessageBrokerFactory, MessageBus,\n                Serializer, RenderStore,\n                core.RendererFactory2])\n        ], MessageBasedRenderer2);\n        return MessageBasedRenderer2;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Wrapper class that exposes the Worker\n     * and underlying {@link MessageBus} for lower level message passing.\n     *\n     * @experimental WebWorker support is currently experimental.\n     */\n    var WebWorkerInstance = /** @class */ (function () {\n        function WebWorkerInstance() {\n        }\n        /** @internal */\n        WebWorkerInstance.prototype.init = function (worker, bus) {\n            this.worker = worker;\n            this.bus = bus;\n        };\n        WebWorkerInstance = __decorate([\n            core.Injectable()\n        ], WebWorkerInstance);\n        return WebWorkerInstance;\n    }());\n    /**\n     * @experimental WebWorker support is currently experimental.\n     */\n    var WORKER_SCRIPT = new core.InjectionToken('WebWorkerScript');\n    /**\n     * A multi-provider used to automatically call the `start()` method after the service is\n     * created.\n     *\n     * @experimental WebWorker support is currently experimental.\n     */\n    var WORKER_UI_STARTABLE_MESSAGING_SERVICE = new core.InjectionToken('WorkerRenderStartableMsgService');\n    var _WORKER_UI_PLATFORM_PROVIDERS = [\n        { provide: core.NgZone, useFactory: createNgZone, deps: [] },\n        {\n            provide: MessageBasedRenderer2,\n            deps: [ServiceMessageBrokerFactory, MessageBus, Serializer, RenderStore, core.RendererFactory2]\n        },\n        { provide: WORKER_UI_STARTABLE_MESSAGING_SERVICE, useExisting: MessageBasedRenderer2, multi: true },\n        platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n        { provide: core.ErrorHandler, useFactory: _exceptionHandler, deps: [] },\n        { provide: platformBrowser.DOCUMENT, useFactory: _document, deps: [] },\n        // TODO(jteplitz602): Investigate if we definitely need EVENT_MANAGER on the render thread\n        // #5298\n        {\n            provide: platformBrowser.EVENT_MANAGER_PLUGINS,\n            useClass: platformBrowser.ɵDomEventsPlugin,\n            deps: [platformBrowser.DOCUMENT, core.NgZone],\n            multi: true\n        },\n        { provide: platformBrowser.EVENT_MANAGER_PLUGINS, useClass: platformBrowser.ɵKeyEventsPlugin, deps: [platformBrowser.DOCUMENT], multi: true },\n        {\n            provide: platformBrowser.EVENT_MANAGER_PLUGINS,\n            useClass: platformBrowser.ɵHammerGesturesPlugin,\n            deps: [platformBrowser.DOCUMENT, platformBrowser.HAMMER_GESTURE_CONFIG],\n            multi: true\n        },\n        { provide: platformBrowser.HAMMER_GESTURE_CONFIG, useClass: platformBrowser.HammerGestureConfig, deps: [] },\n        core.ɵAPP_ID_RANDOM_PROVIDER,\n        { provide: platformBrowser.ɵDomRendererFactory2, deps: [platformBrowser.EventManager, platformBrowser.ɵDomSharedStylesHost] },\n        { provide: core.RendererFactory2, useExisting: platformBrowser.ɵDomRendererFactory2 },\n        { provide: platformBrowser.ɵSharedStylesHost, useExisting: platformBrowser.ɵDomSharedStylesHost },\n        {\n            provide: ServiceMessageBrokerFactory,\n            useClass: ServiceMessageBrokerFactory,\n            deps: [MessageBus, Serializer]\n        },\n        {\n            provide: ClientMessageBrokerFactory,\n            useClass: ClientMessageBrokerFactory,\n            deps: [MessageBus, Serializer]\n        },\n        { provide: Serializer, deps: [RenderStore] },\n        { provide: ON_WEB_WORKER, useValue: false },\n        { provide: RenderStore, deps: [] },\n        { provide: platformBrowser.ɵDomSharedStylesHost, deps: [platformBrowser.DOCUMENT] },\n        { provide: core.Testability, deps: [core.NgZone] },\n        { provide: platformBrowser.EventManager, deps: [platformBrowser.EVENT_MANAGER_PLUGINS, core.NgZone] },\n        { provide: WebWorkerInstance, deps: [] },\n        {\n            provide: core.PLATFORM_INITIALIZER,\n            useFactory: initWebWorkerRenderPlatform,\n            multi: true,\n            deps: [core.Injector]\n        },\n        { provide: core.PLATFORM_ID, useValue: common.ɵPLATFORM_WORKER_UI_ID },\n        { provide: MessageBus, useFactory: messageBusFactory, deps: [WebWorkerInstance] },\n    ];\n    function initializeGenericWorkerRenderer(injector) {\n        var bus = injector.get(MessageBus);\n        var zone = injector.get(core.NgZone);\n        bus.attachToZone(zone);\n        // initialize message services after the bus has been created\n        var services = injector.get(WORKER_UI_STARTABLE_MESSAGING_SERVICE);\n        zone.runGuarded(function () { services.forEach(function (svc) { svc.start(); }); });\n    }\n    function messageBusFactory(instance) {\n        return instance.bus;\n    }\n    function initWebWorkerRenderPlatform(injector) {\n        return function () {\n            platformBrowser.ɵBrowserDomAdapter.makeCurrent();\n            platformBrowser.ɵBrowserGetTestability.init();\n            var scriptUri;\n            try {\n                scriptUri = injector.get(WORKER_SCRIPT);\n            }\n            catch (e) {\n                throw new Error('You must provide your WebWorker\\'s initialization script with the WORKER_SCRIPT token');\n            }\n            var instance = injector.get(WebWorkerInstance);\n            spawnWebWorker(scriptUri, instance);\n            initializeGenericWorkerRenderer(injector);\n        };\n    }\n    /**\n     * @experimental WebWorker support is currently experimental.\n     */\n    var platformWorkerUi = core.createPlatformFactory(core.platformCore, 'workerUi', _WORKER_UI_PLATFORM_PROVIDERS);\n    function _exceptionHandler() {\n        return new core.ErrorHandler();\n    }\n    function _document() {\n        return document;\n    }\n    function createNgZone() {\n        return new core.NgZone({ enableLongStackTrace: core.isDevMode() });\n    }\n    /**\n     * Spawns a new class and initializes the WebWorkerInstance\n     */\n    function spawnWebWorker(uri, instance) {\n        var webWorker = new Worker(uri);\n        var sink = new PostMessageBusSink(webWorker);\n        var source = new PostMessageBusSource(webWorker);\n        var bus = new PostMessageBus(sink, source);\n        instance.init(webWorker, bus);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var VERSION = new core.Version('7.0.0-rc.0+63.sha-55d54c7');\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var MessageBasedPlatformLocation = /** @class */ (function () {\n        function MessageBasedPlatformLocation(_brokerFactory, _platformLocation, bus, _serializer) {\n            this._brokerFactory = _brokerFactory;\n            this._platformLocation = _platformLocation;\n            this._serializer = _serializer;\n            this._platformLocation.onPopState(this._sendUrlChangeEvent.bind(this));\n            this._platformLocation.onHashChange(this._sendUrlChangeEvent.bind(this));\n            this._broker = this._brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n            this._channelSink = bus.to(ROUTER_CHANNEL);\n        }\n        MessageBasedPlatformLocation.prototype.start = function () {\n            var P = 1 /* PRIMITIVE */;\n            this._broker.registerMethod('getLocation', null, this._getLocation.bind(this), LocationType);\n            this._broker.registerMethod('setPathname', [P], this._setPathname.bind(this));\n            this._broker.registerMethod('pushState', [P, P, P], this._platformLocation.pushState.bind(this._platformLocation));\n            this._broker.registerMethod('replaceState', [P, P, P], this._platformLocation.replaceState.bind(this._platformLocation));\n            this._broker.registerMethod('forward', null, this._platformLocation.forward.bind(this._platformLocation));\n            this._broker.registerMethod('back', null, this._platformLocation.back.bind(this._platformLocation));\n        };\n        MessageBasedPlatformLocation.prototype._getLocation = function () {\n            return Promise.resolve(this._platformLocation.location);\n        };\n        MessageBasedPlatformLocation.prototype._sendUrlChangeEvent = function (e) {\n            this._channelSink.emit({\n                'event': { 'type': e.type },\n                'location': this._serializer.serialize(this._platformLocation.location, LocationType),\n            });\n        };\n        MessageBasedPlatformLocation.prototype._setPathname = function (pathname) { this._platformLocation.pathname = pathname; };\n        MessageBasedPlatformLocation = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [ServiceMessageBrokerFactory,\n                platformBrowser.ɵBrowserPlatformLocation, MessageBus,\n                Serializer])\n        ], MessageBasedPlatformLocation);\n        return MessageBasedPlatformLocation;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * A list of {@link Provider}s. To use the router in a Worker enabled application you must\n     * include these providers when setting up the render thread.\n     * @experimental\n     */\n    var WORKER_UI_LOCATION_PROVIDERS = [\n        { provide: MessageBasedPlatformLocation, deps: [ServiceMessageBrokerFactory,\n                platformBrowser.ɵBrowserPlatformLocation, MessageBus, Serializer] },\n        { provide: platformBrowser.ɵBrowserPlatformLocation, deps: [common.DOCUMENT] },\n        { provide: core.PLATFORM_INITIALIZER, useFactory: initUiLocation, multi: true, deps: [core.Injector] }\n    ];\n    function initUiLocation(injector) {\n        return function () {\n            var zone = injector.get(core.NgZone);\n            zone.runGuarded(function () { return injector.get(MessageBasedPlatformLocation).start(); });\n        };\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var WebWorkerPlatformLocation = /** @class */ (function (_super) {\n        __extends(WebWorkerPlatformLocation, _super);\n        function WebWorkerPlatformLocation(brokerFactory, bus, _serializer) {\n            var _this = _super.call(this) || this;\n            _this._serializer = _serializer;\n            _this._popStateListeners = [];\n            _this._hashChangeListeners = [];\n            _this._location = null;\n            _this._broker = brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n            _this._channelSource = bus.from(ROUTER_CHANNEL);\n            _this._channelSource.subscribe({\n                next: function (msg) {\n                    var listeners = null;\n                    if (msg.hasOwnProperty('event')) {\n                        var type = msg['event']['type'];\n                        if (type === 'popstate') {\n                            listeners = _this._popStateListeners;\n                        }\n                        else if (type === 'hashchange') {\n                            listeners = _this._hashChangeListeners;\n                        }\n                        if (listeners) {\n                            // There was a popState or hashChange event, so the location object thas been updated\n                            _this._location = _this._serializer.deserialize(msg['location'], LocationType);\n                            listeners.forEach(function (fn) { return fn(msg['event']); });\n                        }\n                    }\n                }\n            });\n            _this.initialized = new Promise(function (res) { return _this.initializedResolve = res; });\n            return _this;\n        }\n        /** @internal **/\n        WebWorkerPlatformLocation.prototype.init = function () {\n            var _this = this;\n            var args = new UiArguments('getLocation');\n            return this._broker.runOnService(args, LocationType).then(function (val) {\n                _this._location = val;\n                _this.initializedResolve();\n                return true;\n            }, function (err) { throw new Error(err); });\n        };\n        WebWorkerPlatformLocation.prototype.getBaseHrefFromDOM = function () {\n            throw new Error('Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.');\n        };\n        WebWorkerPlatformLocation.prototype.onPopState = function (fn) { this._popStateListeners.push(fn); };\n        WebWorkerPlatformLocation.prototype.onHashChange = function (fn) { this._hashChangeListeners.push(fn); };\n        Object.defineProperty(WebWorkerPlatformLocation.prototype, \"pathname\", {\n            get: function () { return this._location ? this._location.pathname : '<unknown>'; },\n            set: function (newPath) {\n                if (this._location === null) {\n                    throw new Error('Attempt to set pathname before value is obtained from UI');\n                }\n                this._location.pathname = newPath;\n                var fnArgs = [new FnArg(newPath, 1 /* PRIMITIVE */)];\n                var args = new UiArguments('setPathname', fnArgs);\n                this._broker.runOnService(args, null);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WebWorkerPlatformLocation.prototype, \"search\", {\n            get: function () { return this._location ? this._location.search : '<unknown>'; },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(WebWorkerPlatformLocation.prototype, \"hash\", {\n            get: function () { return this._location ? this._location.hash : '<unknown>'; },\n            enumerable: true,\n            configurable: true\n        });\n        WebWorkerPlatformLocation.prototype.pushState = function (state, title, url) {\n            var fnArgs = [\n                new FnArg(state, 1 /* PRIMITIVE */),\n                new FnArg(title, 1 /* PRIMITIVE */),\n                new FnArg(url, 1 /* PRIMITIVE */),\n            ];\n            var args = new UiArguments('pushState', fnArgs);\n            this._broker.runOnService(args, null);\n        };\n        WebWorkerPlatformLocation.prototype.replaceState = function (state, title, url) {\n            var fnArgs = [\n                new FnArg(state, 1 /* PRIMITIVE */),\n                new FnArg(title, 1 /* PRIMITIVE */),\n                new FnArg(url, 1 /* PRIMITIVE */),\n            ];\n            var args = new UiArguments('replaceState', fnArgs);\n            this._broker.runOnService(args, null);\n        };\n        WebWorkerPlatformLocation.prototype.forward = function () {\n            var args = new UiArguments('forward');\n            this._broker.runOnService(args, null);\n        };\n        WebWorkerPlatformLocation.prototype.back = function () {\n            var args = new UiArguments('back');\n            this._broker.runOnService(args, null);\n        };\n        WebWorkerPlatformLocation = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [ClientMessageBrokerFactory, MessageBus, Serializer])\n        ], WebWorkerPlatformLocation);\n        return WebWorkerPlatformLocation;\n    }(common.PlatformLocation));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * The {@link PlatformLocation} providers that should be added when the {@link Location} is used in\n     * a worker context.\n     *\n     * @experimental\n     */\n    var WORKER_APP_LOCATION_PROVIDERS = [\n        { provide: common.PlatformLocation, useClass: WebWorkerPlatformLocation }, {\n            provide: core.APP_INITIALIZER,\n            useFactory: appInitFnFactory,\n            multi: true,\n            deps: [common.PlatformLocation, core.NgZone]\n        },\n        { provide: common.LOCATION_INITIALIZED, useFactory: locationInitialized, deps: [common.PlatformLocation] }\n    ];\n    function locationInitialized(platformLocation) {\n        return platformLocation.initialized;\n    }\n    function appInitFnFactory(platformLocation, zone) {\n        return function () { return zone.runGuarded(function () { return platformLocation.init(); }); };\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var NamedEventEmitter = /** @class */ (function () {\n        function NamedEventEmitter() {\n        }\n        NamedEventEmitter.prototype.listen = function (eventName, callback) { this._getListeners(eventName).push(callback); };\n        NamedEventEmitter.prototype.unlisten = function (eventName, listener) {\n            var listeners = this._getListeners(eventName);\n            var index = listeners.indexOf(listener);\n            if (index > -1) {\n                listeners.splice(index, 1);\n            }\n        };\n        NamedEventEmitter.prototype.dispatchEvent = function (eventName, event) {\n            var listeners = this._getListeners(eventName);\n            for (var i = 0; i < listeners.length; i++) {\n                listeners[i](event);\n            }\n        };\n        NamedEventEmitter.prototype._getListeners = function (eventName) {\n            if (!this._listeners) {\n                this._listeners = new Map();\n            }\n            var listeners = this._listeners.get(eventName);\n            if (!listeners) {\n                listeners = [];\n                this._listeners.set(eventName, listeners);\n            }\n            return listeners;\n        };\n        return NamedEventEmitter;\n    }());\n    function eventNameWithTarget(target, eventName) {\n        return target + \":\" + eventName;\n    }\n    var WebWorkerRendererFactory2 = /** @class */ (function () {\n        function WebWorkerRendererFactory2(messageBrokerFactory, bus, _serializer, renderStore) {\n            var _this = this;\n            this._serializer = _serializer;\n            this.renderStore = renderStore;\n            this.globalEvents = new NamedEventEmitter();\n            this._messageBroker = messageBrokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n            bus.initChannel(EVENT_2_CHANNEL);\n            var source = bus.from(EVENT_2_CHANNEL);\n            source.subscribe({ next: function (message) { return _this._dispatchEvent(message); } });\n        }\n        WebWorkerRendererFactory2.prototype.createRenderer = function (element, type) {\n            var renderer = new WebWorkerRenderer2(this);\n            var id = this.renderStore.allocateId();\n            this.renderStore.store(renderer, id);\n            this.callUI('createRenderer', [\n                new FnArg(element, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(type, 0 /* RENDERER_TYPE_2 */),\n                new FnArg(renderer, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n            return renderer;\n        };\n        WebWorkerRendererFactory2.prototype.begin = function () { };\n        WebWorkerRendererFactory2.prototype.end = function () { };\n        WebWorkerRendererFactory2.prototype.callUI = function (fnName, fnArgs) {\n            var args = new UiArguments(fnName, fnArgs);\n            this._messageBroker.runOnService(args, null);\n        };\n        WebWorkerRendererFactory2.prototype.allocateNode = function () {\n            var result = new WebWorkerRenderNode();\n            var id = this.renderStore.allocateId();\n            this.renderStore.store(result, id);\n            return result;\n        };\n        WebWorkerRendererFactory2.prototype.freeNode = function (node) { this.renderStore.remove(node); };\n        WebWorkerRendererFactory2.prototype.allocateId = function () { return this.renderStore.allocateId(); };\n        WebWorkerRendererFactory2.prototype._dispatchEvent = function (message) {\n            var element = this._serializer.deserialize(message['element'], 2 /* RENDER_STORE_OBJECT */);\n            var eventName = message['eventName'];\n            var target = message['eventTarget'];\n            var event = message['event'];\n            if (target) {\n                this.globalEvents.dispatchEvent(eventNameWithTarget(target, eventName), event);\n            }\n            else {\n                element.events.dispatchEvent(eventName, event);\n            }\n        };\n        WebWorkerRendererFactory2 = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [ClientMessageBrokerFactory, MessageBus,\n                Serializer, RenderStore])\n        ], WebWorkerRendererFactory2);\n        return WebWorkerRendererFactory2;\n    }());\n    var WebWorkerRenderer2 = /** @class */ (function () {\n        function WebWorkerRenderer2(_rendererFactory) {\n            this._rendererFactory = _rendererFactory;\n            this.data = Object.create(null);\n            this.asFnArg = new FnArg(this, 2 /* RENDER_STORE_OBJECT */);\n        }\n        WebWorkerRenderer2.prototype.destroy = function () { this.callUIWithRenderer('destroy'); };\n        WebWorkerRenderer2.prototype.destroyNode = function (node) {\n            this.callUIWithRenderer('destroyNode', [new FnArg(node, 2 /* RENDER_STORE_OBJECT */)]);\n            this._rendererFactory.freeNode(node);\n        };\n        WebWorkerRenderer2.prototype.createElement = function (name, namespace) {\n            var node = this._rendererFactory.allocateNode();\n            this.callUIWithRenderer('createElement', [\n                new FnArg(name),\n                new FnArg(namespace),\n                new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n            return node;\n        };\n        WebWorkerRenderer2.prototype.createComment = function (value) {\n            var node = this._rendererFactory.allocateNode();\n            this.callUIWithRenderer('createComment', [\n                new FnArg(value),\n                new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n            return node;\n        };\n        WebWorkerRenderer2.prototype.createText = function (value) {\n            var node = this._rendererFactory.allocateNode();\n            this.callUIWithRenderer('createText', [\n                new FnArg(value),\n                new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n            return node;\n        };\n        WebWorkerRenderer2.prototype.appendChild = function (parent, newChild) {\n            this.callUIWithRenderer('appendChild', [\n                new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.insertBefore = function (parent, newChild, refChild) {\n            if (!parent) {\n                return;\n            }\n            this.callUIWithRenderer('insertBefore', [\n                new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(refChild, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.removeChild = function (parent, oldChild) {\n            this.callUIWithRenderer('removeChild', [\n                new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(oldChild, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.selectRootElement = function (selectorOrNode) {\n            var node = this._rendererFactory.allocateNode();\n            this.callUIWithRenderer('selectRootElement', [\n                new FnArg(selectorOrNode),\n                new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n            return node;\n        };\n        WebWorkerRenderer2.prototype.parentNode = function (node) {\n            var res = this._rendererFactory.allocateNode();\n            this.callUIWithRenderer('parentNode', [\n                new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n            return res;\n        };\n        WebWorkerRenderer2.prototype.nextSibling = function (node) {\n            var res = this._rendererFactory.allocateNode();\n            this.callUIWithRenderer('nextSibling', [\n                new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n            ]);\n            return res;\n        };\n        WebWorkerRenderer2.prototype.setAttribute = function (el, name, value, namespace) {\n            this.callUIWithRenderer('setAttribute', [\n                new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(name),\n                new FnArg(value),\n                new FnArg(namespace),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.removeAttribute = function (el, name, namespace) {\n            this.callUIWithRenderer('removeAttribute', [\n                new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(name),\n                new FnArg(namespace),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.addClass = function (el, name) {\n            this.callUIWithRenderer('addClass', [\n                new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(name),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.removeClass = function (el, name) {\n            this.callUIWithRenderer('removeClass', [\n                new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(name),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.setStyle = function (el, style, value, flags) {\n            this.callUIWithRenderer('setStyle', [\n                new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(style),\n                new FnArg(value),\n                new FnArg(flags),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.removeStyle = function (el, style, flags) {\n            this.callUIWithRenderer('removeStyle', [\n                new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(style),\n                new FnArg(flags),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.setProperty = function (el, name, value) {\n            this.callUIWithRenderer('setProperty', [\n                new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(name),\n                new FnArg(value),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.setValue = function (node, value) {\n            this.callUIWithRenderer('setValue', [\n                new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(value),\n            ]);\n        };\n        WebWorkerRenderer2.prototype.listen = function (target, eventName, listener) {\n            var _this = this;\n            var unlistenId = this._rendererFactory.allocateId();\n            var _a = __read(typeof target === 'string' ? [null, target, target + \":\" + eventName] :\n                [target, null, null], 3), targetEl = _a[0], targetName = _a[1], fullName = _a[2];\n            if (fullName) {\n                this._rendererFactory.globalEvents.listen(fullName, listener);\n            }\n            else {\n                targetEl.events.listen(eventName, listener);\n            }\n            this.callUIWithRenderer('listen', [\n                new FnArg(targetEl, 2 /* RENDER_STORE_OBJECT */),\n                new FnArg(targetName),\n                new FnArg(eventName),\n                new FnArg(unlistenId),\n            ]);\n            return function () {\n                if (fullName) {\n                    _this._rendererFactory.globalEvents.unlisten(fullName, listener);\n                }\n                else {\n                    targetEl.events.unlisten(eventName, listener);\n                }\n                _this.callUIWithRenderer('unlisten', [new FnArg(unlistenId)]);\n            };\n        };\n        WebWorkerRenderer2.prototype.callUIWithRenderer = function (fnName, fnArgs) {\n            if (fnArgs === void 0) { fnArgs = []; }\n            // always pass the renderer as the first arg\n            this._rendererFactory.callUI(fnName, __spread([this.asFnArg], fnArgs));\n        };\n        return WebWorkerRenderer2;\n    }());\n    var WebWorkerRenderNode = /** @class */ (function () {\n        function WebWorkerRenderNode() {\n            this.events = new NamedEventEmitter();\n        }\n        return WebWorkerRenderNode;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * This adapter is required to log error messages.\n     *\n     * Note: other methods all throw as the DOM is not accessible directly in web worker context.\n     */\n    var WorkerDomAdapter = /** @class */ (function (_super) {\n        __extends(WorkerDomAdapter, _super);\n        function WorkerDomAdapter() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        WorkerDomAdapter.makeCurrent = function () { platformBrowser.ɵsetRootDomAdapter(new WorkerDomAdapter()); };\n        WorkerDomAdapter.prototype.logError = function (error) {\n            if (console.error) {\n                console.error(error);\n            }\n            else {\n                // tslint:disable-next-line:no-console\n                console.log(error);\n            }\n        };\n        WorkerDomAdapter.prototype.log = function (error) {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        };\n        WorkerDomAdapter.prototype.logGroup = function (error) {\n            if (console.group) {\n                console.group(error);\n                this.logError(error);\n            }\n            else {\n                // tslint:disable-next-line:no-console\n                console.log(error);\n            }\n        };\n        WorkerDomAdapter.prototype.logGroupEnd = function () {\n            if (console.groupEnd) {\n                console.groupEnd();\n            }\n        };\n        WorkerDomAdapter.prototype.contains = function (nodeA, nodeB) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.hasProperty = function (element, name) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setProperty = function (el, name, value) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getProperty = function (el, name) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.invoke = function (el, methodName, args) { throw 'not implemented'; };\n        Object.defineProperty(WorkerDomAdapter.prototype, \"attrToPropMap\", {\n            get: function () { throw 'not implemented'; },\n            set: function (value) { throw 'not implemented'; },\n            enumerable: true,\n            configurable: true\n        });\n        WorkerDomAdapter.prototype.parse = function (templateHtml) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.querySelector = function (el, selector) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.querySelectorAll = function (el, selector) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.on = function (el, evt, listener) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.onAndCancel = function (el, evt, listener) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.dispatchEvent = function (el, evt) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createMouseEvent = function (eventType) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createEvent = function (eventType) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.preventDefault = function (evt) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.isPrevented = function (evt) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getInnerHTML = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getTemplateContent = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getOuterHTML = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.nodeName = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.nodeValue = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.type = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.content = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.firstChild = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.nextSibling = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.parentElement = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.childNodes = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.childNodesAsList = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.clearNodes = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.appendChild = function (el, node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.removeChild = function (el, node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.replaceChild = function (el, newNode, oldNode) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.remove = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.insertBefore = function (parent, el, node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.insertAllBefore = function (parent, el, nodes) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.insertAfter = function (parent, el, node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setInnerHTML = function (el, value) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getText = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setText = function (el, value) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getValue = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setValue = function (el, value) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getChecked = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setChecked = function (el, value) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createComment = function (text) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createTemplate = function (html) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createElement = function (tagName, doc) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createElementNS = function (ns, tagName, doc) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createTextNode = function (text, doc) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) {\n            throw 'not implemented';\n        };\n        WorkerDomAdapter.prototype.createStyleElement = function (css, doc) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createShadowRoot = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getShadowRoot = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getHost = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getDistributedNodes = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.clone = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getElementsByClassName = function (element, name) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getElementsByTagName = function (element, name) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.classList = function (element) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.addClass = function (element, className) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.removeClass = function (element, className) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.hasClass = function (element, className) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setStyle = function (element, styleName, styleValue) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.removeStyle = function (element, styleName) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getStyle = function (element, styleName) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.hasStyle = function (element, styleName, styleValue) {\n            throw 'not implemented';\n        };\n        WorkerDomAdapter.prototype.tagName = function (element) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.attributeMap = function (element) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.hasAttribute = function (element, attribute) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.hasAttributeNS = function (element, ns, attribute) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getAttribute = function (element, attribute) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getAttributeNS = function (element, ns, attribute) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setAttribute = function (element, name, value) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setAttributeNS = function (element, ns, name, value) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.removeAttribute = function (element, attribute) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.removeAttributeNS = function (element, ns, attribute) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.templateAwareRoot = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.createHtmlDocument = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getDefaultDocument = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getBoundingClientRect = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getTitle = function (doc) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setTitle = function (doc, newTitle) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.elementMatches = function (n, selector) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.isTemplateElement = function (el) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.isTextNode = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.isCommentNode = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.isElementNode = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.hasShadowRoot = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.isShadowRoot = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.importIntoDoc = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.adoptNode = function (node) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getHref = function (element) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getEventKey = function (event) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.resolveAndSetHref = function (element, baseUrl, href) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.supportsDOMEvents = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.supportsNativeShadowDOM = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getGlobalEventTarget = function (doc, target) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getHistory = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getLocation = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getBaseHref = function (doc) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.resetBaseElement = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getUserAgent = function () { return 'Fake user agent'; };\n        WorkerDomAdapter.prototype.setData = function (element, name, value) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getComputedStyle = function (element) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getData = function (element, name) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.performanceNow = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getAnimationPrefix = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.getTransitionEnd = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.supportsAnimation = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.supportsWebAnimation = function () { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.supportsCookies = function () { return false; };\n        WorkerDomAdapter.prototype.getCookie = function (name) { throw 'not implemented'; };\n        WorkerDomAdapter.prototype.setCookie = function (name, value) { throw 'not implemented'; };\n        return WorkerDomAdapter;\n    }(platformBrowser.ɵDomAdapter));\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * @experimental\n     */\n    var platformWorkerApp = core.createPlatformFactory(core.platformCore, 'workerApp', [{ provide: core.PLATFORM_ID, useValue: common.ɵPLATFORM_WORKER_APP_ID }]);\n    function errorHandler() {\n        return new core.ErrorHandler();\n    }\n    // TODO(jteplitz602): remove this and compile with lib.webworker.d.ts (#3492)\n    var _postMessage = {\n        postMessage: function (message, transferrables) {\n            postMessage(message, transferrables);\n        }\n    };\n    function createMessageBus(zone) {\n        var sink = new PostMessageBusSink(_postMessage);\n        var source = new PostMessageBusSource();\n        var bus = new PostMessageBus(sink, source);\n        bus.attachToZone(zone);\n        return bus;\n    }\n    function setupWebWorker() {\n        WorkerDomAdapter.makeCurrent();\n    }\n    /**\n     * The ng module for the worker app side.\n     *\n     * @experimental\n     */\n    var WorkerAppModule = /** @class */ (function () {\n        function WorkerAppModule() {\n        }\n        WorkerAppModule = __decorate([\n            core.NgModule({\n                providers: [\n                    platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n                    Serializer,\n                    { provide: platformBrowser.DOCUMENT, useValue: null },\n                    ClientMessageBrokerFactory,\n                    ServiceMessageBrokerFactory,\n                    WebWorkerRendererFactory2,\n                    { provide: core.RendererFactory2, useExisting: WebWorkerRendererFactory2 },\n                    { provide: ON_WEB_WORKER, useValue: true },\n                    RenderStore,\n                    { provide: core.ErrorHandler, useFactory: errorHandler, deps: [] },\n                    { provide: MessageBus, useFactory: createMessageBus, deps: [core.NgZone] },\n                    { provide: core.APP_INITIALIZER, useValue: setupWebWorker, multi: true },\n                    { provide: common.ViewportScroller, useClass: common.ɵNullViewportScroller, deps: [] },\n                ],\n                exports: [\n                    common.CommonModule,\n                    core.ApplicationModule,\n                ]\n            })\n        ], WorkerAppModule);\n        return WorkerAppModule;\n    }());\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    /**\n     * Bootstraps the worker ui.\n     *\n     * @experimental\n     */\n    function bootstrapWorkerUi(workerScriptUri, customProviders) {\n        if (customProviders === void 0) { customProviders = []; }\n        // For now, just creates the worker ui platform...\n        var platform = platformWorkerUi(__spread([\n            { provide: WORKER_SCRIPT, useValue: workerScriptUri }\n        ], customProviders));\n        return Promise.resolve(platform);\n    }\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    // This file only reexports content of the `src` folder. Keep it that way.\n\n    /**\n     * @license\n     * Copyright Google Inc. All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    exports.bootstrapWorkerUi = bootstrapWorkerUi;\n    exports.VERSION = VERSION;\n    exports.ClientMessageBroker = ClientMessageBroker;\n    exports.ClientMessageBrokerFactory = ClientMessageBrokerFactory;\n    exports.FnArg = FnArg;\n    exports.UiArguments = UiArguments;\n    exports.MessageBus = MessageBus;\n    exports.ServiceMessageBroker = ServiceMessageBroker;\n    exports.ServiceMessageBrokerFactory = ServiceMessageBrokerFactory;\n    exports.WORKER_UI_LOCATION_PROVIDERS = WORKER_UI_LOCATION_PROVIDERS;\n    exports.WORKER_APP_LOCATION_PROVIDERS = WORKER_APP_LOCATION_PROVIDERS;\n    exports.WorkerAppModule = WorkerAppModule;\n    exports.platformWorkerApp = platformWorkerApp;\n    exports.platformWorkerUi = platformWorkerUi;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=platform-webworker.umd.js.map\n"]}