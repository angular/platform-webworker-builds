{"version":3,"sources":["/home/travis/build/angular/angular/dist/packages-dist/platform-webworker/bundles/platform-webworker.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","platformWebworker","common","core","platformBrowser","this","_angular_common","_angular_core","_angular_platformBrowser","__extends","d","b","__","constructor","extendStatics","prototype","Object","create","MessageBusSource","MessageBusSink","ReceivedMessage","serializeGenericEvent","e","serializeEvent","EVENT_PROPERTIES","serializeEventWithTarget","serializedEvent","addTarget","serializeMouseEvent","MOUSE_EVENT_PROPERTIES","serializeKeyboardEvent","KEYBOARD_EVENT_PROPERTIES","serializeTransitionEvent","TRANSITION_EVENT_PROPERTIES","NODES_WITH_VALUE","has","tagName","toLowerCase","target","value","files","properties","serialized","i","length","prop","initializeGenericWorkerRenderer","injector","bus","get","MessageBus","zone","NgZone","attachToZone","services","WORKER_UI_STARTABLE_MESSAGING_SERVICE","runGuarded","forEach","svc","start","messageBusFactory","instance","initWebWorkerRenderPlatform","ɵBrowserDomAdapter","makeCurrent","ɵBrowserGetTestability","init","scriptUri","WORKER_SCRIPT","Error","WebWorkerInstance","spawnWebWorker","_exceptionHandler","ErrorHandler","_document","document","createNgZone","enableLongStackTrace","isDevMode","uri","webWorker","Worker","sink","PostMessageBusSink","source","PostMessageBusSource","PostMessageBus","initUiLocation","MessageBasedPlatformLocation","locationInitialized","platformLocation","initialized","appInitFnFactory","eventNameWithTarget","eventName","errorHandler","createMessageBus","_postMessage","setupWebWorker","WorkerDomAdapter","bootstrapWorkerUi","workerScriptUri","customProviders","platform","platformWorkerUi","provide","useValue","concat","Promise","resolve","setPrototypeOf","__proto__","Array","p","hasOwnProperty","ON_WEB_WORKER","InjectionToken","RenderStore","_nextIndex","_lookupById","Map","_lookupByObject","allocateId","store","obj","id","set","remove","index","delete","deserialize","serialize","decorators","type","Injectable","ctorParameters","SerializerTypes","RENDERER_TYPE_2","PRIMITIVE","RENDER_STORE_OBJECT","LocationType","href","protocol","host","hostname","port","pathname","search","hash","origin","Serializer","_renderStore","_this","isArray","map","v","RenderComponentType","_serializeRenderComponentType","_serializeRendererType2","_serializeLocation","ɵstringify","data","val","_deserializeRenderComponentType","_deserializeRendererType2","_deserializeLocation","loc","templateUrl","slotCount","encapsulation","styles","props","ClientMessageBrokerFactory","ClientMessageBrokerFactory_","_super","_messageBus","_serializer","call","createMessageBroker","channel","runInZone","initChannel","ClientMessageBroker_","ClientMessageBroker","messageBus","_pending","_sink","to","from","subscribe","next","message","_handleMessage","_generateMessageId","name","time","Date","getTime","iteration","runOnService","args","returnType","fnArgs","argument","push","promise","completer_1","reject","method","catch","err","console","error","then","emit","FnArg","UiArguments","_postMessageTarget","_channels","_messageBuffer","_zone","runOutsideAngular","onStable","_handleOnEventDone","emitter","EventEmitter","channelInfo","_Channel","_sendMessages","messages","postMessage","eventTarget","addEventListener","ev","_handleMessages","workerScope","channelInfo_1","run","ServiceMessageBrokerFactory","ServiceMessageBrokerFactory_","ServiceMessageBroker_","ServiceMessageBroker","_methods","registerMethod","methodName","signature","serializedArgs","numArgs","deserializedArgs","serializedArg","apply","_wrapWebWorkerPromise","result","RENDERER_2_CHANNEL","EVENT_2_CHANNEL","ROUTER_CHANNEL","Set","EventDispatcher","dispatchAnimationEvent","player","phaseName","element","animationPlayer","dispatchRenderEvent","event","MessageBasedRenderer2","_brokerFactory","_bus","_rendererFactory","broker","_eventDispatcher","_a","RSO","P","CRT","methods","createRenderer","createElement","createComment","createText","appendChild","insertBefore","removeChild","selectRootElement","parentNode","nextSibling","setAttribute","removeAttribute","addClass","removeClass","setStyle","removeStyle","setProperty","setValue","listen","unlisten","destroy","destroyNode","argTypes","slice","bind","r","node","el","namespace","parent","child","ref","selector","style","flags","elName","unlistenId","listener","RendererFactory2","worker","_WORKER_UI_PLATFORM_PROVIDERS","useFactory","deps","useExisting","multi","ɵBROWSER_SANITIZATION_PROVIDERS","DOCUMENT","EVENT_MANAGER_PLUGINS","useClass","ɵDomEventsPlugin","ɵKeyEventsPlugin","ɵHammerGesturesPlugin","HAMMER_GESTURE_CONFIG","HammerGestureConfig","ɵAPP_ID_RANDOM_PROVIDER","ɵDomRendererFactory2","EventManager","ɵDomSharedStylesHost","ɵSharedStylesHost","Testability","PLATFORM_INITIALIZER","Injector","PLATFORM_ID","ɵPLATFORM_WORKER_UI_ID","createPlatformFactory","platformCore","VERSION","Version","_platformLocation","onPopState","_sendUrlChangeEvent","onHashChange","_broker","_channelSink","_getLocation","_setPathname","pushState","replaceState","forward","back","location","ɵBrowserPlatformLocation","WORKER_UI_LOCATION_PROVIDERS","WebWorkerPlatformLocation","brokerFactory","_popStateListeners","_hashChangeListeners","_location","_channelSource","msg","listeners","fn","res","initializedResolve","getBaseHrefFromDOM","defineProperty","newPath","enumerable","configurable","state","title","url","PlatformLocation","WORKER_APP_LOCATION_PROVIDERS","APP_INITIALIZER","LOCATION_INITIALIZED","NamedEventEmitter","callback","_getListeners","indexOf","splice","dispatchEvent","_listeners","WebWorkerRendererFactory2","messageBrokerFactory","renderStore","globalEvents","_messageBroker","_dispatchEvent","renderer","WebWorkerRenderer2","callUI","begin","end","fnName","allocateNode","WebWorkerRenderNode","freeNode","events","asFnArg","callUIWithRenderer","newChild","refChild","oldChild","selectorOrNode","targetEl","targetName","fullName","arguments","ɵsetRootDomAdapter","logError","log","logGroup","group","logGroupEnd","groupEnd","contains","nodeA","nodeB","hasProperty","getProperty","invoke","parse","templateHtml","querySelector","querySelectorAll","on","evt","onAndCancel","createMouseEvent","eventType","createEvent","preventDefault","isPrevented","getInnerHTML","getTemplateContent","getOuterHTML","nodeName","nodeValue","content","firstChild","parentElement","childNodes","childNodesAsList","clearNodes","replaceChild","newNode","oldNode","insertAllBefore","nodes","insertAfter","setInnerHTML","getText","setText","getValue","getChecked","setChecked","text","createTemplate","html","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","createStyleElement","css","createShadowRoot","getShadowRoot","getHost","getDistributedNodes","clone","getElementsByClassName","getElementsByTagName","classList","className","hasClass","styleName","styleValue","getStyle","hasStyle","attributeMap","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttributeNS","templateAwareRoot","createHtmlDocument","getDefaultDocument","getBoundingClientRect","getTitle","setTitle","newTitle","elementMatches","n","isTemplateElement","isTextNode","isCommentNode","isElementNode","hasShadowRoot","isShadowRoot","importIntoDoc","adoptNode","getHref","getEventKey","resolveAndSetHref","baseUrl","supportsDOMEvents","supportsNativeShadowDOM","getGlobalEventTarget","getHistory","getLocation","getBaseHref","resetBaseElement","getUserAgent","setData","getComputedStyle","getData","performanceNow","getAnimationPrefix","getTransitionEnd","supportsAnimation","supportsWebAnimation","supportsCookies","getCookie","setCookie","ɵDomAdapter","platformWorkerApp","ɵPLATFORM_WORKER_APP_ID","transferrables","WorkerAppModule","NgModule","providers","CommonModule","ApplicationModule","ɵm","ɵa","ɵk","ɵb","ɵc","ɵe","ɵd","ɵj","ɵl","ɵg","ɵf","ɵh","ɵi"],"mappings":"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","file":"/home/travis/build/angular/angular/dist/packages-dist/platform-webworker/bundles/platform-webworker.umd.min.js","sourcesContent":["/**\n * @license Angular v5.0.0-beta.6-a69172f\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/common'), require('@angular/core'), require('@angular/platform-browser')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', '@angular/common', '@angular/core', '@angular/platform-browser'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.platformWebworker = {}),global.ng.common,global.ng.core,global.ng.platformBrowser));\n}(this, (function (exports,_angular_common,_angular_core,_angular_platformBrowser) { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n/**\n * @license Angular v5.0.0-beta.6-a69172f\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ON_WEB_WORKER = new _angular_core.InjectionToken('WebWorker.onWebWorker');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Message Bus is a low level API used to communicate between the UI and the background.\n * Communication is based on a channel abstraction. Messages published in a\n * given channel to one MessageBusSink are received on the same channel\n * by the corresponding MessageBusSource.\n *\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @abstract\n */\nvar MessageBus = (function () {\n    function MessageBus() {\n    }\n    return MessageBus;\n}());\n/**\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @record\n */\nfunction MessageBusSource() { }\n/**\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @record\n */\nfunction MessageBusSink() { }\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar RenderStore = (function () {\n    function RenderStore() {\n        this._nextIndex = 0;\n        this._lookupById = new Map();\n        this._lookupByObject = new Map();\n    }\n    /**\n     * @return {?}\n     */\n    RenderStore.prototype.allocateId = function () { return this._nextIndex++; };\n    /**\n     * @param {?} obj\n     * @param {?} id\n     * @return {?}\n     */\n    RenderStore.prototype.store = function (obj, id) {\n        if (id == null)\n            return;\n        this._lookupById.set(id, obj);\n        this._lookupByObject.set(obj, id);\n    };\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n    RenderStore.prototype.remove = function (obj) {\n        var /** @type {?} */ index = this._lookupByObject.get(obj);\n        if (index != null) {\n            this._lookupByObject.delete(obj);\n            this._lookupById.delete(index);\n        }\n    };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    RenderStore.prototype.deserialize = function (id) {\n        return this._lookupById.has(id) ? this._lookupById.get(id) : null;\n    };\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n    RenderStore.prototype.serialize = function (obj) {\n        return obj == null ? null : this._lookupByObject.get(obj);\n    };\n    return RenderStore;\n}());\nRenderStore.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nRenderStore.ctorParameters = function () { return []; };\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** @enum {number} */\nvar SerializerTypes = {\n    // RendererType2\n    RENDERER_TYPE_2: 0,\n    // Primitive types\n    PRIMITIVE: 1,\n    // An object stored in a RenderStore\n    RENDER_STORE_OBJECT: 2,\n};\nvar LocationType = (function () {\n    /**\n     * @param {?} href\n     * @param {?} protocol\n     * @param {?} host\n     * @param {?} hostname\n     * @param {?} port\n     * @param {?} pathname\n     * @param {?} search\n     * @param {?} hash\n     * @param {?} origin\n     */\n    function LocationType(href, protocol, host, hostname, port, pathname, search, hash, origin) {\n        this.href = href;\n        this.protocol = protocol;\n        this.host = host;\n        this.hostname = hostname;\n        this.port = port;\n        this.pathname = pathname;\n        this.search = search;\n        this.hash = hash;\n        this.origin = origin;\n    }\n    return LocationType;\n}());\nvar Serializer = (function () {\n    /**\n     * @param {?} _renderStore\n     */\n    function Serializer(_renderStore) {\n        this._renderStore = _renderStore;\n    }\n    /**\n     * @param {?} obj\n     * @param {?=} type\n     * @return {?}\n     */\n    Serializer.prototype.serialize = function (obj, type) {\n        var _this = this;\n        if (type === void 0) { type = SerializerTypes.PRIMITIVE; }\n        if (obj == null || type === SerializerTypes.PRIMITIVE) {\n            return obj;\n        }\n        if (Array.isArray(obj)) {\n            return obj.map(function (v) { return _this.serialize(v, type); });\n        }\n        if (type === SerializerTypes.RENDER_STORE_OBJECT) {\n            return ((this._renderStore.serialize(obj)));\n        }\n        if (type === _angular_core.RenderComponentType) {\n            return this._serializeRenderComponentType(obj);\n        }\n        if (type === SerializerTypes.RENDERER_TYPE_2) {\n            return this._serializeRendererType2(obj);\n        }\n        if (type === LocationType) {\n            return this._serializeLocation(obj);\n        }\n        throw new Error(\"No serializer for type \" + _angular_core.ɵstringify(type));\n    };\n    /**\n     * @param {?} map\n     * @param {?=} type\n     * @param {?=} data\n     * @return {?}\n     */\n    Serializer.prototype.deserialize = function (map, type, data) {\n        var _this = this;\n        if (type === void 0) { type = SerializerTypes.PRIMITIVE; }\n        if (map == null || type === SerializerTypes.PRIMITIVE) {\n            return map;\n        }\n        if (Array.isArray(map)) {\n            return map.map(function (val) { return _this.deserialize(val, type, data); });\n        }\n        if (type === SerializerTypes.RENDER_STORE_OBJECT) {\n            return this._renderStore.deserialize(map);\n        }\n        if (type === _angular_core.RenderComponentType) {\n            return this._deserializeRenderComponentType(map);\n        }\n        if (type === SerializerTypes.RENDERER_TYPE_2) {\n            return this._deserializeRendererType2(map);\n        }\n        if (type === LocationType) {\n            return this._deserializeLocation(map);\n        }\n        throw new Error(\"No deserializer for type \" + _angular_core.ɵstringify(type));\n    };\n    /**\n     * @param {?} loc\n     * @return {?}\n     */\n    Serializer.prototype._serializeLocation = function (loc) {\n        return {\n            'href': loc.href,\n            'protocol': loc.protocol,\n            'host': loc.host,\n            'hostname': loc.hostname,\n            'port': loc.port,\n            'pathname': loc.pathname,\n            'search': loc.search,\n            'hash': loc.hash,\n            'origin': loc.origin,\n        };\n    };\n    /**\n     * @param {?} loc\n     * @return {?}\n     */\n    Serializer.prototype._deserializeLocation = function (loc) {\n        return new LocationType(loc['href'], loc['protocol'], loc['host'], loc['hostname'], loc['port'], loc['pathname'], loc['search'], loc['hash'], loc['origin']);\n    };\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n    Serializer.prototype._serializeRenderComponentType = function (type) {\n        return {\n            'id': type.id,\n            'templateUrl': type.templateUrl,\n            'slotCount': type.slotCount,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n        };\n    };\n    /**\n     * @param {?} props\n     * @return {?}\n     */\n    Serializer.prototype._deserializeRenderComponentType = function (props) {\n        return new _angular_core.RenderComponentType(props['id'], props['templateUrl'], props['slotCount'], this.deserialize(props['encapsulation']), this.deserialize(props['styles']), {});\n    };\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n    Serializer.prototype._serializeRendererType2 = function (type) {\n        return {\n            'id': type.id,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n            'data': this.serialize(type.data),\n        };\n    };\n    /**\n     * @param {?} props\n     * @return {?}\n     */\n    Serializer.prototype._deserializeRendererType2 = function (props) {\n        return {\n            id: props['id'],\n            encapsulation: props['encapsulation'],\n            styles: this.deserialize(props['styles']),\n            data: this.deserialize(props['data'])\n        };\n    };\n    return Serializer;\n}());\nSerializer.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nSerializer.ctorParameters = function () { return [\n    { type: RenderStore, },\n]; };\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n * @abstract\n */\nvar ClientMessageBrokerFactory = (function () {\n    function ClientMessageBrokerFactory() {\n    }\n    return ClientMessageBrokerFactory;\n}());\nvar ClientMessageBrokerFactory_ = (function (_super) {\n    __extends(ClientMessageBrokerFactory_, _super);\n    /**\n     * @param {?} _messageBus\n     * @param {?} _serializer\n     */\n    function ClientMessageBrokerFactory_(_messageBus, _serializer) {\n        var _this = _super.call(this) || this;\n        _this._messageBus = _messageBus;\n        _this._serializer = _serializer;\n        return _this;\n    }\n    /**\n     * Initializes the given channel and attaches a new {\\@link ClientMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    ClientMessageBrokerFactory_.prototype.createMessageBroker = function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ClientMessageBroker_(this._messageBus, this._serializer, channel);\n    };\n    return ClientMessageBrokerFactory_;\n}(ClientMessageBrokerFactory));\nClientMessageBrokerFactory_.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nClientMessageBrokerFactory_.ctorParameters = function () { return [\n    { type: MessageBus, },\n    { type: Serializer, },\n]; };\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n * @abstract\n */\nvar ClientMessageBroker = (function () {\n    function ClientMessageBroker() {\n    }\n    return ClientMessageBroker;\n}());\nvar ClientMessageBroker_ = (function (_super) {\n    __extends(ClientMessageBroker_, _super);\n    /**\n     * @param {?} messageBus\n     * @param {?} _serializer\n     * @param {?} channel\n     */\n    function ClientMessageBroker_(messageBus, _serializer, channel) {\n        var _this = _super.call(this) || this;\n        _this.channel = channel;\n        _this._pending = new Map();\n        _this._sink = messageBus.to(channel);\n        _this._serializer = _serializer;\n        var /** @type {?} */ source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n        return _this;\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    ClientMessageBroker_.prototype._generateMessageId = function (name) {\n        var /** @type {?} */ time = _angular_core.ɵstringify(new Date().getTime());\n        var /** @type {?} */ iteration = 0;\n        var /** @type {?} */ id = name + time + _angular_core.ɵstringify(iteration);\n        while (this._pending.has(id)) {\n            id = \"\" + name + time + iteration;\n            iteration++;\n        }\n        return id;\n    };\n    /**\n     * @param {?} args\n     * @param {?} returnType\n     * @return {?}\n     */\n    ClientMessageBroker_.prototype.runOnService = function (args, returnType) {\n        var _this = this;\n        var /** @type {?} */ fnArgs = [];\n        if (args.args) {\n            args.args.forEach(function (argument) {\n                if (argument.type != null) {\n                    fnArgs.push(_this._serializer.serialize(argument.value, argument.type));\n                }\n                else {\n                    fnArgs.push(argument.value);\n                }\n            });\n        }\n        var /** @type {?} */ promise;\n        var /** @type {?} */ id = null;\n        if (returnType != null) {\n            var /** @type {?} */ completer_1 = ((undefined));\n            promise = new Promise(function (resolve, reject) { completer_1 = { resolve: resolve, reject: reject }; });\n            id = this._generateMessageId(args.method);\n            this._pending.set(id, completer_1);\n            promise.catch(function (err) {\n                if (console && console.error) {\n                    // tslint:disable-next-line:no-console\n                    console.error(err);\n                }\n                completer_1.reject(err);\n            });\n            promise = promise.then(function (v) { return _this._serializer ? _this._serializer.deserialize(v, returnType) : v; });\n        }\n        else {\n            promise = null;\n        }\n        var /** @type {?} */ message = {\n            'method': args.method,\n            'args': fnArgs,\n        };\n        if (id != null) {\n            message['id'] = id;\n        }\n        this._sink.emit(message);\n        return promise;\n    };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    ClientMessageBroker_.prototype._handleMessage = function (message) {\n        if (message.type === 'result' || message.type === 'error') {\n            var /** @type {?} */ id = ((message.id));\n            if (this._pending.has(id)) {\n                if (message.type === 'result') {\n                    ((this._pending.get(id))).resolve(message.value);\n                }\n                else {\n                    ((this._pending.get(id))).reject(message.value);\n                }\n                this._pending.delete(id);\n            }\n        }\n    };\n    return ClientMessageBroker_;\n}(ClientMessageBroker));\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar FnArg = (function () {\n    /**\n     * @param {?} value\n     * @param {?=} type\n     */\n    function FnArg(value, type) {\n        if (type === void 0) { type = SerializerTypes.PRIMITIVE; }\n        this.value = value;\n        this.type = type;\n    }\n    return FnArg;\n}());\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar UiArguments = (function () {\n    /**\n     * @param {?} method\n     * @param {?=} args\n     */\n    function UiArguments(method, args) {\n        this.method = method;\n        this.args = args;\n    }\n    return UiArguments;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @record\n */\n\nvar PostMessageBusSink = (function () {\n    /**\n     * @param {?} _postMessageTarget\n     */\n    function PostMessageBusSink(_postMessageTarget) {\n        this._postMessageTarget = _postMessageTarget;\n        this._channels = {};\n        this._messageBuffer = [];\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.attachToZone = function (zone) {\n        var _this = this;\n        this._zone = zone;\n        this._zone.runOutsideAngular(function () { _this._zone.onStable.subscribe({ next: function () { _this._handleOnEventDone(); } }); });\n    };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.initChannel = function (channel, runInZone) {\n        var _this = this;\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var /** @type {?} */ emitter = new _angular_core.EventEmitter(false);\n        var /** @type {?} */ channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n        emitter.subscribe(function (data) {\n            var /** @type {?} */ message = { channel: channel, message: data };\n            if (runInZone) {\n                _this._messageBuffer.push(message);\n            }\n            else {\n                _this._sendMessages([message]);\n            }\n        });\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.to = function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    /**\n     * @return {?}\n     */\n    PostMessageBusSink.prototype._handleOnEventDone = function () {\n        if (this._messageBuffer.length > 0) {\n            this._sendMessages(this._messageBuffer);\n            this._messageBuffer = [];\n        }\n    };\n    /**\n     * @param {?} messages\n     * @return {?}\n     */\n    PostMessageBusSink.prototype._sendMessages = function (messages) { this._postMessageTarget.postMessage(messages); };\n    return PostMessageBusSink;\n}());\nvar PostMessageBusSource = (function () {\n    /**\n     * @param {?=} eventTarget\n     */\n    function PostMessageBusSource(eventTarget) {\n        var _this = this;\n        this._channels = {};\n        if (eventTarget) {\n            eventTarget.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n        else {\n            // if no eventTarget is given we assume we're in a WebWorker and listen on the global scope\n            var /** @type {?} */ workerScope = (self);\n            workerScope.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.attachToZone = function (zone) { this._zone = zone; };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.initChannel = function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var /** @type {?} */ emitter = new _angular_core.EventEmitter(false);\n        var /** @type {?} */ channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.from = function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    /**\n     * @param {?} ev\n     * @return {?}\n     */\n    PostMessageBusSource.prototype._handleMessages = function (ev) {\n        var /** @type {?} */ messages = ev.data;\n        for (var /** @type {?} */ i = 0; i < messages.length; i++) {\n            this._handleMessage(messages[i]);\n        }\n    };\n    /**\n     * @param {?} data\n     * @return {?}\n     */\n    PostMessageBusSource.prototype._handleMessage = function (data) {\n        var /** @type {?} */ channel = data.channel;\n        if (this._channels.hasOwnProperty(channel)) {\n            var /** @type {?} */ channelInfo_1 = this._channels[channel];\n            if (channelInfo_1.runInZone) {\n                this._zone.run(function () { channelInfo_1.emitter.emit(data.message); });\n            }\n            else {\n                channelInfo_1.emitter.emit(data.message);\n            }\n        }\n    };\n    return PostMessageBusSource;\n}());\n/**\n * A TypeScript implementation of {\\@link MessageBus} for communicating via JavaScript's\n * postMessage API.\n */\nvar PostMessageBus = (function () {\n    /**\n     * @param {?} sink\n     * @param {?} source\n     */\n    function PostMessageBus(sink, source) {\n        this.sink = sink;\n        this.source = source;\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBus.prototype.attachToZone = function (zone) {\n        this.source.attachToZone(zone);\n        this.sink.attachToZone(zone);\n    };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBus.prototype.initChannel = function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this.source.initChannel(channel, runInZone);\n        this.sink.initChannel(channel, runInZone);\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBus.prototype.from = function (channel) { return this.source.from(channel); };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBus.prototype.to = function (channel) { return this.sink.to(channel); };\n    return PostMessageBus;\n}());\nPostMessageBus.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nPostMessageBus.ctorParameters = function () { return [\n    { type: PostMessageBusSink, },\n    { type: PostMessageBusSource, },\n]; };\n/**\n * Helper class that wraps a channel's {\\@link EventEmitter} and\n * keeps track of if it should run in the zone.\n */\nvar _Channel = (function () {\n    /**\n     * @param {?} emitter\n     * @param {?} runInZone\n     */\n    function _Channel(emitter, runInZone) {\n        this.emitter = emitter;\n        this.runInZone = runInZone;\n    }\n    return _Channel;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental WebWorker support in Angular is currently experimental.\n * @abstract\n */\nvar ServiceMessageBrokerFactory = (function () {\n    function ServiceMessageBrokerFactory() {\n    }\n    return ServiceMessageBrokerFactory;\n}());\nvar ServiceMessageBrokerFactory_ = (function (_super) {\n    __extends(ServiceMessageBrokerFactory_, _super);\n    /**\n     * @param {?} _messageBus\n     * @param {?} _serializer\n     */\n    function ServiceMessageBrokerFactory_(_messageBus, _serializer) {\n        var _this = _super.call(this) || this;\n        _this._messageBus = _messageBus;\n        _this._serializer = _serializer;\n        return _this;\n    }\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    ServiceMessageBrokerFactory_.prototype.createMessageBroker = function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ServiceMessageBroker_(this._messageBus, this._serializer, channel);\n    };\n    return ServiceMessageBrokerFactory_;\n}(ServiceMessageBrokerFactory));\nServiceMessageBrokerFactory_.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nServiceMessageBrokerFactory_.ctorParameters = function () { return [\n    { type: MessageBus, },\n    { type: Serializer, },\n]; };\n/**\n * Helper class for UIComponents that allows components to register methods.\n * If a registered method message is received from the broker on the worker,\n * the UIMessageBroker deserializes its arguments and calls the registered method.\n * If that method returns a promise, the UIMessageBroker returns the result to the worker.\n *\n * \\@experimental WebWorker support in Angular is currently experimental.\n * @abstract\n */\nvar ServiceMessageBroker = (function () {\n    function ServiceMessageBroker() {\n    }\n    return ServiceMessageBroker;\n}());\nvar ServiceMessageBroker_ = (function (_super) {\n    __extends(ServiceMessageBroker_, _super);\n    /**\n     * @param {?} messageBus\n     * @param {?} _serializer\n     * @param {?} channel\n     */\n    function ServiceMessageBroker_(messageBus, _serializer, channel) {\n        var _this = _super.call(this) || this;\n        _this._serializer = _serializer;\n        _this.channel = channel;\n        _this._methods = new Map();\n        _this._sink = messageBus.to(channel);\n        var /** @type {?} */ source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n        return _this;\n    }\n    /**\n     * @param {?} methodName\n     * @param {?} signature\n     * @param {?} method\n     * @param {?=} returnType\n     * @return {?}\n     */\n    ServiceMessageBroker_.prototype.registerMethod = function (methodName, signature, method, returnType) {\n        var _this = this;\n        this._methods.set(methodName, function (message) {\n            var /** @type {?} */ serializedArgs = message.args;\n            var /** @type {?} */ numArgs = signature ? signature.length : 0;\n            var /** @type {?} */ deserializedArgs = new Array(numArgs);\n            for (var /** @type {?} */ i = 0; i < numArgs; i++) {\n                var /** @type {?} */ serializedArg = serializedArgs[i];\n                deserializedArgs[i] = _this._serializer.deserialize(serializedArg, signature[i]);\n            }\n            var /** @type {?} */ promise = method.apply(void 0, deserializedArgs);\n            if (returnType && promise) {\n                _this._wrapWebWorkerPromise(message.id, promise, returnType);\n            }\n        });\n    };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    ServiceMessageBroker_.prototype._handleMessage = function (message) {\n        if (this._methods.has(message.method)) {\n            ((this._methods.get(message.method)))(message);\n        }\n    };\n    /**\n     * @param {?} id\n     * @param {?} promise\n     * @param {?} type\n     * @return {?}\n     */\n    ServiceMessageBroker_.prototype._wrapWebWorkerPromise = function (id, promise, type) {\n        var _this = this;\n        promise.then(function (result) {\n            _this._sink.emit({\n                'type': 'result',\n                'value': _this._serializer.serialize(result, type),\n                'id': id,\n            });\n        });\n    };\n    return ServiceMessageBroker_;\n}(ServiceMessageBroker));\n/**\n * \\@experimental WebWorker support in Angular is currently experimental.\n * @record\n */\nfunction ReceivedMessage() { }\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * All channels used by angular's WebWorker components are listed here.\n * You should not use these channels in your application code.\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */ var RENDERER_2_CHANNEL = 'v2.ng-Renderer';\nvar EVENT_2_CHANNEL = 'v2.ng-Events';\nvar ROUTER_CHANNEL = 'ng-Router';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MOUSE_EVENT_PROPERTIES = [\n    'altKey', 'button', 'clientX', 'clientY', 'metaKey', 'movementX', 'movementY', 'offsetX',\n    'offsetY', 'region', 'screenX', 'screenY', 'shiftKey'\n];\nvar KEYBOARD_EVENT_PROPERTIES = [\n    'altkey', 'charCode', 'code', 'ctrlKey', 'isComposing', 'key', 'keyCode', 'location', 'metaKey',\n    'repeat', 'shiftKey', 'which'\n];\nvar TRANSITION_EVENT_PROPERTIES = ['propertyName', 'elapsedTime', 'pseudoElement'];\nvar EVENT_PROPERTIES = ['type', 'bubbles', 'cancelable'];\nvar NODES_WITH_VALUE = new Set(['input', 'select', 'option', 'button', 'li', 'meter', 'progress', 'param', 'textarea']);\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeGenericEvent(e) {\n    return serializeEvent(e, EVENT_PROPERTIES);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeEventWithTarget(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeMouseEvent(e) {\n    return serializeEvent(e, MOUSE_EVENT_PROPERTIES);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeKeyboardEvent(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, KEYBOARD_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeTransitionEvent(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, TRANSITION_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @param {?} serializedEvent\n * @return {?}\n */\nfunction addTarget(e, serializedEvent) {\n    if (NODES_WITH_VALUE.has(((e.target)).tagName.toLowerCase())) {\n        var /** @type {?} */ target = (e.target);\n        serializedEvent['target'] = { 'value': target.value };\n        if (target.files) {\n            serializedEvent['target']['files'] = target.files;\n        }\n    }\n    return serializedEvent;\n}\n/**\n * @param {?} e\n * @param {?} properties\n * @return {?}\n */\nfunction serializeEvent(e, properties) {\n    var /** @type {?} */ serialized = {};\n    for (var /** @type {?} */ i = 0; i < properties.length; i++) {\n        var /** @type {?} */ prop = properties[i];\n        serialized[prop] = e[prop];\n    }\n    return serialized;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar EventDispatcher = (function () {\n    /**\n     * @param {?} _sink\n     * @param {?} _serializer\n     */\n    function EventDispatcher(_sink, _serializer) {\n        this._sink = _sink;\n        this._serializer = _serializer;\n    }\n    /**\n     * @param {?} player\n     * @param {?} phaseName\n     * @param {?} element\n     * @return {?}\n     */\n    EventDispatcher.prototype.dispatchAnimationEvent = function (player, phaseName, element) {\n        this._sink.emit({\n            'element': this._serializer.serialize(element, SerializerTypes.RENDER_STORE_OBJECT),\n            'animationPlayer': this._serializer.serialize(player, SerializerTypes.RENDER_STORE_OBJECT),\n            'phaseName': phaseName,\n        });\n        return true;\n    };\n    /**\n     * @param {?} element\n     * @param {?} eventTarget\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    EventDispatcher.prototype.dispatchRenderEvent = function (element, eventTarget, eventName, event) {\n        var /** @type {?} */ serializedEvent;\n        // TODO (jteplitz602): support custom events #3350\n        switch (event.type) {\n            case 'click':\n            case 'mouseup':\n            case 'mousedown':\n            case 'dblclick':\n            case 'contextmenu':\n            case 'mouseenter':\n            case 'mouseleave':\n            case 'mousemove':\n            case 'mouseout':\n            case 'mouseover':\n            case 'show':\n                serializedEvent = serializeMouseEvent(event);\n                break;\n            case 'keydown':\n            case 'keypress':\n            case 'keyup':\n                serializedEvent = serializeKeyboardEvent(event);\n                break;\n            case 'input':\n            case 'change':\n            case 'blur':\n                serializedEvent = serializeEventWithTarget(event);\n                break;\n            case 'abort':\n            case 'afterprint':\n            case 'beforeprint':\n            case 'cached':\n            case 'canplay':\n            case 'canplaythrough':\n            case 'chargingchange':\n            case 'chargingtimechange':\n            case 'close':\n            case 'dischargingtimechange':\n            case 'DOMContentLoaded':\n            case 'downloading':\n            case 'durationchange':\n            case 'emptied':\n            case 'ended':\n            case 'error':\n            case 'fullscreenchange':\n            case 'fullscreenerror':\n            case 'invalid':\n            case 'languagechange':\n            case 'levelfchange':\n            case 'loadeddata':\n            case 'loadedmetadata':\n            case 'obsolete':\n            case 'offline':\n            case 'online':\n            case 'open':\n            case 'orientatoinchange':\n            case 'pause':\n            case 'pointerlockchange':\n            case 'pointerlockerror':\n            case 'play':\n            case 'playing':\n            case 'ratechange':\n            case 'readystatechange':\n            case 'reset':\n            case 'scroll':\n            case 'seeked':\n            case 'seeking':\n            case 'stalled':\n            case 'submit':\n            case 'success':\n            case 'suspend':\n            case 'timeupdate':\n            case 'updateready':\n            case 'visibilitychange':\n            case 'volumechange':\n            case 'waiting':\n                serializedEvent = serializeGenericEvent(event);\n                break;\n            case 'transitionend':\n                serializedEvent = serializeTransitionEvent(event);\n                break;\n            default:\n                throw new Error(eventName + ' not supported on WebWorkers');\n        }\n        this._sink.emit({\n            'element': this._serializer.serialize(element, SerializerTypes.RENDER_STORE_OBJECT),\n            'eventName': eventName,\n            'eventTarget': eventTarget,\n            'event': serializedEvent,\n        });\n        // TODO(kegluneq): Eventually, we want the user to indicate from the UI side whether the event\n        // should be canceled, but for now just call `preventDefault` on the original DOM event.\n        return false;\n    };\n    return EventDispatcher;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MessageBasedRenderer2 = (function () {\n    /**\n     * @param {?} _brokerFactory\n     * @param {?} _bus\n     * @param {?} _serializer\n     * @param {?} _renderStore\n     * @param {?} _rendererFactory\n     */\n    function MessageBasedRenderer2(_brokerFactory, _bus, _serializer, _renderStore, _rendererFactory) {\n        this._brokerFactory = _brokerFactory;\n        this._bus = _bus;\n        this._serializer = _serializer;\n        this._renderStore = _renderStore;\n        this._rendererFactory = _rendererFactory;\n    }\n    /**\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.start = function () {\n        var _this = this;\n        var /** @type {?} */ broker = this._brokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        this._bus.initChannel(EVENT_2_CHANNEL);\n        this._eventDispatcher = new EventDispatcher(this._bus.to(EVENT_2_CHANNEL), this._serializer);\n        var _a = [\n            SerializerTypes.RENDER_STORE_OBJECT,\n            SerializerTypes.PRIMITIVE,\n            SerializerTypes.RENDERER_TYPE_2,\n        ], RSO = _a[0], P = _a[1], CRT = _a[2];\n        var /** @type {?} */ methods = [\n            ['createRenderer', this.createRenderer, RSO, CRT, P],\n            ['createElement', this.createElement, RSO, P, P, P],\n            ['createComment', this.createComment, RSO, P, P], ['createText', this.createText, RSO, P, P],\n            ['appendChild', this.appendChild, RSO, RSO, RSO],\n            ['insertBefore', this.insertBefore, RSO, RSO, RSO, RSO],\n            ['removeChild', this.removeChild, RSO, RSO, RSO],\n            ['selectRootElement', this.selectRootElement, RSO, P, P],\n            ['parentNode', this.parentNode, RSO, RSO, P], ['nextSibling', this.nextSibling, RSO, RSO, P],\n            ['setAttribute', this.setAttribute, RSO, RSO, P, P, P],\n            ['removeAttribute', this.removeAttribute, RSO, RSO, P, P],\n            ['addClass', this.addClass, RSO, RSO, P], ['removeClass', this.removeClass, RSO, RSO, P],\n            ['setStyle', this.setStyle, RSO, RSO, P, P, P],\n            ['removeStyle', this.removeStyle, RSO, RSO, P, P],\n            ['setProperty', this.setProperty, RSO, RSO, P, P], ['setValue', this.setValue, RSO, RSO, P],\n            ['listen', this.listen, RSO, RSO, P, P, P], ['unlisten', this.unlisten, RSO, RSO],\n            ['destroy', this.destroy, RSO], ['destroyNode', this.destroyNode, RSO, P]\n        ];\n        methods.forEach(function (_a) {\n            var name = _a[0], method = _a[1], argTypes = _a.slice(2);\n            broker.registerMethod(name, argTypes, method.bind(_this));\n        });\n    };\n    /**\n     * @param {?} r\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.destroy = function (r) { r.destroy(); };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.destroyNode = function (r, node) {\n        if (r.destroyNode) {\n            r.destroyNode(node);\n        }\n        this._renderStore.remove(node);\n    };\n    /**\n     * @param {?} el\n     * @param {?} type\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createRenderer = function (el, type, id) {\n        this._renderStore.store(this._rendererFactory.createRenderer(el, type), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} name\n     * @param {?} namespace\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createElement = function (r, name, namespace, id) {\n        this._renderStore.store(r.createElement(name, namespace), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createComment = function (r, value, id) {\n        this._renderStore.store(r.createComment(value), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createText = function (r, value, id) {\n        this._renderStore.store(r.createText(value), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.appendChild = function (r, parent, child) { r.appendChild(parent, child); };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @param {?} ref\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.insertBefore = function (r, parent, child, ref) {\n        r.insertBefore(parent, child, ref);\n    };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeChild = function (r, parent, child) { r.removeChild(parent, child); };\n    /**\n     * @param {?} r\n     * @param {?} selector\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.selectRootElement = function (r, selector, id) {\n        this._renderStore.store(r.selectRootElement(selector), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.parentNode = function (r, node, id) {\n        this._renderStore.store(r.parentNode(node), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.nextSibling = function (r, node, id) {\n        this._renderStore.store(r.nextSibling(node), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?} namespace\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setAttribute = function (r, el, name, value, namespace) {\n        r.setAttribute(el, name, value, namespace);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} namespace\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeAttribute = function (r, el, name, namespace) {\n        r.removeAttribute(el, name, namespace);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.addClass = function (r, el, name) { r.addClass(el, name); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeClass = function (r, el, name) { r.removeClass(el, name); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setStyle = function (r, el, style, value, flags) {\n        r.setStyle(el, style, value, flags);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeStyle = function (r, el, style, flags) {\n        r.removeStyle(el, style, flags);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setProperty = function (r, el, name, value) {\n        r.setProperty(el, name, value);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setValue = function (r, node, value) { r.setValue(node, value); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} elName\n     * @param {?} eventName\n     * @param {?} unlistenId\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.listen = function (r, el, elName, eventName, unlistenId) {\n        var _this = this;\n        var /** @type {?} */ listener = function (event) {\n            return _this._eventDispatcher.dispatchRenderEvent(el, elName, eventName, event);\n        };\n        var /** @type {?} */ unlisten = r.listen(el || elName, eventName, listener);\n        this._renderStore.store(unlisten, unlistenId);\n    };\n    /**\n     * @param {?} r\n     * @param {?} unlisten\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.unlisten = function (r, unlisten) { unlisten(); };\n    return MessageBasedRenderer2;\n}());\nMessageBasedRenderer2.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nMessageBasedRenderer2.ctorParameters = function () { return [\n    { type: ServiceMessageBrokerFactory, },\n    { type: MessageBus, },\n    { type: Serializer, },\n    { type: RenderStore, },\n    { type: _angular_core.RendererFactory2, },\n]; };\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Wrapper class that exposes the Worker\n * and underlying {\\@link MessageBus} for lower level message passing.\n *\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WebWorkerInstance = (function () {\n    function WebWorkerInstance() {\n    }\n    /**\n     * \\@internal\n     * @param {?} worker\n     * @param {?} bus\n     * @return {?}\n     */\n    WebWorkerInstance.prototype.init = function (worker, bus) {\n        this.worker = worker;\n        this.bus = bus;\n    };\n    return WebWorkerInstance;\n}());\nWebWorkerInstance.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nWebWorkerInstance.ctorParameters = function () { return []; };\n/**\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WORKER_SCRIPT = new _angular_core.InjectionToken('WebWorkerScript');\n/**\n * A multi-provider used to automatically call the `start()` method after the service is\n * created.\n *\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WORKER_UI_STARTABLE_MESSAGING_SERVICE = new _angular_core.InjectionToken('WorkerRenderStartableMsgService');\nvar _WORKER_UI_PLATFORM_PROVIDERS = [\n    { provide: _angular_core.NgZone, useFactory: createNgZone, deps: [] },\n    {\n        provide: MessageBasedRenderer2,\n        deps: [ServiceMessageBrokerFactory, MessageBus, Serializer, RenderStore, _angular_core.RendererFactory2]\n    },\n    { provide: WORKER_UI_STARTABLE_MESSAGING_SERVICE, useExisting: MessageBasedRenderer2, multi: true },\n    _angular_platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n    { provide: _angular_core.ErrorHandler, useFactory: _exceptionHandler, deps: [] },\n    { provide: _angular_platformBrowser.DOCUMENT, useFactory: _document, deps: [] },\n    // TODO(jteplitz602): Investigate if we definitely need EVENT_MANAGER on the render thread\n    // #5298\n    {\n        provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: _angular_platformBrowser.ɵDomEventsPlugin,\n        deps: [_angular_platformBrowser.DOCUMENT, _angular_core.NgZone],\n        multi: true\n    },\n    { provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS, useClass: _angular_platformBrowser.ɵKeyEventsPlugin, deps: [_angular_platformBrowser.DOCUMENT], multi: true },\n    {\n        provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: _angular_platformBrowser.ɵHammerGesturesPlugin,\n        deps: [_angular_platformBrowser.DOCUMENT, _angular_platformBrowser.HAMMER_GESTURE_CONFIG],\n        multi: true\n    },\n    { provide: _angular_platformBrowser.HAMMER_GESTURE_CONFIG, useClass: _angular_platformBrowser.HammerGestureConfig, deps: [] },\n    _angular_core.ɵAPP_ID_RANDOM_PROVIDER,\n    { provide: _angular_platformBrowser.ɵDomRendererFactory2, deps: [_angular_platformBrowser.EventManager, _angular_platformBrowser.ɵDomSharedStylesHost] },\n    { provide: _angular_core.RendererFactory2, useExisting: _angular_platformBrowser.ɵDomRendererFactory2 },\n    { provide: _angular_platformBrowser.ɵSharedStylesHost, useExisting: _angular_platformBrowser.ɵDomSharedStylesHost },\n    {\n        provide: ServiceMessageBrokerFactory,\n        useClass: ServiceMessageBrokerFactory_,\n        deps: [MessageBus, Serializer]\n    },\n    {\n        provide: ClientMessageBrokerFactory,\n        useClass: ClientMessageBrokerFactory_,\n        deps: [MessageBus, Serializer]\n    },\n    { provide: Serializer, deps: [RenderStore] },\n    { provide: ON_WEB_WORKER, useValue: false },\n    { provide: RenderStore, deps: [] },\n    { provide: _angular_platformBrowser.ɵDomSharedStylesHost, deps: [_angular_platformBrowser.DOCUMENT] },\n    { provide: _angular_core.Testability, deps: [_angular_core.NgZone] },\n    { provide: _angular_platformBrowser.EventManager, deps: [_angular_platformBrowser.EVENT_MANAGER_PLUGINS, _angular_core.NgZone] },\n    { provide: WebWorkerInstance, deps: [] },\n    {\n        provide: _angular_core.PLATFORM_INITIALIZER,\n        useFactory: initWebWorkerRenderPlatform,\n        multi: true,\n        deps: [_angular_core.Injector]\n    },\n    { provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_WORKER_UI_ID },\n    { provide: MessageBus, useFactory: messageBusFactory, deps: [WebWorkerInstance] },\n];\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initializeGenericWorkerRenderer(injector) {\n    var /** @type {?} */ bus = injector.get(MessageBus);\n    var /** @type {?} */ zone = injector.get(_angular_core.NgZone);\n    bus.attachToZone(zone);\n    // initialize message services after the bus has been created\n    var /** @type {?} */ services = injector.get(WORKER_UI_STARTABLE_MESSAGING_SERVICE);\n    zone.runGuarded(function () { services.forEach(function (svc) { svc.start(); }); });\n}\n/**\n * @param {?} instance\n * @return {?}\n */\nfunction messageBusFactory(instance) {\n    return instance.bus;\n}\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initWebWorkerRenderPlatform(injector) {\n    return function () {\n        _angular_platformBrowser.ɵBrowserDomAdapter.makeCurrent();\n        _angular_platformBrowser.ɵBrowserGetTestability.init();\n        var /** @type {?} */ scriptUri;\n        try {\n            scriptUri = injector.get(WORKER_SCRIPT);\n        }\n        catch (e) {\n            throw new Error('You must provide your WebWorker\\'s initialization script with the WORKER_SCRIPT token');\n        }\n        var /** @type {?} */ instance = injector.get(WebWorkerInstance);\n        spawnWebWorker(scriptUri, instance);\n        initializeGenericWorkerRenderer(injector);\n    };\n}\n/**\n * \\@experimental WebWorker support is currently experimental.\n */\nvar platformWorkerUi = _angular_core.createPlatformFactory(_angular_core.platformCore, 'workerUi', _WORKER_UI_PLATFORM_PROVIDERS);\n/**\n * @return {?}\n */\nfunction _exceptionHandler() {\n    return new _angular_core.ErrorHandler();\n}\n/**\n * @return {?}\n */\nfunction _document() {\n    return document;\n}\n/**\n * @return {?}\n */\nfunction createNgZone() {\n    return new _angular_core.NgZone({ enableLongStackTrace: _angular_core.isDevMode() });\n}\n/**\n * Spawns a new class and initializes the WebWorkerInstance\n * @param {?} uri\n * @param {?} instance\n * @return {?}\n */\nfunction spawnWebWorker(uri, instance) {\n    var /** @type {?} */ webWorker = new Worker(uri);\n    var /** @type {?} */ sink = new PostMessageBusSink(webWorker);\n    var /** @type {?} */ source = new PostMessageBusSource(webWorker);\n    var /** @type {?} */ bus = new PostMessageBus(sink, source);\n    instance.init(webWorker, bus);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of the common package.\n */\n/**\n * \\@stable\n */\nvar VERSION = new _angular_core.Version('5.0.0-beta.6-a69172f');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar MessageBasedPlatformLocation = (function () {\n    /**\n     * @param {?} _brokerFactory\n     * @param {?} _platformLocation\n     * @param {?} bus\n     * @param {?} _serializer\n     */\n    function MessageBasedPlatformLocation(_brokerFactory, _platformLocation, bus, _serializer) {\n        this._brokerFactory = _brokerFactory;\n        this._platformLocation = _platformLocation;\n        this._serializer = _serializer;\n        this._platformLocation.onPopState(/** @type {?} */ (this._sendUrlChangeEvent.bind(this)));\n        this._platformLocation.onHashChange(/** @type {?} */ (this._sendUrlChangeEvent.bind(this)));\n        this._broker = this._brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        this._channelSink = bus.to(ROUTER_CHANNEL);\n    }\n    /**\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype.start = function () {\n        var /** @type {?} */ P = SerializerTypes.PRIMITIVE;\n        this._broker.registerMethod('getLocation', null, this._getLocation.bind(this), LocationType);\n        this._broker.registerMethod('setPathname', [P], this._setPathname.bind(this));\n        this._broker.registerMethod('pushState', [P, P, P], this._platformLocation.pushState.bind(this._platformLocation));\n        this._broker.registerMethod('replaceState', [P, P, P], this._platformLocation.replaceState.bind(this._platformLocation));\n        this._broker.registerMethod('forward', null, this._platformLocation.forward.bind(this._platformLocation));\n        this._broker.registerMethod('back', null, this._platformLocation.back.bind(this._platformLocation));\n    };\n    /**\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._getLocation = function () {\n        return Promise.resolve(this._platformLocation.location);\n    };\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._sendUrlChangeEvent = function (e) {\n        this._channelSink.emit({\n            'event': { 'type': e.type },\n            'location': this._serializer.serialize(this._platformLocation.location, LocationType),\n        });\n    };\n    /**\n     * @param {?} pathname\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._setPathname = function (pathname) { this._platformLocation.pathname = pathname; };\n    return MessageBasedPlatformLocation;\n}());\nMessageBasedPlatformLocation.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nMessageBasedPlatformLocation.ctorParameters = function () { return [\n    { type: ServiceMessageBrokerFactory, },\n    { type: _angular_platformBrowser.ɵBrowserPlatformLocation, },\n    { type: MessageBus, },\n    { type: Serializer, },\n]; };\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A list of {\\@link Provider}s. To use the router in a Worker enabled application you must\n * include these providers when setting up the render thread.\n * \\@experimental\n */\nvar WORKER_UI_LOCATION_PROVIDERS = ([\n    { provide: MessageBasedPlatformLocation, deps: [ServiceMessageBrokerFactory,\n            _angular_platformBrowser.ɵBrowserPlatformLocation, MessageBus, Serializer] },\n    { provide: _angular_platformBrowser.ɵBrowserPlatformLocation, deps: [_angular_common.DOCUMENT] },\n    { provide: _angular_core.PLATFORM_INITIALIZER, useFactory: initUiLocation, multi: true, deps: [_angular_core.Injector] }\n]);\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initUiLocation(injector) {\n    return function () {\n        var /** @type {?} */ zone = injector.get(_angular_core.NgZone);\n        zone.runGuarded(function () { return injector.get(MessageBasedPlatformLocation).start(); });\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar WebWorkerPlatformLocation = (function (_super) {\n    __extends(WebWorkerPlatformLocation, _super);\n    /**\n     * @param {?} brokerFactory\n     * @param {?} bus\n     * @param {?} _serializer\n     */\n    function WebWorkerPlatformLocation(brokerFactory, bus, _serializer) {\n        var _this = _super.call(this) || this;\n        _this._serializer = _serializer;\n        _this._popStateListeners = [];\n        _this._hashChangeListeners = [];\n        _this._location = ((null));\n        _this._broker = brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        _this._channelSource = bus.from(ROUTER_CHANNEL);\n        _this._channelSource.subscribe({\n            next: function (msg) {\n                var /** @type {?} */ listeners = null;\n                if (msg.hasOwnProperty('event')) {\n                    var /** @type {?} */ type = msg['event']['type'];\n                    if (type === 'popstate') {\n                        listeners = _this._popStateListeners;\n                    }\n                    else if (type === 'hashchange') {\n                        listeners = _this._hashChangeListeners;\n                    }\n                    if (listeners) {\n                        // There was a popState or hashChange event, so the location object thas been updated\n                        _this._location = _this._serializer.deserialize(msg['location'], LocationType);\n                        listeners.forEach(function (fn) { return fn(msg['event']); });\n                    }\n                }\n            }\n        });\n        _this.initialized = new Promise(function (res) { return _this.initializedResolve = res; });\n        return _this;\n    }\n    /**\n     * \\@internal *\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.init = function () {\n        var _this = this;\n        var /** @type {?} */ args = new UiArguments('getLocation');\n        return ((this._broker.runOnService(args, LocationType))).then(function (val) {\n            _this._location = val;\n            _this.initializedResolve();\n            return true;\n        }, function (err) { throw new Error(err); });\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.getBaseHrefFromDOM = function () {\n        throw new Error('Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.');\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.onPopState = function (fn) { this._popStateListeners.push(fn); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.onHashChange = function (fn) { this._hashChangeListeners.push(fn); };\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"pathname\", {\n        /**\n         * @return {?}\n         */\n        get: function () { return this._location ? ((this._location.pathname)) : '<unknown>'; },\n        /**\n         * @param {?} newPath\n         * @return {?}\n         */\n        set: function (newPath) {\n            if (this._location === null) {\n                throw new Error('Attempt to set pathname before value is obtained from UI');\n            }\n            this._location.pathname = newPath;\n            var /** @type {?} */ fnArgs = [new FnArg(newPath, SerializerTypes.PRIMITIVE)];\n            var /** @type {?} */ args = new UiArguments('setPathname', fnArgs);\n            this._broker.runOnService(args, null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"search\", {\n        /**\n         * @return {?}\n         */\n        get: function () { return this._location ? this._location.search : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"hash\", {\n        /**\n         * @return {?}\n         */\n        get: function () { return this._location ? this._location.hash : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.pushState = function (state, title, url) {\n        var /** @type {?} */ fnArgs = [\n            new FnArg(state, SerializerTypes.PRIMITIVE),\n            new FnArg(title, SerializerTypes.PRIMITIVE),\n            new FnArg(url, SerializerTypes.PRIMITIVE),\n        ];\n        var /** @type {?} */ args = new UiArguments('pushState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.replaceState = function (state, title, url) {\n        var /** @type {?} */ fnArgs = [\n            new FnArg(state, SerializerTypes.PRIMITIVE),\n            new FnArg(title, SerializerTypes.PRIMITIVE),\n            new FnArg(url, SerializerTypes.PRIMITIVE),\n        ];\n        var /** @type {?} */ args = new UiArguments('replaceState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.forward = function () {\n        var /** @type {?} */ args = new UiArguments('forward');\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.back = function () {\n        var /** @type {?} */ args = new UiArguments('back');\n        this._broker.runOnService(args, null);\n    };\n    return WebWorkerPlatformLocation;\n}(_angular_common.PlatformLocation));\nWebWorkerPlatformLocation.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nWebWorkerPlatformLocation.ctorParameters = function () { return [\n    { type: ClientMessageBrokerFactory, },\n    { type: MessageBus, },\n    { type: Serializer, },\n]; };\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * The {\\@link PlatformLocation} providers that should be added when the {\\@link Location} is used in\n * a worker context.\n *\n * \\@experimental\n */\nvar WORKER_APP_LOCATION_PROVIDERS = [\n    { provide: _angular_common.PlatformLocation, useClass: WebWorkerPlatformLocation }, {\n        provide: _angular_core.APP_INITIALIZER,\n        useFactory: appInitFnFactory,\n        multi: true,\n        deps: [_angular_common.PlatformLocation, _angular_core.NgZone]\n    },\n    { provide: _angular_common.LOCATION_INITIALIZED, useFactory: locationInitialized, deps: [_angular_common.PlatformLocation] }\n];\n/**\n * @param {?} platformLocation\n * @return {?}\n */\nfunction locationInitialized(platformLocation) {\n    return platformLocation.initialized;\n}\n/**\n * @param {?} platformLocation\n * @param {?} zone\n * @return {?}\n */\nfunction appInitFnFactory(platformLocation, zone) {\n    return function () { return zone.runGuarded(function () { return platformLocation.init(); }); };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar NamedEventEmitter = (function () {\n    function NamedEventEmitter() {\n    }\n    /**\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.listen = function (eventName, callback) { this._getListeners(eventName).push(callback); };\n    /**\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.unlisten = function (eventName, listener) {\n        var /** @type {?} */ listeners = this._getListeners(eventName);\n        var /** @type {?} */ index = listeners.indexOf(listener);\n        if (index > -1) {\n            listeners.splice(index, 1);\n        }\n    };\n    /**\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.dispatchEvent = function (eventName, event) {\n        var /** @type {?} */ listeners = this._getListeners(eventName);\n        for (var /** @type {?} */ i = 0; i < listeners.length; i++) {\n            listeners[i](event);\n        }\n    };\n    /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    NamedEventEmitter.prototype._getListeners = function (eventName) {\n        if (!this._listeners) {\n            this._listeners = new Map();\n        }\n        var /** @type {?} */ listeners = this._listeners.get(eventName);\n        if (!listeners) {\n            listeners = [];\n            this._listeners.set(eventName, listeners);\n        }\n        return listeners;\n    };\n    return NamedEventEmitter;\n}());\n/**\n * @param {?} target\n * @param {?} eventName\n * @return {?}\n */\nfunction eventNameWithTarget(target, eventName) {\n    return target + \":\" + eventName;\n}\nvar WebWorkerRendererFactory2 = (function () {\n    /**\n     * @param {?} messageBrokerFactory\n     * @param {?} bus\n     * @param {?} _serializer\n     * @param {?} renderStore\n     */\n    function WebWorkerRendererFactory2(messageBrokerFactory, bus, _serializer, renderStore) {\n        var _this = this;\n        this._serializer = _serializer;\n        this.renderStore = renderStore;\n        this.globalEvents = new NamedEventEmitter();\n        this._messageBroker = messageBrokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        bus.initChannel(EVENT_2_CHANNEL);\n        var /** @type {?} */ source = bus.from(EVENT_2_CHANNEL);\n        source.subscribe({ next: function (message) { return _this._dispatchEvent(message); } });\n    }\n    /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.createRenderer = function (element, type) {\n        var /** @type {?} */ renderer = new WebWorkerRenderer2(this);\n        var /** @type {?} */ id = this.renderStore.allocateId();\n        this.renderStore.store(renderer, id);\n        this.callUI('createRenderer', [\n            new FnArg(element, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(type, SerializerTypes.RENDERER_TYPE_2),\n            new FnArg(renderer, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n        return renderer;\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.begin = function () { };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.end = function () { };\n    /**\n     * @param {?} fnName\n     * @param {?} fnArgs\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.callUI = function (fnName, fnArgs) {\n        var /** @type {?} */ args = new UiArguments(fnName, fnArgs);\n        this._messageBroker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.allocateNode = function () {\n        var /** @type {?} */ result = new WebWorkerRenderNode();\n        var /** @type {?} */ id = this.renderStore.allocateId();\n        this.renderStore.store(result, id);\n        return result;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.freeNode = function (node) { this.renderStore.remove(node); };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.allocateId = function () { return this.renderStore.allocateId(); };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype._dispatchEvent = function (message) {\n        var /** @type {?} */ element = this._serializer.deserialize(message['element'], SerializerTypes.RENDER_STORE_OBJECT);\n        var /** @type {?} */ eventName = message['eventName'];\n        var /** @type {?} */ target = message['eventTarget'];\n        var /** @type {?} */ event = message['event'];\n        if (target) {\n            this.globalEvents.dispatchEvent(eventNameWithTarget(target, eventName), event);\n        }\n        else {\n            element.events.dispatchEvent(eventName, event);\n        }\n    };\n    return WebWorkerRendererFactory2;\n}());\nWebWorkerRendererFactory2.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nWebWorkerRendererFactory2.ctorParameters = function () { return [\n    { type: ClientMessageBrokerFactory, },\n    { type: MessageBus, },\n    { type: Serializer, },\n    { type: RenderStore, },\n]; };\nvar WebWorkerRenderer2 = (function () {\n    /**\n     * @param {?} _rendererFactory\n     */\n    function WebWorkerRenderer2(_rendererFactory) {\n        this._rendererFactory = _rendererFactory;\n        this.data = Object.create(null);\n        this.asFnArg = new FnArg(this, SerializerTypes.RENDER_STORE_OBJECT);\n    }\n    /**\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.destroy = function () { this.callUIWithRenderer('destroy'); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.destroyNode = function (node) {\n        this.callUIWithRenderer('destroyNode', [new FnArg(node, SerializerTypes.RENDER_STORE_OBJECT)]);\n        this._rendererFactory.freeNode(node);\n    };\n    /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createElement = function (name, namespace) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createElement', [\n            new FnArg(name),\n            new FnArg(namespace),\n            new FnArg(node, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createComment = function (value) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createComment', [\n            new FnArg(value),\n            new FnArg(node, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createText = function (value) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createText', [\n            new FnArg(value),\n            new FnArg(node, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.appendChild = function (parent, newChild) {\n        this.callUIWithRenderer('appendChild', [\n            new FnArg(parent, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(newChild, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n    };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.insertBefore = function (parent, newChild, refChild) {\n        if (!parent) {\n            return;\n        }\n        this.callUIWithRenderer('insertBefore', [\n            new FnArg(parent, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(newChild, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(refChild, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n    };\n    /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeChild = function (parent, oldChild) {\n        this.callUIWithRenderer('removeChild', [\n            new FnArg(parent, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(oldChild, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n    };\n    /**\n     * @param {?} selectorOrNode\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.selectRootElement = function (selectorOrNode) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('selectRootElement', [\n            new FnArg(selectorOrNode),\n            new FnArg(node, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.parentNode = function (node) {\n        var /** @type {?} */ res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('parentNode', [\n            new FnArg(node, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(res, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n        return res;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.nextSibling = function (node) {\n        var /** @type {?} */ res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('nextSibling', [\n            new FnArg(node, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(res, SerializerTypes.RENDER_STORE_OBJECT),\n        ]);\n        return res;\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setAttribute = function (el, name, value, namespace) {\n        this.callUIWithRenderer('setAttribute', [\n            new FnArg(el, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(name),\n            new FnArg(value),\n            new FnArg(namespace),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeAttribute = function (el, name, namespace) {\n        this.callUIWithRenderer('removeAttribute', [\n            new FnArg(el, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(name),\n            new FnArg(namespace),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.addClass = function (el, name) {\n        this.callUIWithRenderer('addClass', [\n            new FnArg(el, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(name),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeClass = function (el, name) {\n        this.callUIWithRenderer('removeClass', [\n            new FnArg(el, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(name),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setStyle = function (el, style, value, flags) {\n        this.callUIWithRenderer('setStyle', [\n            new FnArg(el, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(style),\n            new FnArg(value),\n            new FnArg(flags),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeStyle = function (el, style, flags) {\n        this.callUIWithRenderer('removeStyle', [\n            new FnArg(el, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(style),\n            new FnArg(flags),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setProperty = function (el, name, value) {\n        this.callUIWithRenderer('setProperty', [\n            new FnArg(el, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(name),\n            new FnArg(value),\n        ]);\n    };\n    /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setValue = function (node, value) {\n        this.callUIWithRenderer('setValue', [\n            new FnArg(node, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(value),\n        ]);\n    };\n    /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.listen = function (target, eventName, listener) {\n        var _this = this;\n        var /** @type {?} */ unlistenId = this._rendererFactory.allocateId();\n        var _a = typeof target === 'string' ? [null, target, target + \":\" + eventName] :\n            [target, null, null], targetEl = _a[0], targetName = _a[1], fullName = _a[2];\n        if (fullName) {\n            this._rendererFactory.globalEvents.listen(fullName, listener);\n        }\n        else {\n            targetEl.events.listen(eventName, listener);\n        }\n        this.callUIWithRenderer('listen', [\n            new FnArg(targetEl, SerializerTypes.RENDER_STORE_OBJECT),\n            new FnArg(targetName),\n            new FnArg(eventName),\n            new FnArg(unlistenId),\n        ]);\n        return function () {\n            if (fullName) {\n                _this._rendererFactory.globalEvents.unlisten(fullName, listener);\n            }\n            else {\n                targetEl.events.unlisten(eventName, listener);\n            }\n            _this.callUIWithRenderer('unlisten', [new FnArg(unlistenId)]);\n        };\n    };\n    /**\n     * @param {?} fnName\n     * @param {?=} fnArgs\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.callUIWithRenderer = function (fnName, fnArgs) {\n        if (fnArgs === void 0) { fnArgs = []; }\n        // always pass the renderer as the first arg\n        this._rendererFactory.callUI(fnName, [this.asFnArg].concat(fnArgs));\n    };\n    return WebWorkerRenderer2;\n}());\nvar WebWorkerRenderNode = (function () {\n    function WebWorkerRenderNode() {\n        this.events = new NamedEventEmitter();\n    }\n    return WebWorkerRenderNode;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * This adapter is required to log error messages.\n *\n * Note: other methods all throw as the DOM is not accessible directly in web worker context.\n */\nvar WorkerDomAdapter = (function (_super) {\n    __extends(WorkerDomAdapter, _super);\n    function WorkerDomAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.makeCurrent = function () { _angular_platformBrowser.ɵsetRootDomAdapter(new WorkerDomAdapter()); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logError = function (error) {\n        if (console.error) {\n            console.error(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.log = function (error) { console.log(error); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logGroup = function (error) {\n        if (console.group) {\n            console.group(error);\n            this.logError(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logGroupEnd = function () {\n        if (console.groupEnd) {\n            console.groupEnd();\n        }\n    };\n    /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.contains = function (nodeA, nodeB) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasProperty = function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setProperty = function (el, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getProperty = function (el, name) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} methodName\n     * @param {?} args\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.invoke = function (el, methodName, args) { throw 'not implemented'; };\n    Object.defineProperty(WorkerDomAdapter.prototype, \"attrToPropMap\", {\n        /**\n         * @return {?}\n         */\n        get: function () { throw 'not implemented'; },\n        /**\n         * @param {?} value\n         * @return {?}\n         */\n        set: function (value) { throw 'not implemented'; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} templateHtml\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.parse = function (templateHtml) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.querySelector = function (el, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.querySelectorAll = function (el, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.on = function (el, evt, listener) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.onAndCancel = function (el, evt, listener) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.dispatchEvent = function (el, evt) { throw 'not implemented'; };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createMouseEvent = function (eventType) { throw 'not implemented'; };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createEvent = function (eventType) { throw 'not implemented'; };\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.preventDefault = function (evt) { throw 'not implemented'; };\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isPrevented = function (evt) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getInnerHTML = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTemplateContent = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getOuterHTML = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nodeName = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nodeValue = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.type = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.content = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.firstChild = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nextSibling = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.parentElement = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.childNodes = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.childNodesAsList = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.clearNodes = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.appendChild = function (el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeChild = function (el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} newNode\n     * @param {?} oldNode\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.replaceChild = function (el, newNode, oldNode) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.remove = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertBefore = function (parent, el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} nodes\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertAllBefore = function (parent, el, nodes) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertAfter = function (parent, el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setInnerHTML = function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getText = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setText = function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getValue = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setValue = function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getChecked = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setChecked = function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} text\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createComment = function (text) { throw 'not implemented'; };\n    /**\n     * @param {?} html\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createTemplate = function (html) { throw 'not implemented'; };\n    /**\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createElement = function (tagName, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} ns\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createElementNS = function (ns, tagName, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} text\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createTextNode = function (text, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} attrName\n     * @param {?} attrValue\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) {\n        throw 'not implemented';\n    };\n    /**\n     * @param {?} css\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createStyleElement = function (css, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createShadowRoot = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getShadowRoot = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHost = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getDistributedNodes = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.clone = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getElementsByClassName = function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getElementsByTagName = function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.classList = function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.addClass = function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeClass = function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasClass = function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?} styleValue\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setStyle = function (element, styleName, styleValue) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeStyle = function (element, styleName) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getStyle = function (element, styleName) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasStyle = function (element, styleName, styleValue) {\n        throw 'not implemented';\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.tagName = function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.attributeMap = function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasAttribute = function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasAttributeNS = function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAttribute = function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAttributeNS = function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setAttribute = function (element, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setAttributeNS = function (element, ns, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeAttribute = function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeAttributeNS = function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.templateAwareRoot = function (el) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createHtmlDocument = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getDefaultDocument = function () { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getBoundingClientRect = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTitle = function (doc) { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @param {?} newTitle\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setTitle = function (doc, newTitle) { throw 'not implemented'; };\n    /**\n     * @param {?} n\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.elementMatches = function (n, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isTemplateElement = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isTextNode = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isCommentNode = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isElementNode = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasShadowRoot = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isShadowRoot = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.importIntoDoc = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.adoptNode = function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHref = function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getEventKey = function (event) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} baseUrl\n     * @param {?} href\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.resolveAndSetHref = function (element, baseUrl, href) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsDOMEvents = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsNativeShadowDOM = function () { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getGlobalEventTarget = function (doc, target) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHistory = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getLocation = function () { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getBaseHref = function (doc) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.resetBaseElement = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getUserAgent = function () { return 'Fake user agent'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setData = function (element, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getComputedStyle = function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getData = function (element, name) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.performanceNow = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAnimationPrefix = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTransitionEnd = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsAnimation = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsWebAnimation = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsCookies = function () { return false; };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getCookie = function (name) { throw 'not implemented'; };\n    /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setCookie = function (name, value) { throw 'not implemented'; };\n    return WorkerDomAdapter;\n}(_angular_platformBrowser.ɵDomAdapter));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental\n */\nvar platformWorkerApp = _angular_core.createPlatformFactory(_angular_core.platformCore, 'workerApp', [{ provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_WORKER_APP_ID }]);\n/**\n * @return {?}\n */\nfunction errorHandler() {\n    return new _angular_core.ErrorHandler();\n}\n// TODO(jteplitz602) remove this and compile with lib.webworker.d.ts (#3492)\nvar _postMessage = {\n    postMessage: function (message, transferrables) {\n        ((postMessage))(message, transferrables);\n    }\n};\n/**\n * @param {?} zone\n * @return {?}\n */\nfunction createMessageBus(zone) {\n    var /** @type {?} */ sink = new PostMessageBusSink(_postMessage);\n    var /** @type {?} */ source = new PostMessageBusSource();\n    var /** @type {?} */ bus = new PostMessageBus(sink, source);\n    bus.attachToZone(zone);\n    return bus;\n}\n/**\n * @return {?}\n */\nfunction setupWebWorker() {\n    WorkerDomAdapter.makeCurrent();\n}\n/**\n * The ng module for the worker app side.\n *\n * \\@experimental\n */\nvar WorkerAppModule = (function () {\n    function WorkerAppModule() {\n    }\n    return WorkerAppModule;\n}());\nWorkerAppModule.decorators = [\n    { type: _angular_core.NgModule, args: [{\n                providers: [\n                    _angular_platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n                    Serializer,\n                    { provide: _angular_platformBrowser.DOCUMENT, useValue: null },\n                    { provide: ClientMessageBrokerFactory, useClass: ClientMessageBrokerFactory_ },\n                    { provide: ServiceMessageBrokerFactory, useClass: ServiceMessageBrokerFactory_ },\n                    WebWorkerRendererFactory2,\n                    { provide: _angular_core.RendererFactory2, useExisting: WebWorkerRendererFactory2 },\n                    { provide: ON_WEB_WORKER, useValue: true },\n                    RenderStore,\n                    { provide: _angular_core.ErrorHandler, useFactory: errorHandler, deps: [] },\n                    { provide: MessageBus, useFactory: createMessageBus, deps: [_angular_core.NgZone] },\n                    { provide: _angular_core.APP_INITIALIZER, useValue: setupWebWorker, multi: true },\n                ],\n                exports: [\n                    _angular_common.CommonModule,\n                    _angular_core.ApplicationModule,\n                ]\n            },] },\n];\n/** @nocollapse */\nWorkerAppModule.ctorParameters = function () { return []; };\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Bootstraps the worker ui.\n *\n * \\@experimental\n * @param {?} workerScriptUri\n * @param {?=} customProviders\n * @return {?}\n */\nfunction bootstrapWorkerUi(workerScriptUri, customProviders) {\n    if (customProviders === void 0) { customProviders = []; }\n    // For now, just creates the worker ui platform...\n    var /** @type {?} */ platform = platformWorkerUi([\n        { provide: WORKER_SCRIPT, useValue: workerScriptUri }\n    ].concat(customProviders));\n    return Promise.resolve(platform);\n}\n\nexports.VERSION = VERSION;\nexports.ClientMessageBroker = ClientMessageBroker;\nexports.ClientMessageBrokerFactory = ClientMessageBrokerFactory;\nexports.FnArg = FnArg;\nexports.UiArguments = UiArguments;\nexports.MessageBus = MessageBus;\nexports.MessageBusSink = MessageBusSink;\nexports.MessageBusSource = MessageBusSource;\nexports.SerializerTypes = SerializerTypes;\nexports.ReceivedMessage = ReceivedMessage;\nexports.ServiceMessageBroker = ServiceMessageBroker;\nexports.ServiceMessageBrokerFactory = ServiceMessageBrokerFactory;\nexports.WORKER_UI_LOCATION_PROVIDERS = WORKER_UI_LOCATION_PROVIDERS;\nexports.WORKER_APP_LOCATION_PROVIDERS = WORKER_APP_LOCATION_PROVIDERS;\nexports.WorkerAppModule = WorkerAppModule;\nexports.platformWorkerApp = platformWorkerApp;\nexports.platformWorkerUi = platformWorkerUi;\nexports.bootstrapWorkerUi = bootstrapWorkerUi;\nexports.ɵm = ON_WEB_WORKER;\nexports.ɵa = ClientMessageBrokerFactory_;\nexports.ɵk = RenderStore;\nexports.ɵb = Serializer;\nexports.ɵc = ServiceMessageBrokerFactory_;\nexports.ɵe = appInitFnFactory;\nexports.ɵd = locationInitialized;\nexports.ɵj = WebWorkerPlatformLocation;\nexports.ɵl = WebWorkerRendererFactory2;\nexports.ɵg = createMessageBus;\nexports.ɵf = errorHandler;\nexports.ɵh = setupWebWorker;\nexports.ɵi = _WORKER_UI_PLATFORM_PROVIDERS;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=platform-webworker.umd.js.map\n"]}