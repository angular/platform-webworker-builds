{"version":3,"sources":["/home/travis/build/angular/angular/dist/packages-dist/platform-webworker/bundles/platform-webworker.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","platformWebworker","common","core","platformBrowser","this","_angular_common","_angular_core","_angular_platformBrowser","__extends","d","b","__","constructor","extendStatics","prototype","Object","create","serializeGenericEvent","e","serializeEvent","EVENT_PROPERTIES","serializeEventWithTarget","serializedEvent","addTarget","serializeMouseEvent","MOUSE_EVENT_PROPERTIES","serializeKeyboardEvent","KEYBOARD_EVENT_PROPERTIES","serializeTransitionEvent","TRANSITION_EVENT_PROPERTIES","NODES_WITH_VALUE","has","tagName","toLowerCase","target","value","files","properties","serialized","i","length","prop","initializeGenericWorkerRenderer","injector","bus","get","MessageBus","zone","NgZone","attachToZone","services","WORKER_UI_STARTABLE_MESSAGING_SERVICE","runGuarded","forEach","svc","start","messageBusFactory","instance","initWebWorkerRenderPlatform","ɵBrowserDomAdapter","makeCurrent","ɵBrowserGetTestability","init","scriptUri","WORKER_SCRIPT","Error","WebWorkerInstance","spawnWebWorker","_exceptionHandler","ErrorHandler","_document","document","createNgZone","enableLongStackTrace","isDevMode","uri","webWorker","Worker","sink","PostMessageBusSink","source","PostMessageBusSource","PostMessageBus","initUiLocation","MessageBasedPlatformLocation","locationInitialized","platformLocation","initialized","appInitFnFactory","eventNameWithTarget","eventName","errorHandler","createMessageBus","_postMessage","setupWebWorker","WorkerDomAdapter","bootstrapWorkerUi","workerScriptUri","customProviders","platform","platformWorkerUi","provide","useValue","concat","Promise","resolve","setPrototypeOf","__proto__","Array","p","hasOwnProperty","ON_WEB_WORKER","InjectionToken","RenderStore","_nextIndex","_lookupById","Map","_lookupByObject","allocateId","store","obj","id","set","remove","index","delete","deserialize","serialize","decorators","type","Injectable","ctorParameters","LocationType","href","protocol","host","hostname","port","pathname","search","hash","origin","Serializer","_renderStore","_this","isArray","map","v","RenderComponentType","_serializeRenderComponentType","_serializeRendererType2","_serializeLocation","ɵstringify","data","val","_deserializeRenderComponentType","_deserializeRendererType2","_deserializeLocation","loc","templateUrl","slotCount","encapsulation","styles","props","ClientMessageBrokerFactory","_messageBus","_serializer","createMessageBroker","channel","runInZone","initChannel","ClientMessageBroker","messageBus","_pending","_sink","to","from","subscribe","next","message","_handleMessage","_generateMessageId","name","time","Date","getTime","iteration","runOnService","args","returnType","fnArgs","argument","push","promise","completer_1","reject","method","catch","err","console","error","then","emit","FnArg","UiArguments","_postMessageTarget","_channels","_messageBuffer","_zone","runOutsideAngular","onStable","_handleOnEventDone","emitter","EventEmitter","channelInfo","_Channel","_sendMessages","messages","postMessage","eventTarget","addEventListener","ev","_handleMessages","workerScope","channelInfo_1","run","ServiceMessageBrokerFactory","ServiceMessageBroker","_methods","registerMethod","methodName","signature","serializedArgs","numArgs","deserializedArgs","serializedArg","apply","_wrapWebWorkerPromise","result","RENDERER_2_CHANNEL","EVENT_2_CHANNEL","ROUTER_CHANNEL","Set","EventDispatcher","dispatchAnimationEvent","player","phaseName","element","animationPlayer","dispatchRenderEvent","event","MessageBasedRenderer2","_brokerFactory","_bus","_rendererFactory","broker","_eventDispatcher","_a","RSO","P","CRT","methods","createRenderer","createElement","createComment","createText","appendChild","insertBefore","removeChild","selectRootElement","parentNode","nextSibling","setAttribute","removeAttribute","addClass","removeClass","setStyle","removeStyle","setProperty","setValue","listen","unlisten","destroy","destroyNode","argTypes","slice","bind","r","node","el","namespace","parent","child","ref","selector","style","flags","elName","unlistenId","listener","RendererFactory2","worker","_WORKER_UI_PLATFORM_PROVIDERS","useFactory","deps","useExisting","multi","ɵBROWSER_SANITIZATION_PROVIDERS","DOCUMENT","EVENT_MANAGER_PLUGINS","useClass","ɵDomEventsPlugin","ɵKeyEventsPlugin","ɵHammerGesturesPlugin","HAMMER_GESTURE_CONFIG","HammerGestureConfig","ɵAPP_ID_RANDOM_PROVIDER","ɵDomRendererFactory2","EventManager","ɵDomSharedStylesHost","ɵSharedStylesHost","Testability","PLATFORM_INITIALIZER","Injector","PLATFORM_ID","ɵPLATFORM_WORKER_UI_ID","createPlatformFactory","platformCore","VERSION","Version","_platformLocation","onPopState","_sendUrlChangeEvent","onHashChange","_broker","_channelSink","_getLocation","_setPathname","pushState","replaceState","forward","back","location","ɵBrowserPlatformLocation","WORKER_UI_LOCATION_PROVIDERS","WebWorkerPlatformLocation","_super","brokerFactory","call","_popStateListeners","_hashChangeListeners","_location","_channelSource","msg","listeners","fn","res","initializedResolve","getBaseHrefFromDOM","defineProperty","newPath","enumerable","configurable","state","title","url","PlatformLocation","WORKER_APP_LOCATION_PROVIDERS","APP_INITIALIZER","LOCATION_INITIALIZED","NamedEventEmitter","callback","_getListeners","indexOf","splice","dispatchEvent","_listeners","WebWorkerRendererFactory2","messageBrokerFactory","renderStore","globalEvents","_messageBroker","_dispatchEvent","renderer","WebWorkerRenderer2","callUI","begin","end","fnName","allocateNode","WebWorkerRenderNode","freeNode","events","asFnArg","callUIWithRenderer","newChild","refChild","oldChild","selectorOrNode","targetEl","targetName","fullName","arguments","ɵsetRootDomAdapter","logError","log","logGroup","group","logGroupEnd","groupEnd","contains","nodeA","nodeB","hasProperty","getProperty","invoke","parse","templateHtml","querySelector","querySelectorAll","on","evt","onAndCancel","createMouseEvent","eventType","createEvent","preventDefault","isPrevented","getInnerHTML","getTemplateContent","getOuterHTML","nodeName","nodeValue","content","firstChild","parentElement","childNodes","childNodesAsList","clearNodes","replaceChild","newNode","oldNode","insertAllBefore","nodes","insertAfter","setInnerHTML","getText","setText","getValue","getChecked","setChecked","text","createTemplate","html","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","createStyleElement","css","createShadowRoot","getShadowRoot","getHost","getDistributedNodes","clone","getElementsByClassName","getElementsByTagName","classList","className","hasClass","styleName","styleValue","getStyle","hasStyle","attributeMap","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttributeNS","templateAwareRoot","createHtmlDocument","getDefaultDocument","getBoundingClientRect","getTitle","setTitle","newTitle","elementMatches","n","isTemplateElement","isTextNode","isCommentNode","isElementNode","hasShadowRoot","isShadowRoot","importIntoDoc","adoptNode","getHref","getEventKey","resolveAndSetHref","baseUrl","supportsDOMEvents","supportsNativeShadowDOM","getGlobalEventTarget","getHistory","getLocation","getBaseHref","resetBaseElement","getUserAgent","setData","getComputedStyle","getData","performanceNow","getAnimationPrefix","getTransitionEnd","supportsAnimation","supportsWebAnimation","supportsCookies","getCookie","setCookie","ɵDomAdapter","platformWorkerApp","ɵPLATFORM_WORKER_APP_ID","ɵ0","transferrables","WorkerAppModule","NgModule","providers","CommonModule","ApplicationModule","ɵk","ɵh","ɵa","ɵc","ɵb","ɵi","ɵj","ɵe","ɵd","ɵf","ɵg"],"mappings":"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","file":"/home/travis/build/angular/angular/dist/packages-dist/platform-webworker/bundles/platform-webworker.umd.min.js","sourcesContent":["/**\n * @license Angular v5.0.0-beta.7-6e1896b\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/common'), require('@angular/core'), require('@angular/platform-browser')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', '@angular/common', '@angular/core', '@angular/platform-browser'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.platformWebworker = {}),global.ng.common,global.ng.core,global.ng.platformBrowser));\n}(this, (function (exports,_angular_common,_angular_core,_angular_platformBrowser) { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n/**\n * @license Angular v5.0.0-beta.7-6e1896b\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ON_WEB_WORKER = new _angular_core.InjectionToken('WebWorker.onWebWorker');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Message Bus is a low level API used to communicate between the UI and the background.\n * Communication is based on a channel abstraction. Messages published in a\n * given channel to one MessageBusSink are received on the same channel\n * by the corresponding MessageBusSource.\n *\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @abstract\n */\nvar MessageBus = (function () {\n    function MessageBus() {\n    }\n    return MessageBus;\n}());\n/**\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @record\n */\n\n/**\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @record\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar RenderStore = (function () {\n    function RenderStore() {\n        this._nextIndex = 0;\n        this._lookupById = new Map();\n        this._lookupByObject = new Map();\n    }\n    /**\n     * @return {?}\n     */\n    RenderStore.prototype.allocateId = /**\n     * @return {?}\n     */\n    function () { return this._nextIndex++; };\n    /**\n     * @param {?} obj\n     * @param {?} id\n     * @return {?}\n     */\n    RenderStore.prototype.store = /**\n     * @param {?} obj\n     * @param {?} id\n     * @return {?}\n     */\n    function (obj, id) {\n        if (id == null)\n            return;\n        this._lookupById.set(id, obj);\n        this._lookupByObject.set(obj, id);\n    };\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n    RenderStore.prototype.remove = /**\n     * @param {?} obj\n     * @return {?}\n     */\n    function (obj) {\n        var /** @type {?} */ index = this._lookupByObject.get(obj);\n        if (index != null) {\n            this._lookupByObject.delete(obj);\n            this._lookupById.delete(index);\n        }\n    };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    RenderStore.prototype.deserialize = /**\n     * @param {?} id\n     * @return {?}\n     */\n    function (id) {\n        return this._lookupById.has(id) ? this._lookupById.get(id) : null;\n    };\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n    RenderStore.prototype.serialize = /**\n     * @param {?} obj\n     * @return {?}\n     */\n    function (obj) {\n        return obj == null ? null : this._lookupByObject.get(obj);\n    };\n    RenderStore.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    RenderStore.ctorParameters = function () { return []; };\n    return RenderStore;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar LocationType = (function () {\n    function LocationType(href, protocol, host, hostname, port, pathname, search, hash, origin) {\n        this.href = href;\n        this.protocol = protocol;\n        this.host = host;\n        this.hostname = hostname;\n        this.port = port;\n        this.pathname = pathname;\n        this.search = search;\n        this.hash = hash;\n        this.origin = origin;\n    }\n    return LocationType;\n}());\nvar Serializer = (function () {\n    function Serializer(_renderStore) {\n        this._renderStore = _renderStore;\n    }\n    /**\n     * @param {?} obj\n     * @param {?=} type\n     * @return {?}\n     */\n    Serializer.prototype.serialize = /**\n     * @param {?} obj\n     * @param {?=} type\n     * @return {?}\n     */\n    function (obj, type) {\n        var _this = this;\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        if (obj == null || type === 1 /* PRIMITIVE */) {\n            return obj;\n        }\n        if (Array.isArray(obj)) {\n            return obj.map(function (v) { return _this.serialize(v, type); });\n        }\n        if (type === 2 /* RENDER_STORE_OBJECT */) {\n            return /** @type {?} */ ((this._renderStore.serialize(obj)));\n        }\n        if (type === _angular_core.RenderComponentType) {\n            return this._serializeRenderComponentType(obj);\n        }\n        if (type === 0 /* RENDERER_TYPE_2 */) {\n            return this._serializeRendererType2(obj);\n        }\n        if (type === LocationType) {\n            return this._serializeLocation(obj);\n        }\n        throw new Error(\"No serializer for type \" + _angular_core.ɵstringify(type));\n    };\n    /**\n     * @param {?} map\n     * @param {?=} type\n     * @param {?=} data\n     * @return {?}\n     */\n    Serializer.prototype.deserialize = /**\n     * @param {?} map\n     * @param {?=} type\n     * @param {?=} data\n     * @return {?}\n     */\n    function (map, type, data) {\n        var _this = this;\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        if (map == null || type === 1 /* PRIMITIVE */) {\n            return map;\n        }\n        if (Array.isArray(map)) {\n            return map.map(function (val) { return _this.deserialize(val, type, data); });\n        }\n        if (type === 2 /* RENDER_STORE_OBJECT */) {\n            return this._renderStore.deserialize(map);\n        }\n        if (type === _angular_core.RenderComponentType) {\n            return this._deserializeRenderComponentType(map);\n        }\n        if (type === 0 /* RENDERER_TYPE_2 */) {\n            return this._deserializeRendererType2(map);\n        }\n        if (type === LocationType) {\n            return this._deserializeLocation(map);\n        }\n        throw new Error(\"No deserializer for type \" + _angular_core.ɵstringify(type));\n    };\n    /**\n     * @param {?} loc\n     * @return {?}\n     */\n    Serializer.prototype._serializeLocation = /**\n     * @param {?} loc\n     * @return {?}\n     */\n    function (loc) {\n        return {\n            'href': loc.href,\n            'protocol': loc.protocol,\n            'host': loc.host,\n            'hostname': loc.hostname,\n            'port': loc.port,\n            'pathname': loc.pathname,\n            'search': loc.search,\n            'hash': loc.hash,\n            'origin': loc.origin,\n        };\n    };\n    /**\n     * @param {?} loc\n     * @return {?}\n     */\n    Serializer.prototype._deserializeLocation = /**\n     * @param {?} loc\n     * @return {?}\n     */\n    function (loc) {\n        return new LocationType(loc['href'], loc['protocol'], loc['host'], loc['hostname'], loc['port'], loc['pathname'], loc['search'], loc['hash'], loc['origin']);\n    };\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n    Serializer.prototype._serializeRenderComponentType = /**\n     * @param {?} type\n     * @return {?}\n     */\n    function (type) {\n        return {\n            'id': type.id,\n            'templateUrl': type.templateUrl,\n            'slotCount': type.slotCount,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n        };\n    };\n    /**\n     * @param {?} props\n     * @return {?}\n     */\n    Serializer.prototype._deserializeRenderComponentType = /**\n     * @param {?} props\n     * @return {?}\n     */\n    function (props) {\n        return new _angular_core.RenderComponentType(props['id'], props['templateUrl'], props['slotCount'], this.deserialize(props['encapsulation']), this.deserialize(props['styles']), {});\n    };\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n    Serializer.prototype._serializeRendererType2 = /**\n     * @param {?} type\n     * @return {?}\n     */\n    function (type) {\n        return {\n            'id': type.id,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n            'data': this.serialize(type.data),\n        };\n    };\n    /**\n     * @param {?} props\n     * @return {?}\n     */\n    Serializer.prototype._deserializeRendererType2 = /**\n     * @param {?} props\n     * @return {?}\n     */\n    function (props) {\n        return {\n            id: props['id'],\n            encapsulation: props['encapsulation'],\n            styles: this.deserialize(props['styles']),\n            data: this.deserialize(props['data'])\n        };\n    };\n    Serializer.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    Serializer.ctorParameters = function () { return [\n        { type: RenderStore, },\n    ]; };\n    return Serializer;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar ClientMessageBrokerFactory = (function () {\n    /** @internal */\n    function ClientMessageBrokerFactory(_messageBus, _serializer) {\n        this._messageBus = _messageBus;\n        this._serializer = _serializer;\n    }\n    /**\n     * Initializes the given channel and attaches a new {@link ClientMessageBroker} to it.\n     */\n    /**\n     * Initializes the given channel and attaches a new {\\@link ClientMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    ClientMessageBrokerFactory.prototype.createMessageBroker = /**\n     * Initializes the given channel and attaches a new {\\@link ClientMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ClientMessageBroker(this._messageBus, this._serializer, channel);\n    };\n    ClientMessageBrokerFactory.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ClientMessageBrokerFactory.ctorParameters = function () { return [\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return ClientMessageBrokerFactory;\n}());\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar ClientMessageBroker = (function () {\n    /** @internal */\n    function ClientMessageBroker(messageBus, _serializer, channel) {\n        var _this = this;\n        this.channel = channel;\n        this._pending = new Map();\n        this._sink = messageBus.to(channel);\n        this._serializer = _serializer;\n        var /** @type {?} */ source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    ClientMessageBroker.prototype._generateMessageId = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) {\n        var /** @type {?} */ time = _angular_core.ɵstringify(new Date().getTime());\n        var /** @type {?} */ iteration = 0;\n        var /** @type {?} */ id = name + time + _angular_core.ɵstringify(iteration);\n        while (this._pending.has(id)) {\n            id = \"\" + name + time + iteration;\n            iteration++;\n        }\n        return id;\n    };\n    /**\n     * @param {?} args\n     * @param {?} returnType\n     * @return {?}\n     */\n    ClientMessageBroker.prototype.runOnService = /**\n     * @param {?} args\n     * @param {?} returnType\n     * @return {?}\n     */\n    function (args, returnType) {\n        var _this = this;\n        var /** @type {?} */ fnArgs = [];\n        if (args.args) {\n            args.args.forEach(function (argument) {\n                if (argument.type != null) {\n                    fnArgs.push(_this._serializer.serialize(argument.value, argument.type));\n                }\n                else {\n                    fnArgs.push(argument.value);\n                }\n            });\n        }\n        var /** @type {?} */ promise;\n        var /** @type {?} */ id = null;\n        if (returnType != null) {\n            var /** @type {?} */ completer_1 = /** @type {?} */ ((undefined));\n            promise = new Promise(function (resolve, reject) { completer_1 = { resolve: resolve, reject: reject }; });\n            id = this._generateMessageId(args.method);\n            this._pending.set(id, completer_1);\n            promise.catch(function (err) {\n                if (console && console.error) {\n                    // tslint:disable-next-line:no-console\n                    console.error(err);\n                }\n                completer_1.reject(err);\n            });\n            promise = promise.then(function (v) { return _this._serializer ? _this._serializer.deserialize(v, returnType) : v; });\n        }\n        else {\n            promise = null;\n        }\n        var /** @type {?} */ message = {\n            'method': args.method,\n            'args': fnArgs,\n        };\n        if (id != null) {\n            message['id'] = id;\n        }\n        this._sink.emit(message);\n        return promise;\n    };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    ClientMessageBroker.prototype._handleMessage = /**\n     * @param {?} message\n     * @return {?}\n     */\n    function (message) {\n        if (message.type === 'result' || message.type === 'error') {\n            var /** @type {?} */ id = /** @type {?} */ ((message.id));\n            if (this._pending.has(id)) {\n                if (message.type === 'result') {\n                    /** @type {?} */ ((this._pending.get(id))).resolve(message.value);\n                }\n                else {\n                    /** @type {?} */ ((this._pending.get(id))).reject(message.value);\n                }\n                this._pending.delete(id);\n            }\n        }\n    };\n    return ClientMessageBroker;\n}());\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar FnArg = (function () {\n    function FnArg(value, type) {\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        this.value = value;\n        this.type = type;\n    }\n    return FnArg;\n}());\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar UiArguments = (function () {\n    function UiArguments(method, args) {\n        this.method = method;\n        this.args = args;\n    }\n    return UiArguments;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @record\n */\n\nvar PostMessageBusSink = (function () {\n    function PostMessageBusSink(_postMessageTarget) {\n        this._postMessageTarget = _postMessageTarget;\n        this._channels = {};\n        this._messageBuffer = [];\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.attachToZone = /**\n     * @param {?} zone\n     * @return {?}\n     */\n    function (zone) {\n        var _this = this;\n        this._zone = zone;\n        this._zone.runOutsideAngular(function () { _this._zone.onStable.subscribe({ next: function () { _this._handleOnEventDone(); } }); });\n    };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.initChannel = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        var _this = this;\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var /** @type {?} */ emitter = new _angular_core.EventEmitter(false);\n        var /** @type {?} */ channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n        emitter.subscribe(function (data) {\n            var /** @type {?} */ message = { channel: channel, message: data };\n            if (runInZone) {\n                _this._messageBuffer.push(message);\n            }\n            else {\n                _this._sendMessages([message]);\n            }\n        });\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.to = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    /**\n     * @return {?}\n     */\n    PostMessageBusSink.prototype._handleOnEventDone = /**\n     * @return {?}\n     */\n    function () {\n        if (this._messageBuffer.length > 0) {\n            this._sendMessages(this._messageBuffer);\n            this._messageBuffer = [];\n        }\n    };\n    /**\n     * @param {?} messages\n     * @return {?}\n     */\n    PostMessageBusSink.prototype._sendMessages = /**\n     * @param {?} messages\n     * @return {?}\n     */\n    function (messages) { this._postMessageTarget.postMessage(messages); };\n    return PostMessageBusSink;\n}());\nvar PostMessageBusSource = (function () {\n    function PostMessageBusSource(eventTarget) {\n        var _this = this;\n        this._channels = {};\n        if (eventTarget) {\n            eventTarget.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n        else {\n            // if no eventTarget is given we assume we're in a WebWorker and listen on the global scope\n            var /** @type {?} */ workerScope = /** @type {?} */ (self);\n            workerScope.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.attachToZone = /**\n     * @param {?} zone\n     * @return {?}\n     */\n    function (zone) { this._zone = zone; };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.initChannel = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var /** @type {?} */ emitter = new _angular_core.EventEmitter(false);\n        var /** @type {?} */ channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.from = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    /**\n     * @param {?} ev\n     * @return {?}\n     */\n    PostMessageBusSource.prototype._handleMessages = /**\n     * @param {?} ev\n     * @return {?}\n     */\n    function (ev) {\n        var /** @type {?} */ messages = ev.data;\n        for (var /** @type {?} */ i = 0; i < messages.length; i++) {\n            this._handleMessage(messages[i]);\n        }\n    };\n    /**\n     * @param {?} data\n     * @return {?}\n     */\n    PostMessageBusSource.prototype._handleMessage = /**\n     * @param {?} data\n     * @return {?}\n     */\n    function (data) {\n        var /** @type {?} */ channel = data.channel;\n        if (this._channels.hasOwnProperty(channel)) {\n            var /** @type {?} */ channelInfo_1 = this._channels[channel];\n            if (channelInfo_1.runInZone) {\n                this._zone.run(function () { channelInfo_1.emitter.emit(data.message); });\n            }\n            else {\n                channelInfo_1.emitter.emit(data.message);\n            }\n        }\n    };\n    return PostMessageBusSource;\n}());\n/**\n * A TypeScript implementation of {\\@link MessageBus} for communicating via JavaScript's\n * postMessage API.\n */\nvar PostMessageBus = (function () {\n    function PostMessageBus(sink, source) {\n        this.sink = sink;\n        this.source = source;\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBus.prototype.attachToZone = /**\n     * @param {?} zone\n     * @return {?}\n     */\n    function (zone) {\n        this.source.attachToZone(zone);\n        this.sink.attachToZone(zone);\n    };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBus.prototype.initChannel = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this.source.initChannel(channel, runInZone);\n        this.sink.initChannel(channel, runInZone);\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBus.prototype.from = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) { return this.source.from(channel); };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBus.prototype.to = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) { return this.sink.to(channel); };\n    PostMessageBus.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    PostMessageBus.ctorParameters = function () { return [\n        { type: PostMessageBusSink, },\n        { type: PostMessageBusSource, },\n    ]; };\n    return PostMessageBus;\n}());\n/**\n * Helper class that wraps a channel's {\\@link EventEmitter} and\n * keeps track of if it should run in the zone.\n */\nvar _Channel = (function () {\n    function _Channel(emitter, runInZone) {\n        this.emitter = emitter;\n        this.runInZone = runInZone;\n    }\n    return _Channel;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental WebWorker support in Angular is currently experimental.\n */\nvar ServiceMessageBrokerFactory = (function () {\n    /** @internal */\n    function ServiceMessageBrokerFactory(_messageBus, _serializer) {\n        this._messageBus = _messageBus;\n        this._serializer = _serializer;\n    }\n    /**\n     * Initializes the given channel and attaches a new {@link ServiceMessageBroker} to it.\n     */\n    /**\n     * Initializes the given channel and attaches a new {\\@link ServiceMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    ServiceMessageBrokerFactory.prototype.createMessageBroker = /**\n     * Initializes the given channel and attaches a new {\\@link ServiceMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ServiceMessageBroker(this._messageBus, this._serializer, channel);\n    };\n    ServiceMessageBrokerFactory.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ServiceMessageBrokerFactory.ctorParameters = function () { return [\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return ServiceMessageBrokerFactory;\n}());\n/**\n * Helper class for UIComponents that allows components to register methods.\n * If a registered method message is received from the broker on the worker,\n * the UIMessageBroker deserializes its arguments and calls the registered method.\n * If that method returns a promise, the UIMessageBroker returns the result to the worker.\n *\n * \\@experimental WebWorker support in Angular is currently experimental.\n */\nvar ServiceMessageBroker = (function () {\n    /** @internal */\n    function ServiceMessageBroker(messageBus, _serializer, channel) {\n        var _this = this;\n        this._serializer = _serializer;\n        this.channel = channel;\n        this._methods = new Map();\n        this._sink = messageBus.to(channel);\n        var /** @type {?} */ source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n    }\n    /**\n     * @param {?} methodName\n     * @param {?} signature\n     * @param {?} method\n     * @param {?=} returnType\n     * @return {?}\n     */\n    ServiceMessageBroker.prototype.registerMethod = /**\n     * @param {?} methodName\n     * @param {?} signature\n     * @param {?} method\n     * @param {?=} returnType\n     * @return {?}\n     */\n    function (methodName, signature, method, returnType) {\n        var _this = this;\n        this._methods.set(methodName, function (message) {\n            var /** @type {?} */ serializedArgs = message.args;\n            var /** @type {?} */ numArgs = signature ? signature.length : 0;\n            var /** @type {?} */ deserializedArgs = new Array(numArgs);\n            for (var /** @type {?} */ i = 0; i < numArgs; i++) {\n                var /** @type {?} */ serializedArg = serializedArgs[i];\n                deserializedArgs[i] = _this._serializer.deserialize(serializedArg, /** @type {?} */ ((signature))[i]);\n            }\n            var /** @type {?} */ promise = method.apply(void 0, deserializedArgs);\n            if (returnType && promise) {\n                _this._wrapWebWorkerPromise(message.id, promise, returnType);\n            }\n        });\n    };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    ServiceMessageBroker.prototype._handleMessage = /**\n     * @param {?} message\n     * @return {?}\n     */\n    function (message) {\n        if (this._methods.has(message.method)) {\n            /** @type {?} */ ((this._methods.get(message.method)))(message);\n        }\n    };\n    /**\n     * @param {?} id\n     * @param {?} promise\n     * @param {?} type\n     * @return {?}\n     */\n    ServiceMessageBroker.prototype._wrapWebWorkerPromise = /**\n     * @param {?} id\n     * @param {?} promise\n     * @param {?} type\n     * @return {?}\n     */\n    function (id, promise, type) {\n        var _this = this;\n        promise.then(function (result) {\n            _this._sink.emit({\n                'type': 'result',\n                'value': _this._serializer.serialize(result, type),\n                'id': id,\n            });\n        });\n    };\n    return ServiceMessageBroker;\n}());\n/**\n * \\@experimental WebWorker support in Angular is currently experimental.\n * @record\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * All channels used by angular's WebWorker components are listed here.\n * You should not use these channels in your application code.\n */\nvar RENDERER_2_CHANNEL = 'v2.ng-Renderer';\nvar EVENT_2_CHANNEL = 'v2.ng-Events';\nvar ROUTER_CHANNEL = 'ng-Router';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MOUSE_EVENT_PROPERTIES = [\n    'altKey', 'button', 'clientX', 'clientY', 'metaKey', 'movementX', 'movementY', 'offsetX',\n    'offsetY', 'region', 'screenX', 'screenY', 'shiftKey'\n];\nvar KEYBOARD_EVENT_PROPERTIES = [\n    'altkey', 'charCode', 'code', 'ctrlKey', 'isComposing', 'key', 'keyCode', 'location', 'metaKey',\n    'repeat', 'shiftKey', 'which'\n];\nvar TRANSITION_EVENT_PROPERTIES = ['propertyName', 'elapsedTime', 'pseudoElement'];\nvar EVENT_PROPERTIES = ['type', 'bubbles', 'cancelable'];\nvar NODES_WITH_VALUE = new Set(['input', 'select', 'option', 'button', 'li', 'meter', 'progress', 'param', 'textarea']);\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeGenericEvent(e) {\n    return serializeEvent(e, EVENT_PROPERTIES);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeEventWithTarget(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeMouseEvent(e) {\n    return serializeEvent(e, MOUSE_EVENT_PROPERTIES);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeKeyboardEvent(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, KEYBOARD_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeTransitionEvent(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, TRANSITION_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @param {?} serializedEvent\n * @return {?}\n */\nfunction addTarget(e, serializedEvent) {\n    if (NODES_WITH_VALUE.has((/** @type {?} */ (e.target)).tagName.toLowerCase())) {\n        var /** @type {?} */ target = /** @type {?} */ (e.target);\n        serializedEvent['target'] = { 'value': target.value };\n        if (target.files) {\n            serializedEvent['target']['files'] = target.files;\n        }\n    }\n    return serializedEvent;\n}\n/**\n * @param {?} e\n * @param {?} properties\n * @return {?}\n */\nfunction serializeEvent(e, properties) {\n    var /** @type {?} */ serialized = {};\n    for (var /** @type {?} */ i = 0; i < properties.length; i++) {\n        var /** @type {?} */ prop = properties[i];\n        serialized[prop] = e[prop];\n    }\n    return serialized;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar EventDispatcher = (function () {\n    function EventDispatcher(_sink, _serializer) {\n        this._sink = _sink;\n        this._serializer = _serializer;\n    }\n    /**\n     * @param {?} player\n     * @param {?} phaseName\n     * @param {?} element\n     * @return {?}\n     */\n    EventDispatcher.prototype.dispatchAnimationEvent = /**\n     * @param {?} player\n     * @param {?} phaseName\n     * @param {?} element\n     * @return {?}\n     */\n    function (player, phaseName, element) {\n        this._sink.emit({\n            'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n            'animationPlayer': this._serializer.serialize(player, 2 /* RENDER_STORE_OBJECT */),\n            'phaseName': phaseName,\n        });\n        return true;\n    };\n    /**\n     * @param {?} element\n     * @param {?} eventTarget\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    EventDispatcher.prototype.dispatchRenderEvent = /**\n     * @param {?} element\n     * @param {?} eventTarget\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    function (element, eventTarget, eventName, event) {\n        var /** @type {?} */ serializedEvent;\n        // TODO (jteplitz602): support custom events #3350\n        switch (event.type) {\n            case 'click':\n            case 'mouseup':\n            case 'mousedown':\n            case 'dblclick':\n            case 'contextmenu':\n            case 'mouseenter':\n            case 'mouseleave':\n            case 'mousemove':\n            case 'mouseout':\n            case 'mouseover':\n            case 'show':\n                serializedEvent = serializeMouseEvent(event);\n                break;\n            case 'keydown':\n            case 'keypress':\n            case 'keyup':\n                serializedEvent = serializeKeyboardEvent(event);\n                break;\n            case 'input':\n            case 'change':\n            case 'blur':\n                serializedEvent = serializeEventWithTarget(event);\n                break;\n            case 'abort':\n            case 'afterprint':\n            case 'beforeprint':\n            case 'cached':\n            case 'canplay':\n            case 'canplaythrough':\n            case 'chargingchange':\n            case 'chargingtimechange':\n            case 'close':\n            case 'dischargingtimechange':\n            case 'DOMContentLoaded':\n            case 'downloading':\n            case 'durationchange':\n            case 'emptied':\n            case 'ended':\n            case 'error':\n            case 'fullscreenchange':\n            case 'fullscreenerror':\n            case 'invalid':\n            case 'languagechange':\n            case 'levelfchange':\n            case 'loadeddata':\n            case 'loadedmetadata':\n            case 'obsolete':\n            case 'offline':\n            case 'online':\n            case 'open':\n            case 'orientatoinchange':\n            case 'pause':\n            case 'pointerlockchange':\n            case 'pointerlockerror':\n            case 'play':\n            case 'playing':\n            case 'ratechange':\n            case 'readystatechange':\n            case 'reset':\n            case 'scroll':\n            case 'seeked':\n            case 'seeking':\n            case 'stalled':\n            case 'submit':\n            case 'success':\n            case 'suspend':\n            case 'timeupdate':\n            case 'updateready':\n            case 'visibilitychange':\n            case 'volumechange':\n            case 'waiting':\n                serializedEvent = serializeGenericEvent(event);\n                break;\n            case 'transitionend':\n                serializedEvent = serializeTransitionEvent(event);\n                break;\n            default:\n                throw new Error(eventName + ' not supported on WebWorkers');\n        }\n        this._sink.emit({\n            'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n            'eventName': eventName,\n            'eventTarget': eventTarget,\n            'event': serializedEvent,\n        });\n        // TODO(kegluneq): Eventually, we want the user to indicate from the UI side whether the event\n        // should be canceled, but for now just call `preventDefault` on the original DOM event.\n        return false;\n    };\n    return EventDispatcher;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MessageBasedRenderer2 = (function () {\n    function MessageBasedRenderer2(_brokerFactory, _bus, _serializer, _renderStore, _rendererFactory) {\n        this._brokerFactory = _brokerFactory;\n        this._bus = _bus;\n        this._serializer = _serializer;\n        this._renderStore = _renderStore;\n        this._rendererFactory = _rendererFactory;\n    }\n    /**\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.start = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ broker = this._brokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        this._bus.initChannel(EVENT_2_CHANNEL);\n        this._eventDispatcher = new EventDispatcher(this._bus.to(EVENT_2_CHANNEL), this._serializer);\n        var _a = [\n            2 /* RENDER_STORE_OBJECT */,\n            1 /* PRIMITIVE */,\n            0 /* RENDERER_TYPE_2 */,\n        ], RSO = _a[0], P = _a[1], CRT = _a[2];\n        var /** @type {?} */ methods = [\n            ['createRenderer', this.createRenderer, RSO, CRT, P],\n            ['createElement', this.createElement, RSO, P, P, P],\n            ['createComment', this.createComment, RSO, P, P], ['createText', this.createText, RSO, P, P],\n            ['appendChild', this.appendChild, RSO, RSO, RSO],\n            ['insertBefore', this.insertBefore, RSO, RSO, RSO, RSO],\n            ['removeChild', this.removeChild, RSO, RSO, RSO],\n            ['selectRootElement', this.selectRootElement, RSO, P, P],\n            ['parentNode', this.parentNode, RSO, RSO, P], ['nextSibling', this.nextSibling, RSO, RSO, P],\n            ['setAttribute', this.setAttribute, RSO, RSO, P, P, P],\n            ['removeAttribute', this.removeAttribute, RSO, RSO, P, P],\n            ['addClass', this.addClass, RSO, RSO, P], ['removeClass', this.removeClass, RSO, RSO, P],\n            ['setStyle', this.setStyle, RSO, RSO, P, P, P],\n            ['removeStyle', this.removeStyle, RSO, RSO, P, P],\n            ['setProperty', this.setProperty, RSO, RSO, P, P], ['setValue', this.setValue, RSO, RSO, P],\n            ['listen', this.listen, RSO, RSO, P, P, P], ['unlisten', this.unlisten, RSO, RSO],\n            ['destroy', this.destroy, RSO], ['destroyNode', this.destroyNode, RSO, P]\n        ];\n        methods.forEach(function (_a) {\n            var name = _a[0], method = _a[1], argTypes = _a.slice(2);\n            broker.registerMethod(name, argTypes, method.bind(_this));\n        });\n    };\n    /**\n     * @param {?} r\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.destroy = /**\n     * @param {?} r\n     * @return {?}\n     */\n    function (r) { r.destroy(); };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.destroyNode = /**\n     * @param {?} r\n     * @param {?} node\n     * @return {?}\n     */\n    function (r, node) {\n        if (r.destroyNode) {\n            r.destroyNode(node);\n        }\n        this._renderStore.remove(node);\n    };\n    /**\n     * @param {?} el\n     * @param {?} type\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createRenderer = /**\n     * @param {?} el\n     * @param {?} type\n     * @param {?} id\n     * @return {?}\n     */\n    function (el, type, id) {\n        this._renderStore.store(this._rendererFactory.createRenderer(el, type), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} name\n     * @param {?} namespace\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createElement = /**\n     * @param {?} r\n     * @param {?} name\n     * @param {?} namespace\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, name, namespace, id) {\n        this._renderStore.store(r.createElement(name, namespace), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createComment = /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, value, id) {\n        this._renderStore.store(r.createComment(value), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createText = /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, value, id) {\n        this._renderStore.store(r.createText(value), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.appendChild = /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    function (r, parent, child) { r.appendChild(parent, child); };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @param {?} ref\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.insertBefore = /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @param {?} ref\n     * @return {?}\n     */\n    function (r, parent, child, ref) {\n        r.insertBefore(parent, child, ref);\n    };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeChild = /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    function (r, parent, child) { r.removeChild(parent, child); };\n    /**\n     * @param {?} r\n     * @param {?} selector\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.selectRootElement = /**\n     * @param {?} r\n     * @param {?} selector\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, selector, id) {\n        this._renderStore.store(r.selectRootElement(selector), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.parentNode = /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, node, id) {\n        this._renderStore.store(r.parentNode(node), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.nextSibling = /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, node, id) {\n        this._renderStore.store(r.nextSibling(node), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?} namespace\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setAttribute = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?} namespace\n     * @return {?}\n     */\n    function (r, el, name, value, namespace) {\n        r.setAttribute(el, name, value, namespace);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} namespace\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeAttribute = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} namespace\n     * @return {?}\n     */\n    function (r, el, name, namespace) {\n        r.removeAttribute(el, name, namespace);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.addClass = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (r, el, name) { r.addClass(el, name); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeClass = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (r, el, name) { r.removeClass(el, name); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setStyle = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    function (r, el, style, value, flags) {\n        r.setStyle(el, style, value, flags);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeStyle = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    function (r, el, style, flags) {\n        r.removeStyle(el, style, flags);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setProperty = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (r, el, name, value) {\n        r.setProperty(el, name, value);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setValue = /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    function (r, node, value) { r.setValue(node, value); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} elName\n     * @param {?} eventName\n     * @param {?} unlistenId\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.listen = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} elName\n     * @param {?} eventName\n     * @param {?} unlistenId\n     * @return {?}\n     */\n    function (r, el, elName, eventName, unlistenId) {\n        var _this = this;\n        var /** @type {?} */ listener = function (event) {\n            return _this._eventDispatcher.dispatchRenderEvent(el, elName, eventName, event);\n        };\n        var /** @type {?} */ unlisten = r.listen(el || elName, eventName, listener);\n        this._renderStore.store(unlisten, unlistenId);\n    };\n    /**\n     * @param {?} r\n     * @param {?} unlisten\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.unlisten = /**\n     * @param {?} r\n     * @param {?} unlisten\n     * @return {?}\n     */\n    function (r, unlisten) { unlisten(); };\n    MessageBasedRenderer2.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    MessageBasedRenderer2.ctorParameters = function () { return [\n        { type: ServiceMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n        { type: RenderStore, },\n        { type: _angular_core.RendererFactory2, },\n    ]; };\n    return MessageBasedRenderer2;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Wrapper class that exposes the Worker\n * and underlying {\\@link MessageBus} for lower level message passing.\n *\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WebWorkerInstance = (function () {\n    function WebWorkerInstance() {\n    }\n    /**\n     * \\@internal\n     * @param {?} worker\n     * @param {?} bus\n     * @return {?}\n     */\n    WebWorkerInstance.prototype.init = /**\n     * \\@internal\n     * @param {?} worker\n     * @param {?} bus\n     * @return {?}\n     */\n    function (worker, bus) {\n        this.worker = worker;\n        this.bus = bus;\n    };\n    WebWorkerInstance.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    WebWorkerInstance.ctorParameters = function () { return []; };\n    return WebWorkerInstance;\n}());\n/**\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WORKER_SCRIPT = new _angular_core.InjectionToken('WebWorkerScript');\n/**\n * A multi-provider used to automatically call the `start()` method after the service is\n * created.\n *\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WORKER_UI_STARTABLE_MESSAGING_SERVICE = new _angular_core.InjectionToken('WorkerRenderStartableMsgService');\nvar _WORKER_UI_PLATFORM_PROVIDERS = [\n    { provide: _angular_core.NgZone, useFactory: createNgZone, deps: [] },\n    {\n        provide: MessageBasedRenderer2,\n        deps: [ServiceMessageBrokerFactory, MessageBus, Serializer, RenderStore, _angular_core.RendererFactory2]\n    },\n    { provide: WORKER_UI_STARTABLE_MESSAGING_SERVICE, useExisting: MessageBasedRenderer2, multi: true },\n    _angular_platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n    { provide: _angular_core.ErrorHandler, useFactory: _exceptionHandler, deps: [] },\n    { provide: _angular_platformBrowser.DOCUMENT, useFactory: _document, deps: [] },\n    // TODO(jteplitz602): Investigate if we definitely need EVENT_MANAGER on the render thread\n    // #5298\n    {\n        provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: _angular_platformBrowser.ɵDomEventsPlugin,\n        deps: [_angular_platformBrowser.DOCUMENT, _angular_core.NgZone],\n        multi: true\n    },\n    { provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS, useClass: _angular_platformBrowser.ɵKeyEventsPlugin, deps: [_angular_platformBrowser.DOCUMENT], multi: true },\n    {\n        provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: _angular_platformBrowser.ɵHammerGesturesPlugin,\n        deps: [_angular_platformBrowser.DOCUMENT, _angular_platformBrowser.HAMMER_GESTURE_CONFIG],\n        multi: true\n    },\n    { provide: _angular_platformBrowser.HAMMER_GESTURE_CONFIG, useClass: _angular_platformBrowser.HammerGestureConfig, deps: [] },\n    _angular_core.ɵAPP_ID_RANDOM_PROVIDER,\n    { provide: _angular_platformBrowser.ɵDomRendererFactory2, deps: [_angular_platformBrowser.EventManager, _angular_platformBrowser.ɵDomSharedStylesHost] },\n    { provide: _angular_core.RendererFactory2, useExisting: _angular_platformBrowser.ɵDomRendererFactory2 },\n    { provide: _angular_platformBrowser.ɵSharedStylesHost, useExisting: _angular_platformBrowser.ɵDomSharedStylesHost },\n    {\n        provide: ServiceMessageBrokerFactory,\n        useClass: ServiceMessageBrokerFactory,\n        deps: [MessageBus, Serializer]\n    },\n    {\n        provide: ClientMessageBrokerFactory,\n        useClass: ClientMessageBrokerFactory,\n        deps: [MessageBus, Serializer]\n    },\n    { provide: Serializer, deps: [RenderStore] },\n    { provide: ON_WEB_WORKER, useValue: false },\n    { provide: RenderStore, deps: [] },\n    { provide: _angular_platformBrowser.ɵDomSharedStylesHost, deps: [_angular_platformBrowser.DOCUMENT] },\n    { provide: _angular_core.Testability, deps: [_angular_core.NgZone] },\n    { provide: _angular_platformBrowser.EventManager, deps: [_angular_platformBrowser.EVENT_MANAGER_PLUGINS, _angular_core.NgZone] },\n    { provide: WebWorkerInstance, deps: [] },\n    {\n        provide: _angular_core.PLATFORM_INITIALIZER,\n        useFactory: initWebWorkerRenderPlatform,\n        multi: true,\n        deps: [_angular_core.Injector]\n    },\n    { provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_WORKER_UI_ID },\n    { provide: MessageBus, useFactory: messageBusFactory, deps: [WebWorkerInstance] },\n];\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initializeGenericWorkerRenderer(injector) {\n    var /** @type {?} */ bus = injector.get(MessageBus);\n    var /** @type {?} */ zone = injector.get(_angular_core.NgZone);\n    bus.attachToZone(zone);\n    // initialize message services after the bus has been created\n    var /** @type {?} */ services = injector.get(WORKER_UI_STARTABLE_MESSAGING_SERVICE);\n    zone.runGuarded(function () { services.forEach(function (svc) { svc.start(); }); });\n}\n/**\n * @param {?} instance\n * @return {?}\n */\nfunction messageBusFactory(instance) {\n    return instance.bus;\n}\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initWebWorkerRenderPlatform(injector) {\n    return function () {\n        _angular_platformBrowser.ɵBrowserDomAdapter.makeCurrent();\n        _angular_platformBrowser.ɵBrowserGetTestability.init();\n        var /** @type {?} */ scriptUri;\n        try {\n            scriptUri = injector.get(WORKER_SCRIPT);\n        }\n        catch (/** @type {?} */ e) {\n            throw new Error('You must provide your WebWorker\\'s initialization script with the WORKER_SCRIPT token');\n        }\n        var /** @type {?} */ instance = injector.get(WebWorkerInstance);\n        spawnWebWorker(scriptUri, instance);\n        initializeGenericWorkerRenderer(injector);\n    };\n}\n/**\n * \\@experimental WebWorker support is currently experimental.\n */\nvar platformWorkerUi = _angular_core.createPlatformFactory(_angular_core.platformCore, 'workerUi', _WORKER_UI_PLATFORM_PROVIDERS);\n/**\n * @return {?}\n */\nfunction _exceptionHandler() {\n    return new _angular_core.ErrorHandler();\n}\n/**\n * @return {?}\n */\nfunction _document() {\n    return document;\n}\n/**\n * @return {?}\n */\nfunction createNgZone() {\n    return new _angular_core.NgZone({ enableLongStackTrace: _angular_core.isDevMode() });\n}\n/**\n * Spawns a new class and initializes the WebWorkerInstance\n * @param {?} uri\n * @param {?} instance\n * @return {?}\n */\nfunction spawnWebWorker(uri, instance) {\n    var /** @type {?} */ webWorker = new Worker(uri);\n    var /** @type {?} */ sink = new PostMessageBusSink(webWorker);\n    var /** @type {?} */ source = new PostMessageBusSource(webWorker);\n    var /** @type {?} */ bus = new PostMessageBus(sink, source);\n    instance.init(webWorker, bus);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of the common package.\n */\n/**\n * \\@stable\n */\nvar VERSION = new _angular_core.Version('5.0.0-beta.7-6e1896b');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar MessageBasedPlatformLocation = (function () {\n    function MessageBasedPlatformLocation(_brokerFactory, _platformLocation, bus, _serializer) {\n        this._brokerFactory = _brokerFactory;\n        this._platformLocation = _platformLocation;\n        this._serializer = _serializer;\n        this._platformLocation.onPopState(/** @type {?} */ (this._sendUrlChangeEvent.bind(this)));\n        this._platformLocation.onHashChange(/** @type {?} */ (this._sendUrlChangeEvent.bind(this)));\n        this._broker = this._brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        this._channelSink = bus.to(ROUTER_CHANNEL);\n    }\n    /**\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype.start = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ P = 1;\n        this._broker.registerMethod('getLocation', null, this._getLocation.bind(this), LocationType);\n        this._broker.registerMethod('setPathname', [P], this._setPathname.bind(this));\n        this._broker.registerMethod('pushState', [P, P, P], this._platformLocation.pushState.bind(this._platformLocation));\n        this._broker.registerMethod('replaceState', [P, P, P], this._platformLocation.replaceState.bind(this._platformLocation));\n        this._broker.registerMethod('forward', null, this._platformLocation.forward.bind(this._platformLocation));\n        this._broker.registerMethod('back', null, this._platformLocation.back.bind(this._platformLocation));\n    };\n    /**\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._getLocation = /**\n     * @return {?}\n     */\n    function () {\n        return Promise.resolve(this._platformLocation.location);\n    };\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._sendUrlChangeEvent = /**\n     * @param {?} e\n     * @return {?}\n     */\n    function (e) {\n        this._channelSink.emit({\n            'event': { 'type': e.type },\n            'location': this._serializer.serialize(this._platformLocation.location, LocationType),\n        });\n    };\n    /**\n     * @param {?} pathname\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._setPathname = /**\n     * @param {?} pathname\n     * @return {?}\n     */\n    function (pathname) { this._platformLocation.pathname = pathname; };\n    MessageBasedPlatformLocation.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    MessageBasedPlatformLocation.ctorParameters = function () { return [\n        { type: ServiceMessageBrokerFactory, },\n        { type: _angular_platformBrowser.ɵBrowserPlatformLocation, },\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return MessageBasedPlatformLocation;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A list of {\\@link Provider}s. To use the router in a Worker enabled application you must\n * include these providers when setting up the render thread.\n * \\@experimental\n */\nvar WORKER_UI_LOCATION_PROVIDERS = /** @type {?} */ ([\n    { provide: MessageBasedPlatformLocation, deps: [ServiceMessageBrokerFactory,\n            _angular_platformBrowser.ɵBrowserPlatformLocation, MessageBus, Serializer] },\n    { provide: _angular_platformBrowser.ɵBrowserPlatformLocation, deps: [_angular_common.DOCUMENT] },\n    { provide: _angular_core.PLATFORM_INITIALIZER, useFactory: initUiLocation, multi: true, deps: [_angular_core.Injector] }\n]);\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initUiLocation(injector) {\n    return function () {\n        var /** @type {?} */ zone = injector.get(_angular_core.NgZone);\n        zone.runGuarded(function () { return injector.get(MessageBasedPlatformLocation).start(); });\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar WebWorkerPlatformLocation = (function (_super) {\n    __extends(WebWorkerPlatformLocation, _super);\n    function WebWorkerPlatformLocation(brokerFactory, bus, _serializer) {\n        var _this = _super.call(this) || this;\n        _this._serializer = _serializer;\n        _this._popStateListeners = [];\n        _this._hashChangeListeners = [];\n        _this._location = /** @type {?} */ ((null));\n        _this._broker = brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        _this._channelSource = bus.from(ROUTER_CHANNEL);\n        _this._channelSource.subscribe({\n            next: function (msg) {\n                var /** @type {?} */ listeners = null;\n                if (msg.hasOwnProperty('event')) {\n                    var /** @type {?} */ type = msg['event']['type'];\n                    if (type === 'popstate') {\n                        listeners = _this._popStateListeners;\n                    }\n                    else if (type === 'hashchange') {\n                        listeners = _this._hashChangeListeners;\n                    }\n                    if (listeners) {\n                        // There was a popState or hashChange event, so the location object thas been updated\n                        // There was a popState or hashChange event, so the location object thas been updated\n                        _this._location = _this._serializer.deserialize(msg['location'], LocationType);\n                        listeners.forEach(function (fn) { return fn(msg['event']); });\n                    }\n                }\n            }\n        });\n        _this.initialized = new Promise(function (res) { return _this.initializedResolve = res; });\n        return _this;\n    }\n    /** @internal **/\n    /**\n     * \\@internal *\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.init = /**\n     * \\@internal *\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ args = new UiArguments('getLocation');\n        return /** @type {?} */ ((this._broker.runOnService(args, LocationType))).then(function (val) {\n            _this._location = val;\n            _this.initializedResolve();\n            return true;\n        }, function (err) { throw new Error(err); });\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.getBaseHrefFromDOM = /**\n     * @return {?}\n     */\n    function () {\n        throw new Error('Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.');\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.onPopState = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._popStateListeners.push(fn); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.onHashChange = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._hashChangeListeners.push(fn); };\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"pathname\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._location ? /** @type {?} */ ((this._location.pathname)) : '<unknown>'; },\n        set: /**\n         * @param {?} newPath\n         * @return {?}\n         */\n        function (newPath) {\n            if (this._location === null) {\n                throw new Error('Attempt to set pathname before value is obtained from UI');\n            }\n            this._location.pathname = newPath;\n            var /** @type {?} */ fnArgs = [new FnArg(newPath, 1 /* PRIMITIVE */)];\n            var /** @type {?} */ args = new UiArguments('setPathname', fnArgs);\n            this._broker.runOnService(args, null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"search\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._location ? this._location.search : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"hash\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._location ? this._location.hash : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.pushState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    function (state, title, url) {\n        var /** @type {?} */ fnArgs = [\n            new FnArg(state, 1 /* PRIMITIVE */),\n            new FnArg(title, 1 /* PRIMITIVE */),\n            new FnArg(url, 1 /* PRIMITIVE */),\n        ];\n        var /** @type {?} */ args = new UiArguments('pushState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.replaceState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    function (state, title, url) {\n        var /** @type {?} */ fnArgs = [\n            new FnArg(state, 1 /* PRIMITIVE */),\n            new FnArg(title, 1 /* PRIMITIVE */),\n            new FnArg(url, 1 /* PRIMITIVE */),\n        ];\n        var /** @type {?} */ args = new UiArguments('replaceState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.forward = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ args = new UiArguments('forward');\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.back = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ args = new UiArguments('back');\n        this._broker.runOnService(args, null);\n    };\n    WebWorkerPlatformLocation.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    WebWorkerPlatformLocation.ctorParameters = function () { return [\n        { type: ClientMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return WebWorkerPlatformLocation;\n}(_angular_common.PlatformLocation));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * The {\\@link PlatformLocation} providers that should be added when the {\\@link Location} is used in\n * a worker context.\n *\n * \\@experimental\n */\nvar WORKER_APP_LOCATION_PROVIDERS = [\n    { provide: _angular_common.PlatformLocation, useClass: WebWorkerPlatformLocation }, {\n        provide: _angular_core.APP_INITIALIZER,\n        useFactory: appInitFnFactory,\n        multi: true,\n        deps: [_angular_common.PlatformLocation, _angular_core.NgZone]\n    },\n    { provide: _angular_common.LOCATION_INITIALIZED, useFactory: locationInitialized, deps: [_angular_common.PlatformLocation] }\n];\n/**\n * @param {?} platformLocation\n * @return {?}\n */\nfunction locationInitialized(platformLocation) {\n    return platformLocation.initialized;\n}\n/**\n * @param {?} platformLocation\n * @param {?} zone\n * @return {?}\n */\nfunction appInitFnFactory(platformLocation, zone) {\n    return function () { return zone.runGuarded(function () { return platformLocation.init(); }); };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar NamedEventEmitter = (function () {\n    function NamedEventEmitter() {\n    }\n    /**\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.listen = /**\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    function (eventName, callback) { this._getListeners(eventName).push(callback); };\n    /**\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.unlisten = /**\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    function (eventName, listener) {\n        var /** @type {?} */ listeners = this._getListeners(eventName);\n        var /** @type {?} */ index = listeners.indexOf(listener);\n        if (index > -1) {\n            listeners.splice(index, 1);\n        }\n    };\n    /**\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.dispatchEvent = /**\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    function (eventName, event) {\n        var /** @type {?} */ listeners = this._getListeners(eventName);\n        for (var /** @type {?} */ i = 0; i < listeners.length; i++) {\n            listeners[i](event);\n        }\n    };\n    /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    NamedEventEmitter.prototype._getListeners = /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    function (eventName) {\n        if (!this._listeners) {\n            this._listeners = new Map();\n        }\n        var /** @type {?} */ listeners = this._listeners.get(eventName);\n        if (!listeners) {\n            listeners = [];\n            this._listeners.set(eventName, listeners);\n        }\n        return listeners;\n    };\n    return NamedEventEmitter;\n}());\n/**\n * @param {?} target\n * @param {?} eventName\n * @return {?}\n */\nfunction eventNameWithTarget(target, eventName) {\n    return target + \":\" + eventName;\n}\nvar WebWorkerRendererFactory2 = (function () {\n    function WebWorkerRendererFactory2(messageBrokerFactory, bus, _serializer, renderStore) {\n        var _this = this;\n        this._serializer = _serializer;\n        this.renderStore = renderStore;\n        this.globalEvents = new NamedEventEmitter();\n        this._messageBroker = messageBrokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        bus.initChannel(EVENT_2_CHANNEL);\n        var /** @type {?} */ source = bus.from(EVENT_2_CHANNEL);\n        source.subscribe({ next: function (message) { return _this._dispatchEvent(message); } });\n    }\n    /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.createRenderer = /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    function (element, type) {\n        var /** @type {?} */ renderer = new WebWorkerRenderer2(this);\n        var /** @type {?} */ id = this.renderStore.allocateId();\n        this.renderStore.store(renderer, id);\n        this.callUI('createRenderer', [\n            new FnArg(element, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(type, 0 /* RENDERER_TYPE_2 */),\n            new FnArg(renderer, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return renderer;\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.begin = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.end = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @param {?} fnName\n     * @param {?} fnArgs\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.callUI = /**\n     * @param {?} fnName\n     * @param {?} fnArgs\n     * @return {?}\n     */\n    function (fnName, fnArgs) {\n        var /** @type {?} */ args = new UiArguments(fnName, fnArgs);\n        this._messageBroker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.allocateNode = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ result = new WebWorkerRenderNode();\n        var /** @type {?} */ id = this.renderStore.allocateId();\n        this.renderStore.store(result, id);\n        return result;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.freeNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { this.renderStore.remove(node); };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.allocateId = /**\n     * @return {?}\n     */\n    function () { return this.renderStore.allocateId(); };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype._dispatchEvent = /**\n     * @param {?} message\n     * @return {?}\n     */\n    function (message) {\n        var /** @type {?} */ element = this._serializer.deserialize(message['element'], 2 /* RENDER_STORE_OBJECT */);\n        var /** @type {?} */ eventName = message['eventName'];\n        var /** @type {?} */ target = message['eventTarget'];\n        var /** @type {?} */ event = message['event'];\n        if (target) {\n            this.globalEvents.dispatchEvent(eventNameWithTarget(target, eventName), event);\n        }\n        else {\n            element.events.dispatchEvent(eventName, event);\n        }\n    };\n    WebWorkerRendererFactory2.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    WebWorkerRendererFactory2.ctorParameters = function () { return [\n        { type: ClientMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n        { type: RenderStore, },\n    ]; };\n    return WebWorkerRendererFactory2;\n}());\nvar WebWorkerRenderer2 = (function () {\n    function WebWorkerRenderer2(_rendererFactory) {\n        this._rendererFactory = _rendererFactory;\n        this.data = Object.create(null);\n        this.asFnArg = new FnArg(this, 2 /* RENDER_STORE_OBJECT */);\n    }\n    /**\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.destroy = /**\n     * @return {?}\n     */\n    function () { this.callUIWithRenderer('destroy'); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.destroyNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        this.callUIWithRenderer('destroyNode', [new FnArg(node, 2 /* RENDER_STORE_OBJECT */)]);\n        this._rendererFactory.freeNode(node);\n    };\n    /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createElement = /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (name, namespace) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createElement', [\n            new FnArg(name),\n            new FnArg(namespace),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createComment = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createComment', [\n            new FnArg(value),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createText = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createText', [\n            new FnArg(value),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.appendChild = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    function (parent, newChild) {\n        this.callUIWithRenderer('appendChild', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.insertBefore = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    function (parent, newChild, refChild) {\n        if (!parent) {\n            return;\n        }\n        this.callUIWithRenderer('insertBefore', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(refChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeChild = /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    function (parent, oldChild) {\n        this.callUIWithRenderer('removeChild', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(oldChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    /**\n     * @param {?} selectorOrNode\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.selectRootElement = /**\n     * @param {?} selectorOrNode\n     * @return {?}\n     */\n    function (selectorOrNode) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('selectRootElement', [\n            new FnArg(selectorOrNode),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.parentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        var /** @type {?} */ res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('parentNode', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return res;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.nextSibling = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        var /** @type {?} */ res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('nextSibling', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return res;\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, value, namespace) {\n        this.callUIWithRenderer('setAttribute', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(value),\n            new FnArg(namespace),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, namespace) {\n        this.callUIWithRenderer('removeAttribute', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(namespace),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.addClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) {\n        this.callUIWithRenderer('addClass', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) {\n        this.callUIWithRenderer('removeClass', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, value, flags) {\n        this.callUIWithRenderer('setStyle', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(style),\n            new FnArg(value),\n            new FnArg(flags),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, flags) {\n        this.callUIWithRenderer('removeStyle', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(style),\n            new FnArg(flags),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) {\n        this.callUIWithRenderer('setProperty', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(value),\n        ]);\n    };\n    /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setValue = /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    function (node, value) {\n        this.callUIWithRenderer('setValue', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(value),\n        ]);\n    };\n    /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.listen = /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    function (target, eventName, listener) {\n        var _this = this;\n        var /** @type {?} */ unlistenId = this._rendererFactory.allocateId();\n        var _a = typeof target === 'string' ? [null, target, target + \":\" + eventName] :\n            [target, null, null], targetEl = _a[0], targetName = _a[1], fullName = _a[2];\n        if (fullName) {\n            this._rendererFactory.globalEvents.listen(fullName, listener);\n        }\n        else {\n            targetEl.events.listen(eventName, listener);\n        }\n        this.callUIWithRenderer('listen', [\n            new FnArg(targetEl, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(targetName),\n            new FnArg(eventName),\n            new FnArg(unlistenId),\n        ]);\n        return function () {\n            if (fullName) {\n                _this._rendererFactory.globalEvents.unlisten(fullName, listener);\n            }\n            else {\n                targetEl.events.unlisten(eventName, listener);\n            }\n            _this.callUIWithRenderer('unlisten', [new FnArg(unlistenId)]);\n        };\n    };\n    /**\n     * @param {?} fnName\n     * @param {?=} fnArgs\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.callUIWithRenderer = /**\n     * @param {?} fnName\n     * @param {?=} fnArgs\n     * @return {?}\n     */\n    function (fnName, fnArgs) {\n        if (fnArgs === void 0) { fnArgs = []; }\n        // always pass the renderer as the first arg\n        this._rendererFactory.callUI(fnName, [this.asFnArg].concat(fnArgs));\n    };\n    return WebWorkerRenderer2;\n}());\nvar WebWorkerRenderNode = (function () {\n    function WebWorkerRenderNode() {\n        this.events = new NamedEventEmitter();\n    }\n    return WebWorkerRenderNode;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * This adapter is required to log error messages.\n *\n * Note: other methods all throw as the DOM is not accessible directly in web worker context.\n */\nvar WorkerDomAdapter = (function (_super) {\n    __extends(WorkerDomAdapter, _super);\n    function WorkerDomAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.makeCurrent = /**\n     * @return {?}\n     */\n    function () { _angular_platformBrowser.ɵsetRootDomAdapter(new WorkerDomAdapter()); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logError = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) {\n        if (console.error) {\n            console.error(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    // tslint:disable-next-line:no-console\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.log = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) { console.log(error); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logGroup = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) {\n        if (console.group) {\n            console.group(error);\n            this.logError(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logGroupEnd = /**\n     * @return {?}\n     */\n    function () {\n        if (console.groupEnd) {\n            console.groupEnd();\n        }\n    };\n    /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.contains = /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    function (nodeA, nodeB) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasProperty = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} methodName\n     * @param {?} args\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.invoke = /**\n     * @param {?} el\n     * @param {?} methodName\n     * @param {?} args\n     * @return {?}\n     */\n    function (el, methodName, args) { throw 'not implemented'; };\n    Object.defineProperty(WorkerDomAdapter.prototype, \"attrToPropMap\", {\n        get: /**\n         * @return {?}\n         */\n        function () { throw 'not implemented'; },\n        set: /**\n         * @param {?} value\n         * @return {?}\n         */\n        function (value) { throw 'not implemented'; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} templateHtml\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.parse = /**\n     * @param {?} templateHtml\n     * @return {?}\n     */\n    function (templateHtml) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.querySelector = /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    function (el, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.querySelectorAll = /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    function (el, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.on = /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    function (el, evt, listener) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.onAndCancel = /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    function (el, evt, listener) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.dispatchEvent = /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    function (el, evt) { throw 'not implemented'; };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createMouseEvent = /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    function (eventType) { throw 'not implemented'; };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createEvent = /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    function (eventType) { throw 'not implemented'; };\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.preventDefault = /**\n     * @param {?} evt\n     * @return {?}\n     */\n    function (evt) { throw 'not implemented'; };\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isPrevented = /**\n     * @param {?} evt\n     * @return {?}\n     */\n    function (evt) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getInnerHTML = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTemplateContent = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getOuterHTML = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nodeName = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nodeValue = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.type = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.content = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.firstChild = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nextSibling = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.parentElement = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.childNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.childNodesAsList = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.clearNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.appendChild = /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeChild = /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} newNode\n     * @param {?} oldNode\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.replaceChild = /**\n     * @param {?} el\n     * @param {?} newNode\n     * @param {?} oldNode\n     * @return {?}\n     */\n    function (el, newNode, oldNode) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.remove = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertBefore = /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (parent, el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} nodes\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertAllBefore = /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} nodes\n     * @return {?}\n     */\n    function (parent, el, nodes) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertAfter = /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (parent, el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setInnerHTML = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getText = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setText = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getValue = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setValue = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getChecked = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setChecked = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} text\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createComment = /**\n     * @param {?} text\n     * @return {?}\n     */\n    function (text) { throw 'not implemented'; };\n    /**\n     * @param {?} html\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createTemplate = /**\n     * @param {?} html\n     * @return {?}\n     */\n    function (html) { throw 'not implemented'; };\n    /**\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createElement = /**\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (tagName, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} ns\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createElementNS = /**\n     * @param {?} ns\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (ns, tagName, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} text\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createTextNode = /**\n     * @param {?} text\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (text, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} attrName\n     * @param {?} attrValue\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createScriptTag = /**\n     * @param {?} attrName\n     * @param {?} attrValue\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (attrName, attrValue, doc) {\n        throw 'not implemented';\n    };\n    /**\n     * @param {?} css\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createStyleElement = /**\n     * @param {?} css\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (css, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createShadowRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getShadowRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHost = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getDistributedNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.clone = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getElementsByClassName = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getElementsByTagName = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.classList = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.addClass = /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeClass = /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasClass = /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?} styleValue\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) {\n        throw 'not implemented';\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.tagName = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.attributeMap = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasAttribute = /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAttribute = /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setAttribute = /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, ns, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeAttribute = /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.templateAwareRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createHtmlDocument = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getDefaultDocument = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getBoundingClientRect = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTitle = /**\n     * @param {?} doc\n     * @return {?}\n     */\n    function (doc) { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @param {?} newTitle\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setTitle = /**\n     * @param {?} doc\n     * @param {?} newTitle\n     * @return {?}\n     */\n    function (doc, newTitle) { throw 'not implemented'; };\n    /**\n     * @param {?} n\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.elementMatches = /**\n     * @param {?} n\n     * @param {?} selector\n     * @return {?}\n     */\n    function (n, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isTemplateElement = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isTextNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isCommentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isElementNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.importIntoDoc = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.adoptNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHref = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getEventKey = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} baseUrl\n     * @param {?} href\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.resolveAndSetHref = /**\n     * @param {?} element\n     * @param {?} baseUrl\n     * @param {?} href\n     * @return {?}\n     */\n    function (element, baseUrl, href) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsDOMEvents = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsNativeShadowDOM = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getGlobalEventTarget = /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    function (doc, target) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHistory = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getLocation = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getBaseHref = /**\n     * @param {?} doc\n     * @return {?}\n     */\n    function (doc) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.resetBaseElement = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getUserAgent = /**\n     * @return {?}\n     */\n    function () { return 'Fake user agent'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setData = /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getComputedStyle = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getData = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.performanceNow = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAnimationPrefix = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTransitionEnd = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsAnimation = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsWebAnimation = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsCookies = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getCookie = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) { throw 'not implemented'; };\n    /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setCookie = /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (name, value) { throw 'not implemented'; };\n    return WorkerDomAdapter;\n}(_angular_platformBrowser.ɵDomAdapter));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental\n */\nvar platformWorkerApp = _angular_core.createPlatformFactory(_angular_core.platformCore, 'workerApp', [{ provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_WORKER_APP_ID }]);\n/**\n * @return {?}\n */\nfunction errorHandler() {\n    return new _angular_core.ErrorHandler();\n}\nvar ɵ0 = function (message, transferrables) {\n    (/** @type {?} */ (postMessage))(message, transferrables);\n};\n// TODO(jteplitz602) remove this and compile with lib.webworker.d.ts (#3492)\nvar _postMessage = {\n    postMessage: ɵ0\n};\n/**\n * @param {?} zone\n * @return {?}\n */\nfunction createMessageBus(zone) {\n    var /** @type {?} */ sink = new PostMessageBusSink(_postMessage);\n    var /** @type {?} */ source = new PostMessageBusSource();\n    var /** @type {?} */ bus = new PostMessageBus(sink, source);\n    bus.attachToZone(zone);\n    return bus;\n}\n/**\n * @return {?}\n */\nfunction setupWebWorker() {\n    WorkerDomAdapter.makeCurrent();\n}\n/**\n * The ng module for the worker app side.\n *\n * \\@experimental\n */\nvar WorkerAppModule = (function () {\n    function WorkerAppModule() {\n    }\n    WorkerAppModule.decorators = [\n        { type: _angular_core.NgModule, args: [{\n                    providers: [\n                        _angular_platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n                        Serializer,\n                        { provide: _angular_platformBrowser.DOCUMENT, useValue: null },\n                        ClientMessageBrokerFactory,\n                        ServiceMessageBrokerFactory,\n                        WebWorkerRendererFactory2,\n                        { provide: _angular_core.RendererFactory2, useExisting: WebWorkerRendererFactory2 },\n                        { provide: ON_WEB_WORKER, useValue: true },\n                        RenderStore,\n                        { provide: _angular_core.ErrorHandler, useFactory: errorHandler, deps: [] },\n                        { provide: MessageBus, useFactory: createMessageBus, deps: [_angular_core.NgZone] },\n                        { provide: _angular_core.APP_INITIALIZER, useValue: setupWebWorker, multi: true },\n                    ],\n                    exports: [\n                        _angular_common.CommonModule,\n                        _angular_core.ApplicationModule,\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    WorkerAppModule.ctorParameters = function () { return []; };\n    return WorkerAppModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Bootstraps the worker ui.\n *\n * \\@experimental\n * @param {?} workerScriptUri\n * @param {?=} customProviders\n * @return {?}\n */\nfunction bootstrapWorkerUi(workerScriptUri, customProviders) {\n    if (customProviders === void 0) { customProviders = []; }\n    // For now, just creates the worker ui platform...\n    var /** @type {?} */ platform = platformWorkerUi([\n        { provide: WORKER_SCRIPT, useValue: workerScriptUri }\n    ].concat(customProviders));\n    return Promise.resolve(platform);\n}\n\nexports.VERSION = VERSION;\nexports.ClientMessageBroker = ClientMessageBroker;\nexports.ClientMessageBrokerFactory = ClientMessageBrokerFactory;\nexports.FnArg = FnArg;\nexports.UiArguments = UiArguments;\nexports.MessageBus = MessageBus;\nexports.ServiceMessageBroker = ServiceMessageBroker;\nexports.ServiceMessageBrokerFactory = ServiceMessageBrokerFactory;\nexports.WORKER_UI_LOCATION_PROVIDERS = WORKER_UI_LOCATION_PROVIDERS;\nexports.WORKER_APP_LOCATION_PROVIDERS = WORKER_APP_LOCATION_PROVIDERS;\nexports.WorkerAppModule = WorkerAppModule;\nexports.platformWorkerApp = platformWorkerApp;\nexports.platformWorkerUi = platformWorkerUi;\nexports.bootstrapWorkerUi = bootstrapWorkerUi;\nexports.ɵk = ON_WEB_WORKER;\nexports.ɵh = RenderStore;\nexports.ɵa = Serializer;\nexports.ɵc = appInitFnFactory;\nexports.ɵb = locationInitialized;\nexports.ɵi = WebWorkerPlatformLocation;\nexports.ɵj = WebWorkerRendererFactory2;\nexports.ɵe = createMessageBus;\nexports.ɵd = errorHandler;\nexports.ɵf = setupWebWorker;\nexports.ɵg = _WORKER_UI_PLATFORM_PROVIDERS;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=platform-webworker.umd.js.map\n"]}