{"version":3,"sources":["platform-webworker.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","platformWebworker","common","core","platformBrowser","this","_angular_common","_angular_core","_angular_platformBrowser","__extends","d","b","__","constructor","extendStatics","prototype","Object","create","serializeGenericEvent","e","serializeEvent","EVENT_PROPERTIES","serializeEventWithTarget","addTarget","serializeMouseEvent","MOUSE_EVENT_PROPERTIES","serializeKeyboardEvent","KEYBOARD_EVENT_PROPERTIES","serializeTransitionEvent","TRANSITION_EVENT_PROPERTIES","serializedEvent","NODES_WITH_VALUE","has","tagName","toLowerCase","target","value","files","properties","serialized","i","length","prop","initializeGenericWorkerRenderer","injector","bus","get","MessageBus","zone","NgZone","attachToZone","services","WORKER_UI_STARTABLE_MESSAGING_SERVICE","runGuarded","forEach","svc","start","messageBusFactory","instance","initWebWorkerRenderPlatform","ɵBrowserDomAdapter","makeCurrent","ɵBrowserGetTestability","init","scriptUri","WORKER_SCRIPT","Error","spawnWebWorker","WebWorkerInstance","_exceptionHandler","ErrorHandler","_document","document","createNgZone","enableLongStackTrace","isDevMode","uri","webWorker","Worker","sink","PostMessageBusSink","source","PostMessageBusSource","PostMessageBus","initUiLocation","MessageBasedPlatformLocation","locationInitialized","platformLocation","initialized","appInitFnFactory","eventNameWithTarget","eventName","errorHandler","createMessageBus","_postMessage","setupWebWorker","WorkerDomAdapter","bootstrapWorkerUi","workerScriptUri","customProviders","platform","platformWorkerUi","provide","useValue","concat","Promise","resolve","setPrototypeOf","__proto__","Array","p","hasOwnProperty","ON_WEB_WORKER","InjectionToken","RenderStore","_nextIndex","_lookupById","Map","_lookupByObject","allocateId","store","obj","id","set","remove","index","delete","deserialize","serialize","decorators","type","Injectable","ctorParameters","LocationType","href","protocol","host","hostname","port","pathname","search","hash","origin","Serializer","_renderStore","_this","isArray","map","v","RenderComponentType","_serializeRenderComponentType","_serializeRendererType2","_serializeLocation","ɵstringify","data","val","_deserializeRenderComponentType","_deserializeRendererType2","_deserializeLocation","loc","templateUrl","slotCount","encapsulation","styles","props","ClientMessageBrokerFactory","_messageBus","_serializer","createMessageBroker","channel","runInZone","initChannel","ClientMessageBroker","messageBus","_pending","_sink","to","from","subscribe","next","message","_handleMessage","_generateMessageId","name","time","Date","getTime","iteration","runOnService","args","returnType","fnArgs","argument","push","promise","completer_1","reject","method","catch","err","console","error","then","emit","FnArg","UiArguments","_postMessageTarget","_channels","_messageBuffer","_zone","runOutsideAngular","onStable","_handleOnEventDone","emitter","EventEmitter","channelInfo","_Channel","_sendMessages","messages","postMessage","eventTarget","addEventListener","ev","_handleMessages","channelInfo_1","run","ServiceMessageBrokerFactory","ServiceMessageBroker","_methods","registerMethod","methodName","signature","serializedArgs","numArgs","deserializedArgs","serializedArg","apply","_wrapWebWorkerPromise","result","RENDERER_2_CHANNEL","EVENT_2_CHANNEL","ROUTER_CHANNEL","Set","EventDispatcher","dispatchAnimationEvent","player","phaseName","element","animationPlayer","dispatchRenderEvent","event","MessageBasedRenderer2","_brokerFactory","_bus","_rendererFactory","broker","_eventDispatcher","_a","RSO","P","CRT","createRenderer","createElement","createComment","createText","appendChild","insertBefore","removeChild","selectRootElement","parentNode","nextSibling","setAttribute","removeAttribute","addClass","removeClass","setStyle","removeStyle","setProperty","setValue","listen","unlisten","destroy","destroyNode","argTypes","slice","bind","r","node","el","namespace","parent","child","ref","selector","style","flags","elName","unlistenId","listener","RendererFactory2","worker","_WORKER_UI_PLATFORM_PROVIDERS","useFactory","deps","useExisting","multi","ɵBROWSER_SANITIZATION_PROVIDERS","DOCUMENT","EVENT_MANAGER_PLUGINS","useClass","ɵDomEventsPlugin","ɵKeyEventsPlugin","ɵHammerGesturesPlugin","HAMMER_GESTURE_CONFIG","HammerGestureConfig","ɵAPP_ID_RANDOM_PROVIDER","ɵDomRendererFactory2","EventManager","ɵDomSharedStylesHost","ɵSharedStylesHost","Testability","PLATFORM_INITIALIZER","Injector","PLATFORM_ID","ɵPLATFORM_WORKER_UI_ID","createPlatformFactory","platformCore","VERSION","Version","_platformLocation","onPopState","_sendUrlChangeEvent","onHashChange","_broker","_channelSink","_getLocation","_setPathname","pushState","replaceState","forward","back","location","ɵBrowserPlatformLocation","WORKER_UI_LOCATION_PROVIDERS","WebWorkerPlatformLocation","_super","brokerFactory","call","_popStateListeners","_hashChangeListeners","_location","_channelSource","msg","listeners","fn","res","initializedResolve","getBaseHrefFromDOM","defineProperty","newPath","enumerable","configurable","state","title","url","PlatformLocation","WORKER_APP_LOCATION_PROVIDERS","APP_INITIALIZER","LOCATION_INITIALIZED","NamedEventEmitter","callback","_getListeners","indexOf","splice","dispatchEvent","_listeners","WebWorkerRendererFactory2","messageBrokerFactory","renderStore","globalEvents","_messageBroker","_dispatchEvent","renderer","WebWorkerRenderer2","callUI","begin","end","fnName","allocateNode","WebWorkerRenderNode","freeNode","events","asFnArg","callUIWithRenderer","newChild","refChild","oldChild","selectorOrNode","targetEl","targetName","fullName","arguments","ɵsetRootDomAdapter","logError","log","logGroup","group","logGroupEnd","groupEnd","contains","nodeA","nodeB","hasProperty","getProperty","invoke","parse","templateHtml","querySelector","querySelectorAll","on","evt","onAndCancel","createMouseEvent","eventType","createEvent","preventDefault","isPrevented","getInnerHTML","getTemplateContent","getOuterHTML","nodeName","nodeValue","content","firstChild","parentElement","childNodes","childNodesAsList","clearNodes","replaceChild","newNode","oldNode","insertAllBefore","nodes","insertAfter","setInnerHTML","getText","setText","getValue","getChecked","setChecked","text","createTemplate","html","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","createStyleElement","css","createShadowRoot","getShadowRoot","getHost","getDistributedNodes","clone","getElementsByClassName","getElementsByTagName","classList","className","hasClass","styleName","styleValue","getStyle","hasStyle","attributeMap","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttributeNS","templateAwareRoot","createHtmlDocument","getDefaultDocument","getBoundingClientRect","getTitle","setTitle","newTitle","elementMatches","n","isTemplateElement","isTextNode","isCommentNode","isElementNode","hasShadowRoot","isShadowRoot","importIntoDoc","adoptNode","getHref","getEventKey","resolveAndSetHref","baseUrl","supportsDOMEvents","supportsNativeShadowDOM","getGlobalEventTarget","getHistory","getLocation","getBaseHref","resetBaseElement","getUserAgent","setData","getComputedStyle","getData","performanceNow","getAnimationPrefix","getTransitionEnd","supportsAnimation","supportsWebAnimation","supportsCookies","getCookie","setCookie","ɵDomAdapter","platformWorkerApp","ɵPLATFORM_WORKER_APP_ID","ɵ0","transferrables","WorkerAppModule","NgModule","providers","CommonModule","ApplicationModule","ɵk","ɵh","ɵa","ɵc","ɵb","ɵi","ɵj","ɵe","ɵd","ɵf","ɵg"],"mappings":"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","file":"platform-webworker.umd.min.js","sourcesContent":["/**\n * @license Angular v5.2.0-beta.1-efd9c09\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/common'), require('@angular/core'), require('@angular/platform-browser')) :\n\ttypeof define === 'function' && define.amd ? define('@angular/platform-webworker', ['exports', '@angular/common', '@angular/core', '@angular/platform-browser'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.platformWebworker = {}),global.ng.common,global.ng.core,global.ng.platformBrowser));\n}(this, (function (exports,_angular_common,_angular_core,_angular_platformBrowser) { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n/**\n * @license Angular v5.2.0-beta.1-efd9c09\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ON_WEB_WORKER = new _angular_core.InjectionToken('WebWorker.onWebWorker');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Message Bus is a low level API used to communicate between the UI and the background.\n * Communication is based on a channel abstraction. Messages published in a\n * given channel to one MessageBusSink are received on the same channel\n * by the corresponding MessageBusSource.\n *\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @abstract\n */\nvar MessageBus = /** @class */ (function () {\n    function MessageBus() {\n    }\n    return MessageBus;\n}());\n/**\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @record\n */\n\n/**\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @record\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar RenderStore = /** @class */ (function () {\n    function RenderStore() {\n        this._nextIndex = 0;\n        this._lookupById = new Map();\n        this._lookupByObject = new Map();\n    }\n    /**\n     * @return {?}\n     */\n    RenderStore.prototype.allocateId = /**\n     * @return {?}\n     */\n    function () { return this._nextIndex++; };\n    /**\n     * @param {?} obj\n     * @param {?} id\n     * @return {?}\n     */\n    RenderStore.prototype.store = /**\n     * @param {?} obj\n     * @param {?} id\n     * @return {?}\n     */\n    function (obj, id) {\n        if (id == null)\n            return;\n        this._lookupById.set(id, obj);\n        this._lookupByObject.set(obj, id);\n    };\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n    RenderStore.prototype.remove = /**\n     * @param {?} obj\n     * @return {?}\n     */\n    function (obj) {\n        var /** @type {?} */ index = this._lookupByObject.get(obj);\n        if (index != null) {\n            this._lookupByObject.delete(obj);\n            this._lookupById.delete(index);\n        }\n    };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    RenderStore.prototype.deserialize = /**\n     * @param {?} id\n     * @return {?}\n     */\n    function (id) {\n        return this._lookupById.has(id) ? this._lookupById.get(id) : null;\n    };\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n    RenderStore.prototype.serialize = /**\n     * @param {?} obj\n     * @return {?}\n     */\n    function (obj) {\n        return obj == null ? null : this._lookupByObject.get(obj);\n    };\n    RenderStore.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    RenderStore.ctorParameters = function () { return []; };\n    return RenderStore;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar LocationType = /** @class */ (function () {\n    function LocationType(href, protocol, host, hostname, port, pathname, search, hash, origin) {\n        this.href = href;\n        this.protocol = protocol;\n        this.host = host;\n        this.hostname = hostname;\n        this.port = port;\n        this.pathname = pathname;\n        this.search = search;\n        this.hash = hash;\n        this.origin = origin;\n    }\n    return LocationType;\n}());\nvar Serializer = /** @class */ (function () {\n    function Serializer(_renderStore) {\n        this._renderStore = _renderStore;\n    }\n    /**\n     * @param {?} obj\n     * @param {?=} type\n     * @return {?}\n     */\n    Serializer.prototype.serialize = /**\n     * @param {?} obj\n     * @param {?=} type\n     * @return {?}\n     */\n    function (obj, type) {\n        var _this = this;\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        if (obj == null || type === 1 /* PRIMITIVE */) {\n            return obj;\n        }\n        if (Array.isArray(obj)) {\n            return obj.map(function (v) { return _this.serialize(v, type); });\n        }\n        if (type === 2 /* RENDER_STORE_OBJECT */) {\n            return /** @type {?} */ ((this._renderStore.serialize(obj)));\n        }\n        if (type === _angular_core.RenderComponentType) {\n            return this._serializeRenderComponentType(obj);\n        }\n        if (type === 0 /* RENDERER_TYPE_2 */) {\n            return this._serializeRendererType2(obj);\n        }\n        if (type === LocationType) {\n            return this._serializeLocation(obj);\n        }\n        throw new Error(\"No serializer for type \" + _angular_core.ɵstringify(type));\n    };\n    /**\n     * @param {?} map\n     * @param {?=} type\n     * @param {?=} data\n     * @return {?}\n     */\n    Serializer.prototype.deserialize = /**\n     * @param {?} map\n     * @param {?=} type\n     * @param {?=} data\n     * @return {?}\n     */\n    function (map, type, data) {\n        var _this = this;\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        if (map == null || type === 1 /* PRIMITIVE */) {\n            return map;\n        }\n        if (Array.isArray(map)) {\n            return map.map(function (val) { return _this.deserialize(val, type, data); });\n        }\n        if (type === 2 /* RENDER_STORE_OBJECT */) {\n            return this._renderStore.deserialize(map);\n        }\n        if (type === _angular_core.RenderComponentType) {\n            return this._deserializeRenderComponentType(map);\n        }\n        if (type === 0 /* RENDERER_TYPE_2 */) {\n            return this._deserializeRendererType2(map);\n        }\n        if (type === LocationType) {\n            return this._deserializeLocation(map);\n        }\n        throw new Error(\"No deserializer for type \" + _angular_core.ɵstringify(type));\n    };\n    /**\n     * @param {?} loc\n     * @return {?}\n     */\n    Serializer.prototype._serializeLocation = /**\n     * @param {?} loc\n     * @return {?}\n     */\n    function (loc) {\n        return {\n            'href': loc.href,\n            'protocol': loc.protocol,\n            'host': loc.host,\n            'hostname': loc.hostname,\n            'port': loc.port,\n            'pathname': loc.pathname,\n            'search': loc.search,\n            'hash': loc.hash,\n            'origin': loc.origin,\n        };\n    };\n    /**\n     * @param {?} loc\n     * @return {?}\n     */\n    Serializer.prototype._deserializeLocation = /**\n     * @param {?} loc\n     * @return {?}\n     */\n    function (loc) {\n        return new LocationType(loc['href'], loc['protocol'], loc['host'], loc['hostname'], loc['port'], loc['pathname'], loc['search'], loc['hash'], loc['origin']);\n    };\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n    Serializer.prototype._serializeRenderComponentType = /**\n     * @param {?} type\n     * @return {?}\n     */\n    function (type) {\n        return {\n            'id': type.id,\n            'templateUrl': type.templateUrl,\n            'slotCount': type.slotCount,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n        };\n    };\n    /**\n     * @param {?} props\n     * @return {?}\n     */\n    Serializer.prototype._deserializeRenderComponentType = /**\n     * @param {?} props\n     * @return {?}\n     */\n    function (props) {\n        return new _angular_core.RenderComponentType(props['id'], props['templateUrl'], props['slotCount'], this.deserialize(props['encapsulation']), this.deserialize(props['styles']), {});\n    };\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n    Serializer.prototype._serializeRendererType2 = /**\n     * @param {?} type\n     * @return {?}\n     */\n    function (type) {\n        return {\n            'id': type.id,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n            'data': this.serialize(type.data),\n        };\n    };\n    /**\n     * @param {?} props\n     * @return {?}\n     */\n    Serializer.prototype._deserializeRendererType2 = /**\n     * @param {?} props\n     * @return {?}\n     */\n    function (props) {\n        return {\n            id: props['id'],\n            encapsulation: props['encapsulation'],\n            styles: this.deserialize(props['styles']),\n            data: this.deserialize(props['data'])\n        };\n    };\n    Serializer.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    Serializer.ctorParameters = function () { return [\n        { type: RenderStore, },\n    ]; };\n    return Serializer;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar ClientMessageBrokerFactory = /** @class */ (function () {\n    /** @internal */\n    function ClientMessageBrokerFactory(_messageBus, _serializer) {\n        this._messageBus = _messageBus;\n        this._serializer = _serializer;\n    }\n    /**\n     * Initializes the given channel and attaches a new {@link ClientMessageBroker} to it.\n     */\n    /**\n     * Initializes the given channel and attaches a new {\\@link ClientMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    ClientMessageBrokerFactory.prototype.createMessageBroker = /**\n     * Initializes the given channel and attaches a new {\\@link ClientMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ClientMessageBroker(this._messageBus, this._serializer, channel);\n    };\n    ClientMessageBrokerFactory.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ClientMessageBrokerFactory.ctorParameters = function () { return [\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return ClientMessageBrokerFactory;\n}());\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar ClientMessageBroker = /** @class */ (function () {\n    /** @internal */\n    function ClientMessageBroker(messageBus, _serializer, channel) {\n        var _this = this;\n        this.channel = channel;\n        this._pending = new Map();\n        this._sink = messageBus.to(channel);\n        this._serializer = _serializer;\n        var /** @type {?} */ source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    ClientMessageBroker.prototype._generateMessageId = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) {\n        var /** @type {?} */ time = _angular_core.ɵstringify(new Date().getTime());\n        var /** @type {?} */ iteration = 0;\n        var /** @type {?} */ id = name + time + _angular_core.ɵstringify(iteration);\n        while (this._pending.has(id)) {\n            id = \"\" + name + time + iteration;\n            iteration++;\n        }\n        return id;\n    };\n    /**\n     * @param {?} args\n     * @param {?} returnType\n     * @return {?}\n     */\n    ClientMessageBroker.prototype.runOnService = /**\n     * @param {?} args\n     * @param {?} returnType\n     * @return {?}\n     */\n    function (args, returnType) {\n        var _this = this;\n        var /** @type {?} */ fnArgs = [];\n        if (args.args) {\n            args.args.forEach(function (argument) {\n                if (argument.type != null) {\n                    fnArgs.push(_this._serializer.serialize(argument.value, argument.type));\n                }\n                else {\n                    fnArgs.push(argument.value);\n                }\n            });\n        }\n        var /** @type {?} */ promise;\n        var /** @type {?} */ id = null;\n        if (returnType != null) {\n            var /** @type {?} */ completer_1 = /** @type {?} */ ((undefined));\n            promise = new Promise(function (resolve, reject) { completer_1 = { resolve: resolve, reject: reject }; });\n            id = this._generateMessageId(args.method);\n            this._pending.set(id, completer_1);\n            promise.catch(function (err) {\n                if (console && console.error) {\n                    // tslint:disable-next-line:no-console\n                    console.error(err);\n                }\n                completer_1.reject(err);\n            });\n            promise = promise.then(function (v) { return _this._serializer ? _this._serializer.deserialize(v, returnType) : v; });\n        }\n        else {\n            promise = null;\n        }\n        var /** @type {?} */ message = {\n            'method': args.method,\n            'args': fnArgs,\n        };\n        if (id != null) {\n            message['id'] = id;\n        }\n        this._sink.emit(message);\n        return promise;\n    };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    ClientMessageBroker.prototype._handleMessage = /**\n     * @param {?} message\n     * @return {?}\n     */\n    function (message) {\n        if (message.type === 'result' || message.type === 'error') {\n            var /** @type {?} */ id = /** @type {?} */ ((message.id));\n            if (this._pending.has(id)) {\n                if (message.type === 'result') {\n                    /** @type {?} */ ((this._pending.get(id))).resolve(message.value);\n                }\n                else {\n                    /** @type {?} */ ((this._pending.get(id))).reject(message.value);\n                }\n                this._pending.delete(id);\n            }\n        }\n    };\n    return ClientMessageBroker;\n}());\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar FnArg = /** @class */ (function () {\n    function FnArg(value, type) {\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        this.value = value;\n        this.type = type;\n    }\n    return FnArg;\n}());\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar UiArguments = /** @class */ (function () {\n    function UiArguments(method, args) {\n        this.method = method;\n        this.args = args;\n    }\n    return UiArguments;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @record\n */\n\nvar PostMessageBusSink = /** @class */ (function () {\n    function PostMessageBusSink(_postMessageTarget) {\n        this._postMessageTarget = _postMessageTarget;\n        this._channels = {};\n        this._messageBuffer = [];\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.attachToZone = /**\n     * @param {?} zone\n     * @return {?}\n     */\n    function (zone) {\n        var _this = this;\n        this._zone = zone;\n        this._zone.runOutsideAngular(function () { _this._zone.onStable.subscribe({ next: function () { _this._handleOnEventDone(); } }); });\n    };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.initChannel = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        var _this = this;\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var /** @type {?} */ emitter = new _angular_core.EventEmitter(false);\n        var /** @type {?} */ channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n        emitter.subscribe(function (data) {\n            var /** @type {?} */ message = { channel: channel, message: data };\n            if (runInZone) {\n                _this._messageBuffer.push(message);\n            }\n            else {\n                _this._sendMessages([message]);\n            }\n        });\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.to = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    /**\n     * @return {?}\n     */\n    PostMessageBusSink.prototype._handleOnEventDone = /**\n     * @return {?}\n     */\n    function () {\n        if (this._messageBuffer.length > 0) {\n            this._sendMessages(this._messageBuffer);\n            this._messageBuffer = [];\n        }\n    };\n    /**\n     * @param {?} messages\n     * @return {?}\n     */\n    PostMessageBusSink.prototype._sendMessages = /**\n     * @param {?} messages\n     * @return {?}\n     */\n    function (messages) { this._postMessageTarget.postMessage(messages); };\n    return PostMessageBusSink;\n}());\nvar PostMessageBusSource = /** @class */ (function () {\n    function PostMessageBusSource(eventTarget) {\n        var _this = this;\n        this._channels = {};\n        if (eventTarget) {\n            eventTarget.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n        else {\n            // if no eventTarget is given we assume we're in a WebWorker and listen on the global scope\n            var /** @type {?} */ workerScope = /** @type {?} */ (self);\n            workerScope.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.attachToZone = /**\n     * @param {?} zone\n     * @return {?}\n     */\n    function (zone) { this._zone = zone; };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.initChannel = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var /** @type {?} */ emitter = new _angular_core.EventEmitter(false);\n        var /** @type {?} */ channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.from = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    /**\n     * @param {?} ev\n     * @return {?}\n     */\n    PostMessageBusSource.prototype._handleMessages = /**\n     * @param {?} ev\n     * @return {?}\n     */\n    function (ev) {\n        var /** @type {?} */ messages = ev.data;\n        for (var /** @type {?} */ i = 0; i < messages.length; i++) {\n            this._handleMessage(messages[i]);\n        }\n    };\n    /**\n     * @param {?} data\n     * @return {?}\n     */\n    PostMessageBusSource.prototype._handleMessage = /**\n     * @param {?} data\n     * @return {?}\n     */\n    function (data) {\n        var /** @type {?} */ channel = data.channel;\n        if (this._channels.hasOwnProperty(channel)) {\n            var /** @type {?} */ channelInfo_1 = this._channels[channel];\n            if (channelInfo_1.runInZone) {\n                this._zone.run(function () { channelInfo_1.emitter.emit(data.message); });\n            }\n            else {\n                channelInfo_1.emitter.emit(data.message);\n            }\n        }\n    };\n    return PostMessageBusSource;\n}());\n/**\n * A TypeScript implementation of {\\@link MessageBus} for communicating via JavaScript's\n * postMessage API.\n */\nvar PostMessageBus = /** @class */ (function () {\n    function PostMessageBus(sink, source) {\n        this.sink = sink;\n        this.source = source;\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBus.prototype.attachToZone = /**\n     * @param {?} zone\n     * @return {?}\n     */\n    function (zone) {\n        this.source.attachToZone(zone);\n        this.sink.attachToZone(zone);\n    };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBus.prototype.initChannel = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this.source.initChannel(channel, runInZone);\n        this.sink.initChannel(channel, runInZone);\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBus.prototype.from = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) { return this.source.from(channel); };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBus.prototype.to = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) { return this.sink.to(channel); };\n    PostMessageBus.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    PostMessageBus.ctorParameters = function () { return [\n        { type: PostMessageBusSink, },\n        { type: PostMessageBusSource, },\n    ]; };\n    return PostMessageBus;\n}());\n/**\n * Helper class that wraps a channel's {\\@link EventEmitter} and\n * keeps track of if it should run in the zone.\n */\nvar _Channel = /** @class */ (function () {\n    function _Channel(emitter, runInZone) {\n        this.emitter = emitter;\n        this.runInZone = runInZone;\n    }\n    return _Channel;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental WebWorker support in Angular is currently experimental.\n */\nvar ServiceMessageBrokerFactory = /** @class */ (function () {\n    /** @internal */\n    function ServiceMessageBrokerFactory(_messageBus, _serializer) {\n        this._messageBus = _messageBus;\n        this._serializer = _serializer;\n    }\n    /**\n     * Initializes the given channel and attaches a new {@link ServiceMessageBroker} to it.\n     */\n    /**\n     * Initializes the given channel and attaches a new {\\@link ServiceMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    ServiceMessageBrokerFactory.prototype.createMessageBroker = /**\n     * Initializes the given channel and attaches a new {\\@link ServiceMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ServiceMessageBroker(this._messageBus, this._serializer, channel);\n    };\n    ServiceMessageBrokerFactory.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ServiceMessageBrokerFactory.ctorParameters = function () { return [\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return ServiceMessageBrokerFactory;\n}());\n/**\n * Helper class for UIComponents that allows components to register methods.\n * If a registered method message is received from the broker on the worker,\n * the UIMessageBroker deserializes its arguments and calls the registered method.\n * If that method returns a promise, the UIMessageBroker returns the result to the worker.\n *\n * \\@experimental WebWorker support in Angular is currently experimental.\n */\nvar ServiceMessageBroker = /** @class */ (function () {\n    /** @internal */\n    function ServiceMessageBroker(messageBus, _serializer, channel) {\n        var _this = this;\n        this._serializer = _serializer;\n        this.channel = channel;\n        this._methods = new Map();\n        this._sink = messageBus.to(channel);\n        var /** @type {?} */ source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n    }\n    /**\n     * @param {?} methodName\n     * @param {?} signature\n     * @param {?} method\n     * @param {?=} returnType\n     * @return {?}\n     */\n    ServiceMessageBroker.prototype.registerMethod = /**\n     * @param {?} methodName\n     * @param {?} signature\n     * @param {?} method\n     * @param {?=} returnType\n     * @return {?}\n     */\n    function (methodName, signature, method, returnType) {\n        var _this = this;\n        this._methods.set(methodName, function (message) {\n            var /** @type {?} */ serializedArgs = message.args;\n            var /** @type {?} */ numArgs = signature ? signature.length : 0;\n            var /** @type {?} */ deserializedArgs = new Array(numArgs);\n            for (var /** @type {?} */ i = 0; i < numArgs; i++) {\n                var /** @type {?} */ serializedArg = serializedArgs[i];\n                deserializedArgs[i] = _this._serializer.deserialize(serializedArg, /** @type {?} */ ((signature))[i]);\n            }\n            var /** @type {?} */ promise = method.apply(void 0, deserializedArgs);\n            if (returnType && promise) {\n                _this._wrapWebWorkerPromise(message.id, promise, returnType);\n            }\n        });\n    };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    ServiceMessageBroker.prototype._handleMessage = /**\n     * @param {?} message\n     * @return {?}\n     */\n    function (message) {\n        if (this._methods.has(message.method)) {\n            /** @type {?} */ ((this._methods.get(message.method)))(message);\n        }\n    };\n    /**\n     * @param {?} id\n     * @param {?} promise\n     * @param {?} type\n     * @return {?}\n     */\n    ServiceMessageBroker.prototype._wrapWebWorkerPromise = /**\n     * @param {?} id\n     * @param {?} promise\n     * @param {?} type\n     * @return {?}\n     */\n    function (id, promise, type) {\n        var _this = this;\n        promise.then(function (result) {\n            _this._sink.emit({\n                'type': 'result',\n                'value': _this._serializer.serialize(result, type),\n                'id': id,\n            });\n        });\n    };\n    return ServiceMessageBroker;\n}());\n/**\n * \\@experimental WebWorker support in Angular is currently experimental.\n * @record\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * All channels used by angular's WebWorker components are listed here.\n * You should not use these channels in your application code.\n */\nvar RENDERER_2_CHANNEL = 'v2.ng-Renderer';\nvar EVENT_2_CHANNEL = 'v2.ng-Events';\nvar ROUTER_CHANNEL = 'ng-Router';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MOUSE_EVENT_PROPERTIES = [\n    'altKey', 'button', 'clientX', 'clientY', 'metaKey', 'movementX', 'movementY', 'offsetX',\n    'offsetY', 'region', 'screenX', 'screenY', 'shiftKey'\n];\nvar KEYBOARD_EVENT_PROPERTIES = [\n    'altkey', 'charCode', 'code', 'ctrlKey', 'isComposing', 'key', 'keyCode', 'location', 'metaKey',\n    'repeat', 'shiftKey', 'which'\n];\nvar TRANSITION_EVENT_PROPERTIES = ['propertyName', 'elapsedTime', 'pseudoElement'];\nvar EVENT_PROPERTIES = ['type', 'bubbles', 'cancelable'];\nvar NODES_WITH_VALUE = new Set(['input', 'select', 'option', 'button', 'li', 'meter', 'progress', 'param', 'textarea']);\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeGenericEvent(e) {\n    return serializeEvent(e, EVENT_PROPERTIES);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeEventWithTarget(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeMouseEvent(e) {\n    return serializeEvent(e, MOUSE_EVENT_PROPERTIES);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeKeyboardEvent(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, KEYBOARD_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeTransitionEvent(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, TRANSITION_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @param {?} serializedEvent\n * @return {?}\n */\nfunction addTarget(e, serializedEvent) {\n    if (NODES_WITH_VALUE.has((/** @type {?} */ (e.target)).tagName.toLowerCase())) {\n        var /** @type {?} */ target = /** @type {?} */ (e.target);\n        serializedEvent['target'] = { 'value': target.value };\n        if (target.files) {\n            serializedEvent['target']['files'] = target.files;\n        }\n    }\n    return serializedEvent;\n}\n/**\n * @param {?} e\n * @param {?} properties\n * @return {?}\n */\nfunction serializeEvent(e, properties) {\n    var /** @type {?} */ serialized = {};\n    for (var /** @type {?} */ i = 0; i < properties.length; i++) {\n        var /** @type {?} */ prop = properties[i];\n        serialized[prop] = e[prop];\n    }\n    return serialized;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar EventDispatcher = /** @class */ (function () {\n    function EventDispatcher(_sink, _serializer) {\n        this._sink = _sink;\n        this._serializer = _serializer;\n    }\n    /**\n     * @param {?} player\n     * @param {?} phaseName\n     * @param {?} element\n     * @return {?}\n     */\n    EventDispatcher.prototype.dispatchAnimationEvent = /**\n     * @param {?} player\n     * @param {?} phaseName\n     * @param {?} element\n     * @return {?}\n     */\n    function (player, phaseName, element) {\n        this._sink.emit({\n            'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n            'animationPlayer': this._serializer.serialize(player, 2 /* RENDER_STORE_OBJECT */),\n            'phaseName': phaseName,\n        });\n        return true;\n    };\n    /**\n     * @param {?} element\n     * @param {?} eventTarget\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    EventDispatcher.prototype.dispatchRenderEvent = /**\n     * @param {?} element\n     * @param {?} eventTarget\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    function (element, eventTarget, eventName, event) {\n        var /** @type {?} */ serializedEvent;\n        // TODO (jteplitz602): support custom events #3350\n        switch (event.type) {\n            case 'click':\n            case 'mouseup':\n            case 'mousedown':\n            case 'dblclick':\n            case 'contextmenu':\n            case 'mouseenter':\n            case 'mouseleave':\n            case 'mousemove':\n            case 'mouseout':\n            case 'mouseover':\n            case 'show':\n                serializedEvent = serializeMouseEvent(event);\n                break;\n            case 'keydown':\n            case 'keypress':\n            case 'keyup':\n                serializedEvent = serializeKeyboardEvent(event);\n                break;\n            case 'input':\n            case 'change':\n            case 'blur':\n                serializedEvent = serializeEventWithTarget(event);\n                break;\n            case 'abort':\n            case 'afterprint':\n            case 'beforeprint':\n            case 'cached':\n            case 'canplay':\n            case 'canplaythrough':\n            case 'chargingchange':\n            case 'chargingtimechange':\n            case 'close':\n            case 'dischargingtimechange':\n            case 'DOMContentLoaded':\n            case 'downloading':\n            case 'durationchange':\n            case 'emptied':\n            case 'ended':\n            case 'error':\n            case 'fullscreenchange':\n            case 'fullscreenerror':\n            case 'invalid':\n            case 'languagechange':\n            case 'levelfchange':\n            case 'loadeddata':\n            case 'loadedmetadata':\n            case 'obsolete':\n            case 'offline':\n            case 'online':\n            case 'open':\n            case 'orientatoinchange':\n            case 'pause':\n            case 'pointerlockchange':\n            case 'pointerlockerror':\n            case 'play':\n            case 'playing':\n            case 'ratechange':\n            case 'readystatechange':\n            case 'reset':\n            case 'scroll':\n            case 'seeked':\n            case 'seeking':\n            case 'stalled':\n            case 'submit':\n            case 'success':\n            case 'suspend':\n            case 'timeupdate':\n            case 'updateready':\n            case 'visibilitychange':\n            case 'volumechange':\n            case 'waiting':\n                serializedEvent = serializeGenericEvent(event);\n                break;\n            case 'transitionend':\n                serializedEvent = serializeTransitionEvent(event);\n                break;\n            default:\n                throw new Error(eventName + ' not supported on WebWorkers');\n        }\n        this._sink.emit({\n            'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n            'eventName': eventName,\n            'eventTarget': eventTarget,\n            'event': serializedEvent,\n        });\n        // TODO(kegluneq): Eventually, we want the user to indicate from the UI side whether the event\n        // should be canceled, but for now just call `preventDefault` on the original DOM event.\n        return false;\n    };\n    return EventDispatcher;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MessageBasedRenderer2 = /** @class */ (function () {\n    function MessageBasedRenderer2(_brokerFactory, _bus, _serializer, _renderStore, _rendererFactory) {\n        this._brokerFactory = _brokerFactory;\n        this._bus = _bus;\n        this._serializer = _serializer;\n        this._renderStore = _renderStore;\n        this._rendererFactory = _rendererFactory;\n    }\n    /**\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.start = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ broker = this._brokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        this._bus.initChannel(EVENT_2_CHANNEL);\n        this._eventDispatcher = new EventDispatcher(this._bus.to(EVENT_2_CHANNEL), this._serializer);\n        var _a = [\n            2 /* RENDER_STORE_OBJECT */,\n            1 /* PRIMITIVE */,\n            0 /* RENDERER_TYPE_2 */,\n        ], RSO = _a[0], P = _a[1], CRT = _a[2];\n        var /** @type {?} */ methods = [\n            ['createRenderer', this.createRenderer, RSO, CRT, P],\n            ['createElement', this.createElement, RSO, P, P, P],\n            ['createComment', this.createComment, RSO, P, P], ['createText', this.createText, RSO, P, P],\n            ['appendChild', this.appendChild, RSO, RSO, RSO],\n            ['insertBefore', this.insertBefore, RSO, RSO, RSO, RSO],\n            ['removeChild', this.removeChild, RSO, RSO, RSO],\n            ['selectRootElement', this.selectRootElement, RSO, P, P],\n            ['parentNode', this.parentNode, RSO, RSO, P], ['nextSibling', this.nextSibling, RSO, RSO, P],\n            ['setAttribute', this.setAttribute, RSO, RSO, P, P, P],\n            ['removeAttribute', this.removeAttribute, RSO, RSO, P, P],\n            ['addClass', this.addClass, RSO, RSO, P], ['removeClass', this.removeClass, RSO, RSO, P],\n            ['setStyle', this.setStyle, RSO, RSO, P, P, P],\n            ['removeStyle', this.removeStyle, RSO, RSO, P, P],\n            ['setProperty', this.setProperty, RSO, RSO, P, P], ['setValue', this.setValue, RSO, RSO, P],\n            ['listen', this.listen, RSO, RSO, P, P, P], ['unlisten', this.unlisten, RSO, RSO],\n            ['destroy', this.destroy, RSO], ['destroyNode', this.destroyNode, RSO, P]\n        ];\n        methods.forEach(function (_a) {\n            var name = _a[0], method = _a[1], argTypes = _a.slice(2);\n            broker.registerMethod(name, argTypes, method.bind(_this));\n        });\n    };\n    /**\n     * @param {?} r\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.destroy = /**\n     * @param {?} r\n     * @return {?}\n     */\n    function (r) { r.destroy(); };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.destroyNode = /**\n     * @param {?} r\n     * @param {?} node\n     * @return {?}\n     */\n    function (r, node) {\n        if (r.destroyNode) {\n            r.destroyNode(node);\n        }\n        this._renderStore.remove(node);\n    };\n    /**\n     * @param {?} el\n     * @param {?} type\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createRenderer = /**\n     * @param {?} el\n     * @param {?} type\n     * @param {?} id\n     * @return {?}\n     */\n    function (el, type, id) {\n        this._renderStore.store(this._rendererFactory.createRenderer(el, type), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} name\n     * @param {?} namespace\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createElement = /**\n     * @param {?} r\n     * @param {?} name\n     * @param {?} namespace\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, name, namespace, id) {\n        this._renderStore.store(r.createElement(name, namespace), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createComment = /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, value, id) {\n        this._renderStore.store(r.createComment(value), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createText = /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, value, id) {\n        this._renderStore.store(r.createText(value), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.appendChild = /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    function (r, parent, child) { r.appendChild(parent, child); };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @param {?} ref\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.insertBefore = /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @param {?} ref\n     * @return {?}\n     */\n    function (r, parent, child, ref) {\n        r.insertBefore(parent, child, ref);\n    };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeChild = /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    function (r, parent, child) { r.removeChild(parent, child); };\n    /**\n     * @param {?} r\n     * @param {?} selector\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.selectRootElement = /**\n     * @param {?} r\n     * @param {?} selector\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, selector, id) {\n        this._renderStore.store(r.selectRootElement(selector), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.parentNode = /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, node, id) {\n        this._renderStore.store(r.parentNode(node), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.nextSibling = /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, node, id) {\n        this._renderStore.store(r.nextSibling(node), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?} namespace\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setAttribute = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?} namespace\n     * @return {?}\n     */\n    function (r, el, name, value, namespace) {\n        r.setAttribute(el, name, value, namespace);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} namespace\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeAttribute = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} namespace\n     * @return {?}\n     */\n    function (r, el, name, namespace) {\n        r.removeAttribute(el, name, namespace);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.addClass = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (r, el, name) { r.addClass(el, name); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeClass = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (r, el, name) { r.removeClass(el, name); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setStyle = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    function (r, el, style, value, flags) {\n        r.setStyle(el, style, value, flags);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeStyle = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    function (r, el, style, flags) {\n        r.removeStyle(el, style, flags);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setProperty = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (r, el, name, value) {\n        r.setProperty(el, name, value);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setValue = /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    function (r, node, value) { r.setValue(node, value); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} elName\n     * @param {?} eventName\n     * @param {?} unlistenId\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.listen = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} elName\n     * @param {?} eventName\n     * @param {?} unlistenId\n     * @return {?}\n     */\n    function (r, el, elName, eventName, unlistenId) {\n        var _this = this;\n        var /** @type {?} */ listener = function (event) {\n            return _this._eventDispatcher.dispatchRenderEvent(el, elName, eventName, event);\n        };\n        var /** @type {?} */ unlisten = r.listen(el || elName, eventName, listener);\n        this._renderStore.store(unlisten, unlistenId);\n    };\n    /**\n     * @param {?} r\n     * @param {?} unlisten\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.unlisten = /**\n     * @param {?} r\n     * @param {?} unlisten\n     * @return {?}\n     */\n    function (r, unlisten) { unlisten(); };\n    MessageBasedRenderer2.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    MessageBasedRenderer2.ctorParameters = function () { return [\n        { type: ServiceMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n        { type: RenderStore, },\n        { type: _angular_core.RendererFactory2, },\n    ]; };\n    return MessageBasedRenderer2;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Wrapper class that exposes the Worker\n * and underlying {\\@link MessageBus} for lower level message passing.\n *\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WebWorkerInstance = /** @class */ (function () {\n    function WebWorkerInstance() {\n    }\n    /**\n     * \\@internal\n     * @param {?} worker\n     * @param {?} bus\n     * @return {?}\n     */\n    WebWorkerInstance.prototype.init = /**\n     * \\@internal\n     * @param {?} worker\n     * @param {?} bus\n     * @return {?}\n     */\n    function (worker, bus) {\n        this.worker = worker;\n        this.bus = bus;\n    };\n    WebWorkerInstance.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    WebWorkerInstance.ctorParameters = function () { return []; };\n    return WebWorkerInstance;\n}());\n/**\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WORKER_SCRIPT = new _angular_core.InjectionToken('WebWorkerScript');\n/**\n * A multi-provider used to automatically call the `start()` method after the service is\n * created.\n *\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WORKER_UI_STARTABLE_MESSAGING_SERVICE = new _angular_core.InjectionToken('WorkerRenderStartableMsgService');\nvar _WORKER_UI_PLATFORM_PROVIDERS = [\n    { provide: _angular_core.NgZone, useFactory: createNgZone, deps: [] },\n    {\n        provide: MessageBasedRenderer2,\n        deps: [ServiceMessageBrokerFactory, MessageBus, Serializer, RenderStore, _angular_core.RendererFactory2]\n    },\n    { provide: WORKER_UI_STARTABLE_MESSAGING_SERVICE, useExisting: MessageBasedRenderer2, multi: true },\n    _angular_platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n    { provide: _angular_core.ErrorHandler, useFactory: _exceptionHandler, deps: [] },\n    { provide: _angular_platformBrowser.DOCUMENT, useFactory: _document, deps: [] },\n    // TODO(jteplitz602): Investigate if we definitely need EVENT_MANAGER on the render thread\n    // #5298\n    {\n        provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: _angular_platformBrowser.ɵDomEventsPlugin,\n        deps: [_angular_platformBrowser.DOCUMENT, _angular_core.NgZone],\n        multi: true\n    },\n    { provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS, useClass: _angular_platformBrowser.ɵKeyEventsPlugin, deps: [_angular_platformBrowser.DOCUMENT], multi: true },\n    {\n        provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: _angular_platformBrowser.ɵHammerGesturesPlugin,\n        deps: [_angular_platformBrowser.DOCUMENT, _angular_platformBrowser.HAMMER_GESTURE_CONFIG],\n        multi: true\n    },\n    { provide: _angular_platformBrowser.HAMMER_GESTURE_CONFIG, useClass: _angular_platformBrowser.HammerGestureConfig, deps: [] },\n    _angular_core.ɵAPP_ID_RANDOM_PROVIDER,\n    { provide: _angular_platformBrowser.ɵDomRendererFactory2, deps: [_angular_platformBrowser.EventManager, _angular_platformBrowser.ɵDomSharedStylesHost] },\n    { provide: _angular_core.RendererFactory2, useExisting: _angular_platformBrowser.ɵDomRendererFactory2 },\n    { provide: _angular_platformBrowser.ɵSharedStylesHost, useExisting: _angular_platformBrowser.ɵDomSharedStylesHost },\n    {\n        provide: ServiceMessageBrokerFactory,\n        useClass: ServiceMessageBrokerFactory,\n        deps: [MessageBus, Serializer]\n    },\n    {\n        provide: ClientMessageBrokerFactory,\n        useClass: ClientMessageBrokerFactory,\n        deps: [MessageBus, Serializer]\n    },\n    { provide: Serializer, deps: [RenderStore] },\n    { provide: ON_WEB_WORKER, useValue: false },\n    { provide: RenderStore, deps: [] },\n    { provide: _angular_platformBrowser.ɵDomSharedStylesHost, deps: [_angular_platformBrowser.DOCUMENT] },\n    { provide: _angular_core.Testability, deps: [_angular_core.NgZone] },\n    { provide: _angular_platformBrowser.EventManager, deps: [_angular_platformBrowser.EVENT_MANAGER_PLUGINS, _angular_core.NgZone] },\n    { provide: WebWorkerInstance, deps: [] },\n    {\n        provide: _angular_core.PLATFORM_INITIALIZER,\n        useFactory: initWebWorkerRenderPlatform,\n        multi: true,\n        deps: [_angular_core.Injector]\n    },\n    { provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_WORKER_UI_ID },\n    { provide: MessageBus, useFactory: messageBusFactory, deps: [WebWorkerInstance] },\n];\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initializeGenericWorkerRenderer(injector) {\n    var /** @type {?} */ bus = injector.get(MessageBus);\n    var /** @type {?} */ zone = injector.get(_angular_core.NgZone);\n    bus.attachToZone(zone);\n    // initialize message services after the bus has been created\n    var /** @type {?} */ services = injector.get(WORKER_UI_STARTABLE_MESSAGING_SERVICE);\n    zone.runGuarded(function () { services.forEach(function (svc) { svc.start(); }); });\n}\n/**\n * @param {?} instance\n * @return {?}\n */\nfunction messageBusFactory(instance) {\n    return instance.bus;\n}\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initWebWorkerRenderPlatform(injector) {\n    return function () {\n        _angular_platformBrowser.ɵBrowserDomAdapter.makeCurrent();\n        _angular_platformBrowser.ɵBrowserGetTestability.init();\n        var /** @type {?} */ scriptUri;\n        try {\n            scriptUri = injector.get(WORKER_SCRIPT);\n        }\n        catch (/** @type {?} */ e) {\n            throw new Error('You must provide your WebWorker\\'s initialization script with the WORKER_SCRIPT token');\n        }\n        var /** @type {?} */ instance = injector.get(WebWorkerInstance);\n        spawnWebWorker(scriptUri, instance);\n        initializeGenericWorkerRenderer(injector);\n    };\n}\n/**\n * \\@experimental WebWorker support is currently experimental.\n */\nvar platformWorkerUi = _angular_core.createPlatformFactory(_angular_core.platformCore, 'workerUi', _WORKER_UI_PLATFORM_PROVIDERS);\n/**\n * @return {?}\n */\nfunction _exceptionHandler() {\n    return new _angular_core.ErrorHandler();\n}\n/**\n * @return {?}\n */\nfunction _document() {\n    return document;\n}\n/**\n * @return {?}\n */\nfunction createNgZone() {\n    return new _angular_core.NgZone({ enableLongStackTrace: _angular_core.isDevMode() });\n}\n/**\n * Spawns a new class and initializes the WebWorkerInstance\n * @param {?} uri\n * @param {?} instance\n * @return {?}\n */\nfunction spawnWebWorker(uri, instance) {\n    var /** @type {?} */ webWorker = new Worker(uri);\n    var /** @type {?} */ sink = new PostMessageBusSink(webWorker);\n    var /** @type {?} */ source = new PostMessageBusSource(webWorker);\n    var /** @type {?} */ bus = new PostMessageBus(sink, source);\n    instance.init(webWorker, bus);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@stable\n */\nvar VERSION = new _angular_core.Version('5.2.0-beta.1-efd9c09');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MessageBasedPlatformLocation = /** @class */ (function () {\n    function MessageBasedPlatformLocation(_brokerFactory, _platformLocation, bus, _serializer) {\n        this._brokerFactory = _brokerFactory;\n        this._platformLocation = _platformLocation;\n        this._serializer = _serializer;\n        this._platformLocation.onPopState(/** @type {?} */ (this._sendUrlChangeEvent.bind(this)));\n        this._platformLocation.onHashChange(/** @type {?} */ (this._sendUrlChangeEvent.bind(this)));\n        this._broker = this._brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        this._channelSink = bus.to(ROUTER_CHANNEL);\n    }\n    /**\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype.start = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ P = 1;\n        this._broker.registerMethod('getLocation', null, this._getLocation.bind(this), LocationType);\n        this._broker.registerMethod('setPathname', [P], this._setPathname.bind(this));\n        this._broker.registerMethod('pushState', [P, P, P], this._platformLocation.pushState.bind(this._platformLocation));\n        this._broker.registerMethod('replaceState', [P, P, P], this._platformLocation.replaceState.bind(this._platformLocation));\n        this._broker.registerMethod('forward', null, this._platformLocation.forward.bind(this._platformLocation));\n        this._broker.registerMethod('back', null, this._platformLocation.back.bind(this._platformLocation));\n    };\n    /**\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._getLocation = /**\n     * @return {?}\n     */\n    function () {\n        return Promise.resolve(this._platformLocation.location);\n    };\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._sendUrlChangeEvent = /**\n     * @param {?} e\n     * @return {?}\n     */\n    function (e) {\n        this._channelSink.emit({\n            'event': { 'type': e.type },\n            'location': this._serializer.serialize(this._platformLocation.location, LocationType),\n        });\n    };\n    /**\n     * @param {?} pathname\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._setPathname = /**\n     * @param {?} pathname\n     * @return {?}\n     */\n    function (pathname) { this._platformLocation.pathname = pathname; };\n    MessageBasedPlatformLocation.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    MessageBasedPlatformLocation.ctorParameters = function () { return [\n        { type: ServiceMessageBrokerFactory, },\n        { type: _angular_platformBrowser.ɵBrowserPlatformLocation, },\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return MessageBasedPlatformLocation;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A list of {\\@link Provider}s. To use the router in a Worker enabled application you must\n * include these providers when setting up the render thread.\n * \\@experimental\n */\nvar WORKER_UI_LOCATION_PROVIDERS = /** @type {?} */ ([\n    { provide: MessageBasedPlatformLocation, deps: [ServiceMessageBrokerFactory,\n            _angular_platformBrowser.ɵBrowserPlatformLocation, MessageBus, Serializer] },\n    { provide: _angular_platformBrowser.ɵBrowserPlatformLocation, deps: [_angular_common.DOCUMENT] },\n    { provide: _angular_core.PLATFORM_INITIALIZER, useFactory: initUiLocation, multi: true, deps: [_angular_core.Injector] }\n]);\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initUiLocation(injector) {\n    return function () {\n        var /** @type {?} */ zone = injector.get(_angular_core.NgZone);\n        zone.runGuarded(function () { return injector.get(MessageBasedPlatformLocation).start(); });\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar WebWorkerPlatformLocation = /** @class */ (function (_super) {\n    __extends(WebWorkerPlatformLocation, _super);\n    function WebWorkerPlatformLocation(brokerFactory, bus, _serializer) {\n        var _this = _super.call(this) || this;\n        _this._serializer = _serializer;\n        _this._popStateListeners = [];\n        _this._hashChangeListeners = [];\n        _this._location = /** @type {?} */ ((null));\n        _this._broker = brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        _this._channelSource = bus.from(ROUTER_CHANNEL);\n        _this._channelSource.subscribe({\n            next: function (msg) {\n                var /** @type {?} */ listeners = null;\n                if (msg.hasOwnProperty('event')) {\n                    var /** @type {?} */ type = msg['event']['type'];\n                    if (type === 'popstate') {\n                        listeners = _this._popStateListeners;\n                    }\n                    else if (type === 'hashchange') {\n                        listeners = _this._hashChangeListeners;\n                    }\n                    if (listeners) {\n                        // There was a popState or hashChange event, so the location object thas been updated\n                        // There was a popState or hashChange event, so the location object thas been updated\n                        _this._location = _this._serializer.deserialize(msg['location'], LocationType);\n                        listeners.forEach(function (fn) { return fn(msg['event']); });\n                    }\n                }\n            }\n        });\n        _this.initialized = new Promise(function (res) { return _this.initializedResolve = res; });\n        return _this;\n    }\n    /** @internal **/\n    /**\n     * \\@internal *\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.init = /**\n     * \\@internal *\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ args = new UiArguments('getLocation');\n        return /** @type {?} */ ((this._broker.runOnService(args, LocationType))).then(function (val) {\n            _this._location = val;\n            _this.initializedResolve();\n            return true;\n        }, function (err) { throw new Error(err); });\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.getBaseHrefFromDOM = /**\n     * @return {?}\n     */\n    function () {\n        throw new Error('Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.');\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.onPopState = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._popStateListeners.push(fn); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.onHashChange = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._hashChangeListeners.push(fn); };\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"pathname\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._location ? /** @type {?} */ ((this._location.pathname)) : '<unknown>'; },\n        set: /**\n         * @param {?} newPath\n         * @return {?}\n         */\n        function (newPath) {\n            if (this._location === null) {\n                throw new Error('Attempt to set pathname before value is obtained from UI');\n            }\n            this._location.pathname = newPath;\n            var /** @type {?} */ fnArgs = [new FnArg(newPath, 1 /* PRIMITIVE */)];\n            var /** @type {?} */ args = new UiArguments('setPathname', fnArgs);\n            this._broker.runOnService(args, null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"search\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._location ? this._location.search : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"hash\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._location ? this._location.hash : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.pushState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    function (state, title, url) {\n        var /** @type {?} */ fnArgs = [\n            new FnArg(state, 1 /* PRIMITIVE */),\n            new FnArg(title, 1 /* PRIMITIVE */),\n            new FnArg(url, 1 /* PRIMITIVE */),\n        ];\n        var /** @type {?} */ args = new UiArguments('pushState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.replaceState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    function (state, title, url) {\n        var /** @type {?} */ fnArgs = [\n            new FnArg(state, 1 /* PRIMITIVE */),\n            new FnArg(title, 1 /* PRIMITIVE */),\n            new FnArg(url, 1 /* PRIMITIVE */),\n        ];\n        var /** @type {?} */ args = new UiArguments('replaceState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.forward = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ args = new UiArguments('forward');\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.back = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ args = new UiArguments('back');\n        this._broker.runOnService(args, null);\n    };\n    WebWorkerPlatformLocation.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    WebWorkerPlatformLocation.ctorParameters = function () { return [\n        { type: ClientMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return WebWorkerPlatformLocation;\n}(_angular_common.PlatformLocation));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * The {\\@link PlatformLocation} providers that should be added when the {\\@link Location} is used in\n * a worker context.\n *\n * \\@experimental\n */\nvar WORKER_APP_LOCATION_PROVIDERS = [\n    { provide: _angular_common.PlatformLocation, useClass: WebWorkerPlatformLocation }, {\n        provide: _angular_core.APP_INITIALIZER,\n        useFactory: appInitFnFactory,\n        multi: true,\n        deps: [_angular_common.PlatformLocation, _angular_core.NgZone]\n    },\n    { provide: _angular_common.LOCATION_INITIALIZED, useFactory: locationInitialized, deps: [_angular_common.PlatformLocation] }\n];\n/**\n * @param {?} platformLocation\n * @return {?}\n */\nfunction locationInitialized(platformLocation) {\n    return platformLocation.initialized;\n}\n/**\n * @param {?} platformLocation\n * @param {?} zone\n * @return {?}\n */\nfunction appInitFnFactory(platformLocation, zone) {\n    return function () { return zone.runGuarded(function () { return platformLocation.init(); }); };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar NamedEventEmitter = /** @class */ (function () {\n    function NamedEventEmitter() {\n    }\n    /**\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.listen = /**\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    function (eventName, callback) { this._getListeners(eventName).push(callback); };\n    /**\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.unlisten = /**\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    function (eventName, listener) {\n        var /** @type {?} */ listeners = this._getListeners(eventName);\n        var /** @type {?} */ index = listeners.indexOf(listener);\n        if (index > -1) {\n            listeners.splice(index, 1);\n        }\n    };\n    /**\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.dispatchEvent = /**\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    function (eventName, event) {\n        var /** @type {?} */ listeners = this._getListeners(eventName);\n        for (var /** @type {?} */ i = 0; i < listeners.length; i++) {\n            listeners[i](event);\n        }\n    };\n    /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    NamedEventEmitter.prototype._getListeners = /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    function (eventName) {\n        if (!this._listeners) {\n            this._listeners = new Map();\n        }\n        var /** @type {?} */ listeners = this._listeners.get(eventName);\n        if (!listeners) {\n            listeners = [];\n            this._listeners.set(eventName, listeners);\n        }\n        return listeners;\n    };\n    return NamedEventEmitter;\n}());\n/**\n * @param {?} target\n * @param {?} eventName\n * @return {?}\n */\nfunction eventNameWithTarget(target, eventName) {\n    return target + \":\" + eventName;\n}\nvar WebWorkerRendererFactory2 = /** @class */ (function () {\n    function WebWorkerRendererFactory2(messageBrokerFactory, bus, _serializer, renderStore) {\n        var _this = this;\n        this._serializer = _serializer;\n        this.renderStore = renderStore;\n        this.globalEvents = new NamedEventEmitter();\n        this._messageBroker = messageBrokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        bus.initChannel(EVENT_2_CHANNEL);\n        var /** @type {?} */ source = bus.from(EVENT_2_CHANNEL);\n        source.subscribe({ next: function (message) { return _this._dispatchEvent(message); } });\n    }\n    /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.createRenderer = /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    function (element, type) {\n        var /** @type {?} */ renderer = new WebWorkerRenderer2(this);\n        var /** @type {?} */ id = this.renderStore.allocateId();\n        this.renderStore.store(renderer, id);\n        this.callUI('createRenderer', [\n            new FnArg(element, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(type, 0 /* RENDERER_TYPE_2 */),\n            new FnArg(renderer, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return renderer;\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.begin = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.end = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @param {?} fnName\n     * @param {?} fnArgs\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.callUI = /**\n     * @param {?} fnName\n     * @param {?} fnArgs\n     * @return {?}\n     */\n    function (fnName, fnArgs) {\n        var /** @type {?} */ args = new UiArguments(fnName, fnArgs);\n        this._messageBroker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.allocateNode = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ result = new WebWorkerRenderNode();\n        var /** @type {?} */ id = this.renderStore.allocateId();\n        this.renderStore.store(result, id);\n        return result;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.freeNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { this.renderStore.remove(node); };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.allocateId = /**\n     * @return {?}\n     */\n    function () { return this.renderStore.allocateId(); };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype._dispatchEvent = /**\n     * @param {?} message\n     * @return {?}\n     */\n    function (message) {\n        var /** @type {?} */ element = this._serializer.deserialize(message['element'], 2 /* RENDER_STORE_OBJECT */);\n        var /** @type {?} */ eventName = message['eventName'];\n        var /** @type {?} */ target = message['eventTarget'];\n        var /** @type {?} */ event = message['event'];\n        if (target) {\n            this.globalEvents.dispatchEvent(eventNameWithTarget(target, eventName), event);\n        }\n        else {\n            element.events.dispatchEvent(eventName, event);\n        }\n    };\n    WebWorkerRendererFactory2.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    WebWorkerRendererFactory2.ctorParameters = function () { return [\n        { type: ClientMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n        { type: RenderStore, },\n    ]; };\n    return WebWorkerRendererFactory2;\n}());\nvar WebWorkerRenderer2 = /** @class */ (function () {\n    function WebWorkerRenderer2(_rendererFactory) {\n        this._rendererFactory = _rendererFactory;\n        this.data = Object.create(null);\n        this.asFnArg = new FnArg(this, 2 /* RENDER_STORE_OBJECT */);\n    }\n    /**\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.destroy = /**\n     * @return {?}\n     */\n    function () { this.callUIWithRenderer('destroy'); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.destroyNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        this.callUIWithRenderer('destroyNode', [new FnArg(node, 2 /* RENDER_STORE_OBJECT */)]);\n        this._rendererFactory.freeNode(node);\n    };\n    /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createElement = /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (name, namespace) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createElement', [\n            new FnArg(name),\n            new FnArg(namespace),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createComment = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createComment', [\n            new FnArg(value),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createText = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createText', [\n            new FnArg(value),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.appendChild = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    function (parent, newChild) {\n        this.callUIWithRenderer('appendChild', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.insertBefore = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    function (parent, newChild, refChild) {\n        if (!parent) {\n            return;\n        }\n        this.callUIWithRenderer('insertBefore', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(refChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeChild = /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    function (parent, oldChild) {\n        this.callUIWithRenderer('removeChild', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(oldChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    /**\n     * @param {?} selectorOrNode\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.selectRootElement = /**\n     * @param {?} selectorOrNode\n     * @return {?}\n     */\n    function (selectorOrNode) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('selectRootElement', [\n            new FnArg(selectorOrNode),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.parentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        var /** @type {?} */ res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('parentNode', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return res;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.nextSibling = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        var /** @type {?} */ res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('nextSibling', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return res;\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, value, namespace) {\n        this.callUIWithRenderer('setAttribute', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(value),\n            new FnArg(namespace),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, namespace) {\n        this.callUIWithRenderer('removeAttribute', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(namespace),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.addClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) {\n        this.callUIWithRenderer('addClass', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) {\n        this.callUIWithRenderer('removeClass', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, value, flags) {\n        this.callUIWithRenderer('setStyle', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(style),\n            new FnArg(value),\n            new FnArg(flags),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, flags) {\n        this.callUIWithRenderer('removeStyle', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(style),\n            new FnArg(flags),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) {\n        this.callUIWithRenderer('setProperty', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(value),\n        ]);\n    };\n    /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setValue = /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    function (node, value) {\n        this.callUIWithRenderer('setValue', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(value),\n        ]);\n    };\n    /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.listen = /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    function (target, eventName, listener) {\n        var _this = this;\n        var /** @type {?} */ unlistenId = this._rendererFactory.allocateId();\n        var _a = typeof target === 'string' ? [null, target, target + \":\" + eventName] :\n            [target, null, null], targetEl = _a[0], targetName = _a[1], fullName = _a[2];\n        if (fullName) {\n            this._rendererFactory.globalEvents.listen(fullName, listener);\n        }\n        else {\n            targetEl.events.listen(eventName, listener);\n        }\n        this.callUIWithRenderer('listen', [\n            new FnArg(targetEl, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(targetName),\n            new FnArg(eventName),\n            new FnArg(unlistenId),\n        ]);\n        return function () {\n            if (fullName) {\n                _this._rendererFactory.globalEvents.unlisten(fullName, listener);\n            }\n            else {\n                targetEl.events.unlisten(eventName, listener);\n            }\n            _this.callUIWithRenderer('unlisten', [new FnArg(unlistenId)]);\n        };\n    };\n    /**\n     * @param {?} fnName\n     * @param {?=} fnArgs\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.callUIWithRenderer = /**\n     * @param {?} fnName\n     * @param {?=} fnArgs\n     * @return {?}\n     */\n    function (fnName, fnArgs) {\n        if (fnArgs === void 0) { fnArgs = []; }\n        // always pass the renderer as the first arg\n        this._rendererFactory.callUI(fnName, [this.asFnArg].concat(fnArgs));\n    };\n    return WebWorkerRenderer2;\n}());\nvar WebWorkerRenderNode = /** @class */ (function () {\n    function WebWorkerRenderNode() {\n        this.events = new NamedEventEmitter();\n    }\n    return WebWorkerRenderNode;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * This adapter is required to log error messages.\n *\n * Note: other methods all throw as the DOM is not accessible directly in web worker context.\n */\nvar WorkerDomAdapter = /** @class */ (function (_super) {\n    __extends(WorkerDomAdapter, _super);\n    function WorkerDomAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.makeCurrent = /**\n     * @return {?}\n     */\n    function () { _angular_platformBrowser.ɵsetRootDomAdapter(new WorkerDomAdapter()); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logError = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) {\n        if (console.error) {\n            console.error(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.log = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) {\n        // tslint:disable-next-line:no-console\n        console.log(error);\n    };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logGroup = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) {\n        if (console.group) {\n            console.group(error);\n            this.logError(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logGroupEnd = /**\n     * @return {?}\n     */\n    function () {\n        if (console.groupEnd) {\n            console.groupEnd();\n        }\n    };\n    /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.contains = /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    function (nodeA, nodeB) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasProperty = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} methodName\n     * @param {?} args\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.invoke = /**\n     * @param {?} el\n     * @param {?} methodName\n     * @param {?} args\n     * @return {?}\n     */\n    function (el, methodName, args) { throw 'not implemented'; };\n    Object.defineProperty(WorkerDomAdapter.prototype, \"attrToPropMap\", {\n        get: /**\n         * @return {?}\n         */\n        function () { throw 'not implemented'; },\n        set: /**\n         * @param {?} value\n         * @return {?}\n         */\n        function (value) { throw 'not implemented'; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} templateHtml\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.parse = /**\n     * @param {?} templateHtml\n     * @return {?}\n     */\n    function (templateHtml) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.querySelector = /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    function (el, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.querySelectorAll = /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    function (el, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.on = /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    function (el, evt, listener) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.onAndCancel = /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    function (el, evt, listener) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.dispatchEvent = /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    function (el, evt) { throw 'not implemented'; };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createMouseEvent = /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    function (eventType) { throw 'not implemented'; };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createEvent = /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    function (eventType) { throw 'not implemented'; };\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.preventDefault = /**\n     * @param {?} evt\n     * @return {?}\n     */\n    function (evt) { throw 'not implemented'; };\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isPrevented = /**\n     * @param {?} evt\n     * @return {?}\n     */\n    function (evt) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getInnerHTML = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTemplateContent = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getOuterHTML = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nodeName = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nodeValue = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.type = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.content = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.firstChild = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nextSibling = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.parentElement = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.childNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.childNodesAsList = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.clearNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.appendChild = /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeChild = /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} newNode\n     * @param {?} oldNode\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.replaceChild = /**\n     * @param {?} el\n     * @param {?} newNode\n     * @param {?} oldNode\n     * @return {?}\n     */\n    function (el, newNode, oldNode) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.remove = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertBefore = /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (parent, el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} nodes\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertAllBefore = /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} nodes\n     * @return {?}\n     */\n    function (parent, el, nodes) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertAfter = /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (parent, el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setInnerHTML = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getText = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setText = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getValue = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setValue = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getChecked = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setChecked = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} text\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createComment = /**\n     * @param {?} text\n     * @return {?}\n     */\n    function (text) { throw 'not implemented'; };\n    /**\n     * @param {?} html\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createTemplate = /**\n     * @param {?} html\n     * @return {?}\n     */\n    function (html) { throw 'not implemented'; };\n    /**\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createElement = /**\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (tagName, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} ns\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createElementNS = /**\n     * @param {?} ns\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (ns, tagName, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} text\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createTextNode = /**\n     * @param {?} text\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (text, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} attrName\n     * @param {?} attrValue\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createScriptTag = /**\n     * @param {?} attrName\n     * @param {?} attrValue\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (attrName, attrValue, doc) {\n        throw 'not implemented';\n    };\n    /**\n     * @param {?} css\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createStyleElement = /**\n     * @param {?} css\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (css, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createShadowRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getShadowRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHost = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getDistributedNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.clone = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getElementsByClassName = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getElementsByTagName = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.classList = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.addClass = /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeClass = /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasClass = /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?} styleValue\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) {\n        throw 'not implemented';\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.tagName = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.attributeMap = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasAttribute = /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAttribute = /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setAttribute = /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, ns, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeAttribute = /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.templateAwareRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createHtmlDocument = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getDefaultDocument = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getBoundingClientRect = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTitle = /**\n     * @param {?} doc\n     * @return {?}\n     */\n    function (doc) { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @param {?} newTitle\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setTitle = /**\n     * @param {?} doc\n     * @param {?} newTitle\n     * @return {?}\n     */\n    function (doc, newTitle) { throw 'not implemented'; };\n    /**\n     * @param {?} n\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.elementMatches = /**\n     * @param {?} n\n     * @param {?} selector\n     * @return {?}\n     */\n    function (n, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isTemplateElement = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isTextNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isCommentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isElementNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.importIntoDoc = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.adoptNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHref = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getEventKey = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} baseUrl\n     * @param {?} href\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.resolveAndSetHref = /**\n     * @param {?} element\n     * @param {?} baseUrl\n     * @param {?} href\n     * @return {?}\n     */\n    function (element, baseUrl, href) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsDOMEvents = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsNativeShadowDOM = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getGlobalEventTarget = /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    function (doc, target) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHistory = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getLocation = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getBaseHref = /**\n     * @param {?} doc\n     * @return {?}\n     */\n    function (doc) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.resetBaseElement = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getUserAgent = /**\n     * @return {?}\n     */\n    function () { return 'Fake user agent'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setData = /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getComputedStyle = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getData = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.performanceNow = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAnimationPrefix = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTransitionEnd = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsAnimation = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsWebAnimation = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsCookies = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getCookie = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) { throw 'not implemented'; };\n    /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setCookie = /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (name, value) { throw 'not implemented'; };\n    return WorkerDomAdapter;\n}(_angular_platformBrowser.ɵDomAdapter));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental\n */\nvar platformWorkerApp = _angular_core.createPlatformFactory(_angular_core.platformCore, 'workerApp', [{ provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_WORKER_APP_ID }]);\n/**\n * @return {?}\n */\nfunction errorHandler() {\n    return new _angular_core.ErrorHandler();\n}\nvar ɵ0 = function (message, transferrables) {\n    (/** @type {?} */ (postMessage))(message, transferrables);\n};\n// TODO(jteplitz602) remove this and compile with lib.webworker.d.ts (#3492)\nvar _postMessage = {\n    postMessage: ɵ0\n};\n/**\n * @param {?} zone\n * @return {?}\n */\nfunction createMessageBus(zone) {\n    var /** @type {?} */ sink = new PostMessageBusSink(_postMessage);\n    var /** @type {?} */ source = new PostMessageBusSource();\n    var /** @type {?} */ bus = new PostMessageBus(sink, source);\n    bus.attachToZone(zone);\n    return bus;\n}\n/**\n * @return {?}\n */\nfunction setupWebWorker() {\n    WorkerDomAdapter.makeCurrent();\n}\n/**\n * The ng module for the worker app side.\n *\n * \\@experimental\n */\nvar WorkerAppModule = /** @class */ (function () {\n    function WorkerAppModule() {\n    }\n    WorkerAppModule.decorators = [\n        { type: _angular_core.NgModule, args: [{\n                    providers: [\n                        _angular_platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n                        Serializer,\n                        { provide: _angular_platformBrowser.DOCUMENT, useValue: null },\n                        ClientMessageBrokerFactory,\n                        ServiceMessageBrokerFactory,\n                        WebWorkerRendererFactory2,\n                        { provide: _angular_core.RendererFactory2, useExisting: WebWorkerRendererFactory2 },\n                        { provide: ON_WEB_WORKER, useValue: true },\n                        RenderStore,\n                        { provide: _angular_core.ErrorHandler, useFactory: errorHandler, deps: [] },\n                        { provide: MessageBus, useFactory: createMessageBus, deps: [_angular_core.NgZone] },\n                        { provide: _angular_core.APP_INITIALIZER, useValue: setupWebWorker, multi: true },\n                    ],\n                    exports: [\n                        _angular_common.CommonModule,\n                        _angular_core.ApplicationModule,\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    WorkerAppModule.ctorParameters = function () { return []; };\n    return WorkerAppModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Bootstraps the worker ui.\n *\n * \\@experimental\n * @param {?} workerScriptUri\n * @param {?=} customProviders\n * @return {?}\n */\nfunction bootstrapWorkerUi(workerScriptUri, customProviders) {\n    if (customProviders === void 0) { customProviders = []; }\n    // For now, just creates the worker ui platform...\n    var /** @type {?} */ platform = platformWorkerUi([\n        { provide: WORKER_SCRIPT, useValue: workerScriptUri }\n    ].concat(customProviders));\n    return Promise.resolve(platform);\n}\n\nexports.VERSION = VERSION;\nexports.ClientMessageBroker = ClientMessageBroker;\nexports.ClientMessageBrokerFactory = ClientMessageBrokerFactory;\nexports.FnArg = FnArg;\nexports.UiArguments = UiArguments;\nexports.MessageBus = MessageBus;\nexports.ServiceMessageBroker = ServiceMessageBroker;\nexports.ServiceMessageBrokerFactory = ServiceMessageBrokerFactory;\nexports.WORKER_UI_LOCATION_PROVIDERS = WORKER_UI_LOCATION_PROVIDERS;\nexports.WORKER_APP_LOCATION_PROVIDERS = WORKER_APP_LOCATION_PROVIDERS;\nexports.WorkerAppModule = WorkerAppModule;\nexports.platformWorkerApp = platformWorkerApp;\nexports.platformWorkerUi = platformWorkerUi;\nexports.bootstrapWorkerUi = bootstrapWorkerUi;\nexports.ɵk = ON_WEB_WORKER;\nexports.ɵh = RenderStore;\nexports.ɵa = Serializer;\nexports.ɵc = appInitFnFactory;\nexports.ɵb = locationInitialized;\nexports.ɵi = WebWorkerPlatformLocation;\nexports.ɵj = WebWorkerRendererFactory2;\nexports.ɵe = createMessageBus;\nexports.ɵd = errorHandler;\nexports.ɵf = setupWebWorker;\nexports.ɵg = _WORKER_UI_PLATFORM_PROVIDERS;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=platform-webworker.umd.js.map\n"]}