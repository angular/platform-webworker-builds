{"version":3,"sources":["packages/platform-webworker/platform-webworker.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","platformWebworker","common","core","platformBrowser","this","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__extends","__","constructor","prototype","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","ON_WEB_WORKER","InjectionToken","MessageBus","RenderStore","_nextIndex","_lookupById","Map","_lookupByObject","allocateId","store","obj","id","set","remove","index","get","delete","deserialize","has","serialize","decorators","type","Injectable","LocationType","href","protocol","host","hostname","port","pathname","search","hash","origin","Serializer","_renderStore","_this","isArray","map","v","RenderComponentType","_serializeRenderComponentType","_serializeRendererType2","_serializeLocation","Error","ɵstringify","data","val","_deserializeRenderComponentType","_deserializeRendererType2","_deserializeLocation","loc","templateUrl","slotCount","encapsulation","styles","props","ctorParameters","ClientMessageBrokerFactory","_messageBus","_serializer","createMessageBroker","channel","runInZone","initChannel","ClientMessageBroker","messageBus","_pending","_sink","to","from","subscribe","message","_handleMessage","_generateMessageId","name","time","Date","getTime","iteration","runOnService","args","returnType","promise","fnArgs","forEach","argument","completer_1","Promise","resolve","reject","method","catch","err","console","then","emit","FnArg","UiArguments","PostMessageBusSink","_postMessageTarget","_channels","_messageBuffer","attachToZone","zone","_zone","runOutsideAngular","onStable","_handleOnEventDone","emitter","EventEmitter","channelInfo","_Channel","_sendMessages","messages","postMessage","PostMessageBusSource","eventTarget","addEventListener","ev","_handleMessages","self","channelInfo_1","run","PostMessageBus","sink","source","ServiceMessageBrokerFactory","ServiceMessageBroker","_methods","registerMethod","methodName","signature","serializedArgs","numArgs","deserializedArgs","apply","_wrapWebWorkerPromise","result","RENDERER_2_CHANNEL","EVENT_2_CHANNEL","ROUTER_CHANNEL","MOUSE_EVENT_PROPERTIES","KEYBOARD_EVENT_PROPERTIES","TRANSITION_EVENT_PROPERTIES","EVENT_PROPERTIES","NODES_WITH_VALUE","Set","addTarget","serializedEvent","target","tagName","toLowerCase","files","serializeEvent","properties","serialized","prop","EventDispatcher","dispatchAnimationEvent","player","phaseName","element","animationPlayer","dispatchRenderEvent","eventName","event","serializeMouseEvent","serializeKeyboardEvent","serializeEventWithTarget","serializeGenericEvent","serializeTransitionEvent","MessageBasedRenderer2","_brokerFactory","_bus","_rendererFactory","start","broker","_eventDispatcher","_a","RSO","P","createRenderer","createElement","createComment","createText","appendChild","insertBefore","removeChild","selectRootElement","parentNode","nextSibling","setAttribute","removeAttribute","addClass","removeClass","setStyle","removeStyle","setProperty","setValue","listen","unlisten","destroy","destroyNode","_b","argTypes","slice","bind","node","el","namespace","parent","child","ref","selector","style","flags","elName","unlistenId","RendererFactory2","WebWorkerInstance","init","worker","bus","WORKER_SCRIPT","WORKER_UI_STARTABLE_MESSAGING_SERVICE","_WORKER_UI_PLATFORM_PROVIDERS","provide","NgZone","useFactory","createNgZone","enableLongStackTrace","isDevMode","deps","useExisting","multi","ɵBROWSER_SANITIZATION_PROVIDERS","ErrorHandler","_exceptionHandler","DOCUMENT","_document","document","EVENT_MANAGER_PLUGINS","useClass","ɵDomEventsPlugin","ɵKeyEventsPlugin","ɵHammerGesturesPlugin","HAMMER_GESTURE_CONFIG","HammerGestureConfig","ɵAPP_ID_RANDOM_PROVIDER","ɵDomRendererFactory2","EventManager","ɵDomSharedStylesHost","ɵSharedStylesHost","useValue","Testability","PLATFORM_INITIALIZER","initWebWorkerRenderPlatform","injector","scriptUri","ɵBrowserDomAdapter","makeCurrent","ɵBrowserGetTestability","spawnWebWorker","uri","instance","webWorker","Worker","initializeGenericWorkerRenderer","services","runGuarded","svc","Injector","PLATFORM_ID","ɵPLATFORM_WORKER_UI_ID","messageBusFactory","platformWorkerUi","createPlatformFactory","platformCore","VERSION","Version","MessageBasedPlatformLocation","_platformLocation","onPopState","_sendUrlChangeEvent","onHashChange","_broker","_channelSink","_getLocation","_setPathname","pushState","replaceState","forward","back","location","ɵBrowserPlatformLocation","WORKER_UI_LOCATION_PROVIDERS","initUiLocation","WebWorkerPlatformLocation","_super","brokerFactory","_popStateListeners","_hashChangeListeners","_location","_channelSource","msg","listeners","fn","initialized","res","initializedResolve","getBaseHrefFromDOM","defineProperty","newPath","enumerable","configurable","state","title","url","PlatformLocation","WORKER_APP_LOCATION_PROVIDERS","APP_INITIALIZER","appInitFnFactory","LOCATION_INITIALIZED","locationInitialized","platformLocation","NamedEventEmitter","callback","_getListeners","listener","indexOf","splice","dispatchEvent","_listeners","WebWorkerRendererFactory2","messageBrokerFactory","renderStore","globalEvents","_messageBroker","_dispatchEvent","renderer","WebWorkerRenderer2","callUI","begin","end","fnName","allocateNode","WebWorkerRenderNode","freeNode","eventNameWithTarget","events","asFnArg","callUIWithRenderer","newChild","refChild","oldChild","selectorOrNode","targetEl","targetName","fullName","WorkerDomAdapter","ɵsetRootDomAdapter","logError","log","logGroup","group","logGroupEnd","groupEnd","contains","nodeA","nodeB","hasProperty","getProperty","invoke","parse","templateHtml","querySelector","querySelectorAll","on","evt","onAndCancel","createMouseEvent","eventType","createEvent","preventDefault","isPrevented","getInnerHTML","getTemplateContent","getOuterHTML","nodeName","nodeValue","content","firstChild","parentElement","childNodes","childNodesAsList","clearNodes","replaceChild","newNode","oldNode","insertAllBefore","nodes","insertAfter","setInnerHTML","getText","setText","getValue","getChecked","setChecked","text","createTemplate","html","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","createStyleElement","css","createShadowRoot","getShadowRoot","getHost","getDistributedNodes","clone","getElementsByClassName","getElementsByTagName","classList","className","hasClass","styleName","styleValue","getStyle","hasStyle","attributeMap","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttributeNS","templateAwareRoot","createHtmlDocument","getDefaultDocument","getBoundingClientRect","getTitle","setTitle","newTitle","elementMatches","isTemplateElement","isTextNode","isCommentNode","isElementNode","hasShadowRoot","isShadowRoot","importIntoDoc","adoptNode","getHref","getEventKey","resolveAndSetHref","baseUrl","supportsDOMEvents","supportsNativeShadowDOM","getGlobalEventTarget","getHistory","getLocation","getBaseHref","resetBaseElement","getUserAgent","setData","getComputedStyle","getData","performanceNow","getAnimationPrefix","getTransitionEnd","supportsAnimation","supportsWebAnimation","supportsCookies","getCookie","setCookie","ɵDomAdapter","platformWorkerApp","ɵPLATFORM_WORKER_APP_ID","errorHandler","_postMessage","transferrables","createMessageBus","setupWebWorker","WorkerAppModule","NgModule","providers","CommonModule","ApplicationModule","ɵangular_packages_platform_webworker_platform_webworker_k","ɵangular_packages_platform_webworker_platform_webworker_h","ɵangular_packages_platform_webworker_platform_webworker_a","ɵangular_packages_platform_webworker_platform_webworker_c","ɵangular_packages_platform_webworker_platform_webworker_b","ɵangular_packages_platform_webworker_platform_webworker_i","ɵangular_packages_platform_webworker_platform_webworker_j","ɵangular_packages_platform_webworker_platform_webworker_e","ɵangular_packages_platform_webworker_platform_webworker_d","ɵangular_packages_platform_webworker_platform_webworker_f","ɵangular_packages_platform_webworker_platform_webworker_g","bootstrapWorkerUi","workerScriptUri","customProviders","platform"],"mappings":"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","sourcesContent":["/**\n * @license Angular v6.0.0-rc.5+254.sha-5b25c07\n * (c) 2010-2018 Google, Inc. https://angular.io/\n * License: MIT\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/common'), require('@angular/core'), require('@angular/platform-browser')) :\n\ttypeof define === 'function' && define.amd ? define('@angular/platform-webworker', ['exports', '@angular/common', '@angular/core', '@angular/platform-browser'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.platformWebworker = {}),global.ng.common,global.ng.core,global.ng.platformBrowser));\n}(this, (function (exports,common,core,platformBrowser) { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ON_WEB_WORKER = new core.InjectionToken('WebWorker.onWebWorker');\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Message Bus is a low level API used to communicate between the UI and the background.\n * Communication is based on a channel abstraction. Messages published in a\n * given channel to one MessageBusSink are received on the same channel\n * by the corresponding MessageBusSource.\n *\n * @experimental WebWorker support in Angular is currenlty experimental.\n */\nvar MessageBus = /** @class */ (function () {\n    function MessageBus() {\n    }\n    return MessageBus;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar RenderStore = /** @class */ (function () {\n    function RenderStore() {\n        this._nextIndex = 0;\n        this._lookupById = new Map();\n        this._lookupByObject = new Map();\n    }\n    RenderStore.prototype.allocateId = function () { return this._nextIndex++; };\n    RenderStore.prototype.store = function (obj, id) {\n        if (id == null)\n            return;\n        this._lookupById.set(id, obj);\n        this._lookupByObject.set(obj, id);\n    };\n    RenderStore.prototype.remove = function (obj) {\n        var index = this._lookupByObject.get(obj);\n        if (index != null) {\n            this._lookupByObject.delete(obj);\n            this._lookupById.delete(index);\n        }\n    };\n    RenderStore.prototype.deserialize = function (id) {\n        return this._lookupById.has(id) ? this._lookupById.get(id) : null;\n    };\n    RenderStore.prototype.serialize = function (obj) {\n        return obj == null ? null : this._lookupByObject.get(obj);\n    };\n    RenderStore.decorators = [\n        { type: core.Injectable }\n    ];\n    return RenderStore;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar LocationType = /** @class */ (function () {\n    function LocationType(href, protocol, host, hostname, port, pathname, search, hash, origin) {\n        this.href = href;\n        this.protocol = protocol;\n        this.host = host;\n        this.hostname = hostname;\n        this.port = port;\n        this.pathname = pathname;\n        this.search = search;\n        this.hash = hash;\n        this.origin = origin;\n    }\n    return LocationType;\n}());\nvar Serializer = /** @class */ (function () {\n    function Serializer(_renderStore) {\n        this._renderStore = _renderStore;\n    }\n    Serializer.prototype.serialize = function (obj, type) {\n        var _this = this;\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        if (obj == null || type === 1 /* PRIMITIVE */) {\n            return obj;\n        }\n        if (Array.isArray(obj)) {\n            return obj.map(function (v) { return _this.serialize(v, type); });\n        }\n        if (type === 2 /* RENDER_STORE_OBJECT */) {\n            return this._renderStore.serialize(obj);\n        }\n        if (type === core.RenderComponentType) {\n            return this._serializeRenderComponentType(obj);\n        }\n        if (type === 0 /* RENDERER_TYPE_2 */) {\n            return this._serializeRendererType2(obj);\n        }\n        if (type === LocationType) {\n            return this._serializeLocation(obj);\n        }\n        throw new Error(\"No serializer for type \" + core.ɵstringify(type));\n    };\n    Serializer.prototype.deserialize = function (map, type, data) {\n        var _this = this;\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        if (map == null || type === 1 /* PRIMITIVE */) {\n            return map;\n        }\n        if (Array.isArray(map)) {\n            return map.map(function (val) { return _this.deserialize(val, type, data); });\n        }\n        if (type === 2 /* RENDER_STORE_OBJECT */) {\n            return this._renderStore.deserialize(map);\n        }\n        if (type === core.RenderComponentType) {\n            return this._deserializeRenderComponentType(map);\n        }\n        if (type === 0 /* RENDERER_TYPE_2 */) {\n            return this._deserializeRendererType2(map);\n        }\n        if (type === LocationType) {\n            return this._deserializeLocation(map);\n        }\n        throw new Error(\"No deserializer for type \" + core.ɵstringify(type));\n    };\n    Serializer.prototype._serializeLocation = function (loc) {\n        return {\n            'href': loc.href,\n            'protocol': loc.protocol,\n            'host': loc.host,\n            'hostname': loc.hostname,\n            'port': loc.port,\n            'pathname': loc.pathname,\n            'search': loc.search,\n            'hash': loc.hash,\n            'origin': loc.origin,\n        };\n    };\n    Serializer.prototype._deserializeLocation = function (loc) {\n        return new LocationType(loc['href'], loc['protocol'], loc['host'], loc['hostname'], loc['port'], loc['pathname'], loc['search'], loc['hash'], loc['origin']);\n    };\n    Serializer.prototype._serializeRenderComponentType = function (type) {\n        return {\n            'id': type.id,\n            'templateUrl': type.templateUrl,\n            'slotCount': type.slotCount,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n        };\n    };\n    Serializer.prototype._deserializeRenderComponentType = function (props) {\n        return new core.RenderComponentType(props['id'], props['templateUrl'], props['slotCount'], this.deserialize(props['encapsulation']), this.deserialize(props['styles']), {});\n    };\n    Serializer.prototype._serializeRendererType2 = function (type) {\n        return {\n            'id': type.id,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n            'data': this.serialize(type.data),\n        };\n    };\n    Serializer.prototype._deserializeRendererType2 = function (props) {\n        return {\n            id: props['id'],\n            encapsulation: props['encapsulation'],\n            styles: this.deserialize(props['styles']),\n            data: this.deserialize(props['data'])\n        };\n    };\n    Serializer.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    Serializer.ctorParameters = function () { return [\n        { type: RenderStore, },\n    ]; };\n    return Serializer;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @experimental WebWorker support in Angular is experimental.\n */\nvar ClientMessageBrokerFactory = /** @class */ (function () {\n    /** @internal */\n    function ClientMessageBrokerFactory(_messageBus, _serializer) {\n        this._messageBus = _messageBus;\n        this._serializer = _serializer;\n    }\n    /**\n     * Initializes the given channel and attaches a new {@link ClientMessageBroker} to it.\n     */\n    /**\n       * Initializes the given channel and attaches a new {@link ClientMessageBroker} to it.\n       */\n    ClientMessageBrokerFactory.prototype.createMessageBroker = /**\n       * Initializes the given channel and attaches a new {@link ClientMessageBroker} to it.\n       */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ClientMessageBroker(this._messageBus, this._serializer, channel);\n    };\n    ClientMessageBrokerFactory.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    ClientMessageBrokerFactory.ctorParameters = function () { return [\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return ClientMessageBrokerFactory;\n}());\n/**\n * @experimental WebWorker support in Angular is experimental.\n */\nvar ClientMessageBroker = /** @class */ (function () {\n    /** @internal */\n    function ClientMessageBroker(messageBus, _serializer, channel) {\n        var _this = this;\n        this.channel = channel;\n        this._pending = new Map();\n        this._sink = messageBus.to(channel);\n        this._serializer = _serializer;\n        var source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n    }\n    ClientMessageBroker.prototype._generateMessageId = function (name) {\n        var time = core.ɵstringify(new Date().getTime());\n        var iteration = 0;\n        var id = name + time + core.ɵstringify(iteration);\n        while (this._pending.has(id)) {\n            id = \"\" + name + time + iteration;\n            iteration++;\n        }\n        return id;\n    };\n    ClientMessageBroker.prototype.runOnService = function (args, returnType) {\n        var _this = this;\n        var fnArgs = [];\n        if (args.args) {\n            args.args.forEach(function (argument) {\n                if (argument.type != null) {\n                    fnArgs.push(_this._serializer.serialize(argument.value, argument.type));\n                }\n                else {\n                    fnArgs.push(argument.value);\n                }\n            });\n        }\n        var promise;\n        var id = null;\n        if (returnType != null) {\n            var completer_1 = (undefined);\n            promise = new Promise(function (resolve, reject) { completer_1 = { resolve: resolve, reject: reject }; });\n            id = this._generateMessageId(args.method);\n            this._pending.set(id, completer_1);\n            promise.catch(function (err) {\n                if (console && console.error) {\n                    // tslint:disable-next-line:no-console\n                    console.error(err);\n                }\n                completer_1.reject(err);\n            });\n            promise = promise.then(function (v) { return _this._serializer ? _this._serializer.deserialize(v, returnType) : v; });\n        }\n        else {\n            promise = null;\n        }\n        var message = {\n            'method': args.method,\n            'args': fnArgs,\n        };\n        if (id != null) {\n            message['id'] = id;\n        }\n        this._sink.emit(message);\n        return promise;\n    };\n    ClientMessageBroker.prototype._handleMessage = function (message) {\n        if (message.type === 'result' || message.type === 'error') {\n            var id = (message.id);\n            if (this._pending.has(id)) {\n                if (message.type === 'result') {\n                    this._pending.get(id).resolve(message.value);\n                }\n                else {\n                    this._pending.get(id).reject(message.value);\n                }\n                this._pending.delete(id);\n            }\n        }\n    };\n    return ClientMessageBroker;\n}());\n/**\n * @experimental WebWorker support in Angular is experimental.\n */\nvar FnArg = /** @class */ (function () {\n    function FnArg(value, type) {\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        this.value = value;\n        this.type = type;\n    }\n    return FnArg;\n}());\n/**\n * @experimental WebWorker support in Angular is experimental.\n */\nvar UiArguments = /** @class */ (function () {\n    function UiArguments(method, args) {\n        this.method = method;\n        this.args = args;\n    }\n    return UiArguments;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar PostMessageBusSink = /** @class */ (function () {\n    function PostMessageBusSink(_postMessageTarget) {\n        this._postMessageTarget = _postMessageTarget;\n        this._channels = {};\n        this._messageBuffer = [];\n    }\n    PostMessageBusSink.prototype.attachToZone = function (zone) {\n        var _this = this;\n        this._zone = zone;\n        this._zone.runOutsideAngular(function () { _this._zone.onStable.subscribe({ next: function () { _this._handleOnEventDone(); } }); });\n    };\n    PostMessageBusSink.prototype.initChannel = function (channel, runInZone) {\n        var _this = this;\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var emitter = new core.EventEmitter(false);\n        var channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n        emitter.subscribe(function (data) {\n            var message = { channel: channel, message: data };\n            if (runInZone) {\n                _this._messageBuffer.push(message);\n            }\n            else {\n                _this._sendMessages([message]);\n            }\n        });\n    };\n    PostMessageBusSink.prototype.to = function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    PostMessageBusSink.prototype._handleOnEventDone = function () {\n        if (this._messageBuffer.length > 0) {\n            this._sendMessages(this._messageBuffer);\n            this._messageBuffer = [];\n        }\n    };\n    PostMessageBusSink.prototype._sendMessages = function (messages) { this._postMessageTarget.postMessage(messages); };\n    return PostMessageBusSink;\n}());\nvar PostMessageBusSource = /** @class */ (function () {\n    function PostMessageBusSource(eventTarget) {\n        var _this = this;\n        this._channels = {};\n        if (eventTarget) {\n            eventTarget.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n        else {\n            // if no eventTarget is given we assume we're in a WebWorker and listen on the global scope\n            var workerScope = self;\n            workerScope.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n    }\n    PostMessageBusSource.prototype.attachToZone = function (zone) { this._zone = zone; };\n    PostMessageBusSource.prototype.initChannel = function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var emitter = new core.EventEmitter(false);\n        var channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n    };\n    PostMessageBusSource.prototype.from = function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    PostMessageBusSource.prototype._handleMessages = function (ev) {\n        var messages = ev.data;\n        for (var i = 0; i < messages.length; i++) {\n            this._handleMessage(messages[i]);\n        }\n    };\n    PostMessageBusSource.prototype._handleMessage = function (data) {\n        var channel = data.channel;\n        if (this._channels.hasOwnProperty(channel)) {\n            var channelInfo_1 = this._channels[channel];\n            if (channelInfo_1.runInZone) {\n                this._zone.run(function () { channelInfo_1.emitter.emit(data.message); });\n            }\n            else {\n                channelInfo_1.emitter.emit(data.message);\n            }\n        }\n    };\n    return PostMessageBusSource;\n}());\n/**\n * A TypeScript implementation of {@link MessageBus} for communicating via JavaScript's\n * postMessage API.\n */\nvar PostMessageBus = /** @class */ (function () {\n    function PostMessageBus(sink, source) {\n        this.sink = sink;\n        this.source = source;\n    }\n    PostMessageBus.prototype.attachToZone = function (zone) {\n        this.source.attachToZone(zone);\n        this.sink.attachToZone(zone);\n    };\n    PostMessageBus.prototype.initChannel = function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this.source.initChannel(channel, runInZone);\n        this.sink.initChannel(channel, runInZone);\n    };\n    PostMessageBus.prototype.from = function (channel) { return this.source.from(channel); };\n    PostMessageBus.prototype.to = function (channel) { return this.sink.to(channel); };\n    PostMessageBus.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    PostMessageBus.ctorParameters = function () { return [\n        { type: PostMessageBusSink, },\n        { type: PostMessageBusSource, },\n    ]; };\n    return PostMessageBus;\n}());\n/**\n * Helper class that wraps a channel's {@link EventEmitter} and\n * keeps track of if it should run in the zone.\n */\nvar _Channel = /** @class */ (function () {\n    function _Channel(emitter, runInZone) {\n        this.emitter = emitter;\n        this.runInZone = runInZone;\n    }\n    return _Channel;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @experimental WebWorker support in Angular is currently experimental.\n */\nvar ServiceMessageBrokerFactory = /** @class */ (function () {\n    /** @internal */\n    function ServiceMessageBrokerFactory(_messageBus, _serializer) {\n        this._messageBus = _messageBus;\n        this._serializer = _serializer;\n    }\n    /**\n     * Initializes the given channel and attaches a new {@link ServiceMessageBroker} to it.\n     */\n    /**\n       * Initializes the given channel and attaches a new {@link ServiceMessageBroker} to it.\n       */\n    ServiceMessageBrokerFactory.prototype.createMessageBroker = /**\n       * Initializes the given channel and attaches a new {@link ServiceMessageBroker} to it.\n       */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ServiceMessageBroker(this._messageBus, this._serializer, channel);\n    };\n    ServiceMessageBrokerFactory.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    ServiceMessageBrokerFactory.ctorParameters = function () { return [\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return ServiceMessageBrokerFactory;\n}());\n/**\n * Helper class for UIComponents that allows components to register methods.\n * If a registered method message is received from the broker on the worker,\n * the UIMessageBroker deserializes its arguments and calls the registered method.\n * If that method returns a promise, the UIMessageBroker returns the result to the worker.\n *\n * @experimental WebWorker support in Angular is currently experimental.\n */\nvar ServiceMessageBroker = /** @class */ (function () {\n    /** @internal */\n    function ServiceMessageBroker(messageBus, _serializer, channel) {\n        var _this = this;\n        this._serializer = _serializer;\n        this.channel = channel;\n        this._methods = new Map();\n        this._sink = messageBus.to(channel);\n        var source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n    }\n    ServiceMessageBroker.prototype.registerMethod = function (methodName, signature, method, returnType) {\n        var _this = this;\n        this._methods.set(methodName, function (message) {\n            var serializedArgs = message.args;\n            var numArgs = signature ? signature.length : 0;\n            var deserializedArgs = new Array(numArgs);\n            for (var i = 0; i < numArgs; i++) {\n                var serializedArg = serializedArgs[i];\n                deserializedArgs[i] = _this._serializer.deserialize(serializedArg, signature[i]);\n            }\n            var promise = method.apply(void 0, __spread(deserializedArgs));\n            if (returnType && promise) {\n                _this._wrapWebWorkerPromise(message.id, promise, returnType);\n            }\n        });\n    };\n    ServiceMessageBroker.prototype._handleMessage = function (message) {\n        if (this._methods.has(message.method)) {\n            this._methods.get(message.method)(message);\n        }\n    };\n    ServiceMessageBroker.prototype._wrapWebWorkerPromise = function (id, promise, type) {\n        var _this = this;\n        promise.then(function (result) {\n            _this._sink.emit({\n                'type': 'result',\n                'value': _this._serializer.serialize(result, type),\n                'id': id,\n            });\n        });\n    };\n    return ServiceMessageBroker;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * All channels used by angular's WebWorker components are listed here.\n * You should not use these channels in your application code.\n */\nvar RENDERER_2_CHANNEL = 'v2.ng-Renderer';\nvar EVENT_2_CHANNEL = 'v2.ng-Events';\nvar ROUTER_CHANNEL = 'ng-Router';\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MOUSE_EVENT_PROPERTIES = [\n    'altKey', 'button', 'clientX', 'clientY', 'metaKey', 'movementX', 'movementY', 'offsetX',\n    'offsetY', 'region', 'screenX', 'screenY', 'shiftKey'\n];\nvar KEYBOARD_EVENT_PROPERTIES = [\n    'altkey', 'charCode', 'code', 'ctrlKey', 'isComposing', 'key', 'keyCode', 'location', 'metaKey',\n    'repeat', 'shiftKey', 'which'\n];\nvar TRANSITION_EVENT_PROPERTIES = ['propertyName', 'elapsedTime', 'pseudoElement'];\nvar EVENT_PROPERTIES = ['type', 'bubbles', 'cancelable'];\nvar NODES_WITH_VALUE = new Set(['input', 'select', 'option', 'button', 'li', 'meter', 'progress', 'param', 'textarea']);\nfunction serializeGenericEvent(e) {\n    return serializeEvent(e, EVENT_PROPERTIES);\n}\n// TODO(jteplitz602): Allow users to specify the properties they need rather than always\n// adding value and files #3374\nfunction serializeEventWithTarget(e) {\n    var serializedEvent = serializeEvent(e, EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\nfunction serializeMouseEvent(e) {\n    return serializeEvent(e, MOUSE_EVENT_PROPERTIES);\n}\nfunction serializeKeyboardEvent(e) {\n    var serializedEvent = serializeEvent(e, KEYBOARD_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\nfunction serializeTransitionEvent(e) {\n    var serializedEvent = serializeEvent(e, TRANSITION_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n// TODO(jteplitz602): #3374. See above.\nfunction addTarget(e, serializedEvent) {\n    if (NODES_WITH_VALUE.has(e.target.tagName.toLowerCase())) {\n        var target = e.target;\n        serializedEvent['target'] = { 'value': target.value };\n        if (target.files) {\n            serializedEvent['target']['files'] = target.files;\n        }\n    }\n    return serializedEvent;\n}\nfunction serializeEvent(e, properties) {\n    var serialized = {};\n    for (var i = 0; i < properties.length; i++) {\n        var prop = properties[i];\n        serialized[prop] = e[prop];\n    }\n    return serialized;\n}\n\nvar EventDispatcher = /** @class */ (function () {\n    function EventDispatcher(_sink, _serializer) {\n        this._sink = _sink;\n        this._serializer = _serializer;\n    }\n    EventDispatcher.prototype.dispatchAnimationEvent = function (player, phaseName, element) {\n        this._sink.emit({\n            'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n            'animationPlayer': this._serializer.serialize(player, 2 /* RENDER_STORE_OBJECT */),\n            'phaseName': phaseName,\n        });\n        return true;\n    };\n    EventDispatcher.prototype.dispatchRenderEvent = function (element, eventTarget, eventName, event) {\n        var serializedEvent;\n        // TODO (jteplitz602): support custom events #3350\n        switch (event.type) {\n            case 'click':\n            case 'mouseup':\n            case 'mousedown':\n            case 'dblclick':\n            case 'contextmenu':\n            case 'mouseenter':\n            case 'mouseleave':\n            case 'mousemove':\n            case 'mouseout':\n            case 'mouseover':\n            case 'show':\n                serializedEvent = serializeMouseEvent(event);\n                break;\n            case 'keydown':\n            case 'keypress':\n            case 'keyup':\n                serializedEvent = serializeKeyboardEvent(event);\n                break;\n            case 'input':\n            case 'change':\n            case 'blur':\n                serializedEvent = serializeEventWithTarget(event);\n                break;\n            case 'abort':\n            case 'afterprint':\n            case 'beforeprint':\n            case 'cached':\n            case 'canplay':\n            case 'canplaythrough':\n            case 'chargingchange':\n            case 'chargingtimechange':\n            case 'close':\n            case 'dischargingtimechange':\n            case 'DOMContentLoaded':\n            case 'downloading':\n            case 'durationchange':\n            case 'emptied':\n            case 'ended':\n            case 'error':\n            case 'fullscreenchange':\n            case 'fullscreenerror':\n            case 'invalid':\n            case 'languagechange':\n            case 'levelfchange':\n            case 'loadeddata':\n            case 'loadedmetadata':\n            case 'obsolete':\n            case 'offline':\n            case 'online':\n            case 'open':\n            case 'orientatoinchange':\n            case 'pause':\n            case 'pointerlockchange':\n            case 'pointerlockerror':\n            case 'play':\n            case 'playing':\n            case 'ratechange':\n            case 'readystatechange':\n            case 'reset':\n            case 'scroll':\n            case 'seeked':\n            case 'seeking':\n            case 'stalled':\n            case 'submit':\n            case 'success':\n            case 'suspend':\n            case 'timeupdate':\n            case 'updateready':\n            case 'visibilitychange':\n            case 'volumechange':\n            case 'waiting':\n                serializedEvent = serializeGenericEvent(event);\n                break;\n            case 'transitionend':\n                serializedEvent = serializeTransitionEvent(event);\n                break;\n            default:\n                throw new Error(eventName + ' not supported on WebWorkers');\n        }\n        this._sink.emit({\n            'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n            'eventName': eventName,\n            'eventTarget': eventTarget,\n            'event': serializedEvent,\n        });\n        // TODO(kegluneq): Eventually, we want the user to indicate from the UI side whether the event\n        // should be canceled, but for now just call `preventDefault` on the original DOM event.\n        return false;\n    };\n    return EventDispatcher;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MessageBasedRenderer2 = /** @class */ (function () {\n    function MessageBasedRenderer2(_brokerFactory, _bus, _serializer, _renderStore, _rendererFactory) {\n        this._brokerFactory = _brokerFactory;\n        this._bus = _bus;\n        this._serializer = _serializer;\n        this._renderStore = _renderStore;\n        this._rendererFactory = _rendererFactory;\n    }\n    MessageBasedRenderer2.prototype.start = function () {\n        var _this = this;\n        var broker = this._brokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        this._bus.initChannel(EVENT_2_CHANNEL);\n        this._eventDispatcher = new EventDispatcher(this._bus.to(EVENT_2_CHANNEL), this._serializer);\n        var _a = __read([\n            2 /* RENDER_STORE_OBJECT */,\n            1 /* PRIMITIVE */,\n            0 /* RENDERER_TYPE_2 */,\n        ], 3), RSO = _a[0], P = _a[1], CRT = _a[2];\n        var methods = [\n            ['createRenderer', this.createRenderer, RSO, CRT, P],\n            ['createElement', this.createElement, RSO, P, P, P],\n            ['createComment', this.createComment, RSO, P, P], ['createText', this.createText, RSO, P, P],\n            ['appendChild', this.appendChild, RSO, RSO, RSO],\n            ['insertBefore', this.insertBefore, RSO, RSO, RSO, RSO],\n            ['removeChild', this.removeChild, RSO, RSO, RSO],\n            ['selectRootElement', this.selectRootElement, RSO, P, P],\n            ['parentNode', this.parentNode, RSO, RSO, P], ['nextSibling', this.nextSibling, RSO, RSO, P],\n            ['setAttribute', this.setAttribute, RSO, RSO, P, P, P],\n            ['removeAttribute', this.removeAttribute, RSO, RSO, P, P],\n            ['addClass', this.addClass, RSO, RSO, P], ['removeClass', this.removeClass, RSO, RSO, P],\n            ['setStyle', this.setStyle, RSO, RSO, P, P, P],\n            ['removeStyle', this.removeStyle, RSO, RSO, P, P],\n            ['setProperty', this.setProperty, RSO, RSO, P, P], ['setValue', this.setValue, RSO, RSO, P],\n            ['listen', this.listen, RSO, RSO, P, P, P], ['unlisten', this.unlisten, RSO, RSO],\n            ['destroy', this.destroy, RSO], ['destroyNode', this.destroyNode, RSO, P]\n        ];\n        methods.forEach(function (_a) {\n            var _b = __read(_a), name = _b[0], method = _b[1], argTypes = _b.slice(2);\n            broker.registerMethod(name, argTypes, method.bind(_this));\n        });\n    };\n    MessageBasedRenderer2.prototype.destroy = function (r) { r.destroy(); };\n    MessageBasedRenderer2.prototype.destroyNode = function (r, node) {\n        if (r.destroyNode) {\n            r.destroyNode(node);\n        }\n        this._renderStore.remove(node);\n    };\n    MessageBasedRenderer2.prototype.createRenderer = function (el, type, id) {\n        this._renderStore.store(this._rendererFactory.createRenderer(el, type), id);\n    };\n    MessageBasedRenderer2.prototype.createElement = function (r, name, namespace, id) {\n        this._renderStore.store(r.createElement(name, namespace), id);\n    };\n    MessageBasedRenderer2.prototype.createComment = function (r, value, id) {\n        this._renderStore.store(r.createComment(value), id);\n    };\n    MessageBasedRenderer2.prototype.createText = function (r, value, id) {\n        this._renderStore.store(r.createText(value), id);\n    };\n    MessageBasedRenderer2.prototype.appendChild = function (r, parent, child) { r.appendChild(parent, child); };\n    MessageBasedRenderer2.prototype.insertBefore = function (r, parent, child, ref) {\n        r.insertBefore(parent, child, ref);\n    };\n    MessageBasedRenderer2.prototype.removeChild = function (r, parent, child) { r.removeChild(parent, child); };\n    MessageBasedRenderer2.prototype.selectRootElement = function (r, selector, id) {\n        this._renderStore.store(r.selectRootElement(selector), id);\n    };\n    MessageBasedRenderer2.prototype.parentNode = function (r, node, id) {\n        this._renderStore.store(r.parentNode(node), id);\n    };\n    MessageBasedRenderer2.prototype.nextSibling = function (r, node, id) {\n        this._renderStore.store(r.nextSibling(node), id);\n    };\n    MessageBasedRenderer2.prototype.setAttribute = function (r, el, name, value, namespace) {\n        r.setAttribute(el, name, value, namespace);\n    };\n    MessageBasedRenderer2.prototype.removeAttribute = function (r, el, name, namespace) {\n        r.removeAttribute(el, name, namespace);\n    };\n    MessageBasedRenderer2.prototype.addClass = function (r, el, name) { r.addClass(el, name); };\n    MessageBasedRenderer2.prototype.removeClass = function (r, el, name) { r.removeClass(el, name); };\n    MessageBasedRenderer2.prototype.setStyle = function (r, el, style, value, flags) {\n        r.setStyle(el, style, value, flags);\n    };\n    MessageBasedRenderer2.prototype.removeStyle = function (r, el, style, flags) {\n        r.removeStyle(el, style, flags);\n    };\n    MessageBasedRenderer2.prototype.setProperty = function (r, el, name, value) {\n        r.setProperty(el, name, value);\n    };\n    MessageBasedRenderer2.prototype.setValue = function (r, node, value) { r.setValue(node, value); };\n    MessageBasedRenderer2.prototype.listen = function (r, el, elName, eventName, unlistenId) {\n        var _this = this;\n        var listener = function (event) {\n            return _this._eventDispatcher.dispatchRenderEvent(el, elName, eventName, event);\n        };\n        var unlisten = r.listen(el || elName, eventName, listener);\n        this._renderStore.store(unlisten, unlistenId);\n    };\n    MessageBasedRenderer2.prototype.unlisten = function (r, unlisten) { unlisten(); };\n    MessageBasedRenderer2.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    MessageBasedRenderer2.ctorParameters = function () { return [\n        { type: ServiceMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n        { type: RenderStore, },\n        { type: core.RendererFactory2, },\n    ]; };\n    return MessageBasedRenderer2;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Wrapper class that exposes the Worker\n * and underlying {@link MessageBus} for lower level message passing.\n *\n * @experimental WebWorker support is currently experimental.\n */\nvar WebWorkerInstance = /** @class */ (function () {\n    function WebWorkerInstance() {\n    }\n    /** @internal */\n    /** @internal */\n    WebWorkerInstance.prototype.init = /** @internal */\n    function (worker, bus) {\n        this.worker = worker;\n        this.bus = bus;\n    };\n    WebWorkerInstance.decorators = [\n        { type: core.Injectable }\n    ];\n    return WebWorkerInstance;\n}());\n/**\n * @experimental WebWorker support is currently experimental.\n */\nvar WORKER_SCRIPT = new core.InjectionToken('WebWorkerScript');\n/**\n * A multi-provider used to automatically call the `start()` method after the service is\n * created.\n *\n * @experimental WebWorker support is currently experimental.\n */\nvar WORKER_UI_STARTABLE_MESSAGING_SERVICE = new core.InjectionToken('WorkerRenderStartableMsgService');\nvar _WORKER_UI_PLATFORM_PROVIDERS = [\n    { provide: core.NgZone, useFactory: createNgZone, deps: [] },\n    {\n        provide: MessageBasedRenderer2,\n        deps: [ServiceMessageBrokerFactory, MessageBus, Serializer, RenderStore, core.RendererFactory2]\n    },\n    { provide: WORKER_UI_STARTABLE_MESSAGING_SERVICE, useExisting: MessageBasedRenderer2, multi: true },\n    platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n    { provide: core.ErrorHandler, useFactory: _exceptionHandler, deps: [] },\n    { provide: platformBrowser.DOCUMENT, useFactory: _document, deps: [] },\n    // TODO(jteplitz602): Investigate if we definitely need EVENT_MANAGER on the render thread\n    // #5298\n    {\n        provide: platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: platformBrowser.ɵDomEventsPlugin,\n        deps: [platformBrowser.DOCUMENT, core.NgZone],\n        multi: true\n    },\n    { provide: platformBrowser.EVENT_MANAGER_PLUGINS, useClass: platformBrowser.ɵKeyEventsPlugin, deps: [platformBrowser.DOCUMENT], multi: true },\n    {\n        provide: platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: platformBrowser.ɵHammerGesturesPlugin,\n        deps: [platformBrowser.DOCUMENT, platformBrowser.HAMMER_GESTURE_CONFIG],\n        multi: true\n    },\n    { provide: platformBrowser.HAMMER_GESTURE_CONFIG, useClass: platformBrowser.HammerGestureConfig, deps: [] },\n    core.ɵAPP_ID_RANDOM_PROVIDER,\n    { provide: platformBrowser.ɵDomRendererFactory2, deps: [platformBrowser.EventManager, platformBrowser.ɵDomSharedStylesHost] },\n    { provide: core.RendererFactory2, useExisting: platformBrowser.ɵDomRendererFactory2 },\n    { provide: platformBrowser.ɵSharedStylesHost, useExisting: platformBrowser.ɵDomSharedStylesHost },\n    {\n        provide: ServiceMessageBrokerFactory,\n        useClass: ServiceMessageBrokerFactory,\n        deps: [MessageBus, Serializer]\n    },\n    {\n        provide: ClientMessageBrokerFactory,\n        useClass: ClientMessageBrokerFactory,\n        deps: [MessageBus, Serializer]\n    },\n    { provide: Serializer, deps: [RenderStore] },\n    { provide: ON_WEB_WORKER, useValue: false },\n    { provide: RenderStore, deps: [] },\n    { provide: platformBrowser.ɵDomSharedStylesHost, deps: [platformBrowser.DOCUMENT] },\n    { provide: core.Testability, deps: [core.NgZone] },\n    { provide: platformBrowser.EventManager, deps: [platformBrowser.EVENT_MANAGER_PLUGINS, core.NgZone] },\n    { provide: WebWorkerInstance, deps: [] },\n    {\n        provide: core.PLATFORM_INITIALIZER,\n        useFactory: initWebWorkerRenderPlatform,\n        multi: true,\n        deps: [core.Injector]\n    },\n    { provide: core.PLATFORM_ID, useValue: common.ɵPLATFORM_WORKER_UI_ID },\n    { provide: MessageBus, useFactory: messageBusFactory, deps: [WebWorkerInstance] },\n];\nfunction initializeGenericWorkerRenderer(injector) {\n    var bus = injector.get(MessageBus);\n    var zone = injector.get(core.NgZone);\n    bus.attachToZone(zone);\n    // initialize message services after the bus has been created\n    var services = injector.get(WORKER_UI_STARTABLE_MESSAGING_SERVICE);\n    zone.runGuarded(function () { services.forEach(function (svc) { svc.start(); }); });\n}\nfunction messageBusFactory(instance) {\n    return instance.bus;\n}\nfunction initWebWorkerRenderPlatform(injector) {\n    return function () {\n        platformBrowser.ɵBrowserDomAdapter.makeCurrent();\n        platformBrowser.ɵBrowserGetTestability.init();\n        var scriptUri;\n        try {\n            scriptUri = injector.get(WORKER_SCRIPT);\n        }\n        catch (e) {\n            throw new Error('You must provide your WebWorker\\'s initialization script with the WORKER_SCRIPT token');\n        }\n        var instance = injector.get(WebWorkerInstance);\n        spawnWebWorker(scriptUri, instance);\n        initializeGenericWorkerRenderer(injector);\n    };\n}\n/**\n * @experimental WebWorker support is currently experimental.\n */\nvar platformWorkerUi = core.createPlatformFactory(core.platformCore, 'workerUi', _WORKER_UI_PLATFORM_PROVIDERS);\nfunction _exceptionHandler() {\n    return new core.ErrorHandler();\n}\nfunction _document() {\n    return document;\n}\nfunction createNgZone() {\n    return new core.NgZone({ enableLongStackTrace: core.isDevMode() });\n}\n/**\n * Spawns a new class and initializes the WebWorkerInstance\n */\nfunction spawnWebWorker(uri, instance) {\n    var webWorker = new Worker(uri);\n    var sink = new PostMessageBusSink(webWorker);\n    var source = new PostMessageBusSource(webWorker);\n    var bus = new PostMessageBus(sink, source);\n    instance.init(webWorker, bus);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar VERSION = new core.Version('6.0.0-rc.5+254.sha-5b25c07');\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MessageBasedPlatformLocation = /** @class */ (function () {\n    function MessageBasedPlatformLocation(_brokerFactory, _platformLocation, bus, _serializer) {\n        this._brokerFactory = _brokerFactory;\n        this._platformLocation = _platformLocation;\n        this._serializer = _serializer;\n        this._platformLocation.onPopState(this._sendUrlChangeEvent.bind(this));\n        this._platformLocation.onHashChange(this._sendUrlChangeEvent.bind(this));\n        this._broker = this._brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        this._channelSink = bus.to(ROUTER_CHANNEL);\n    }\n    MessageBasedPlatformLocation.prototype.start = function () {\n        var P = 1;\n        this._broker.registerMethod('getLocation', null, this._getLocation.bind(this), LocationType);\n        this._broker.registerMethod('setPathname', [P], this._setPathname.bind(this));\n        this._broker.registerMethod('pushState', [P, P, P], this._platformLocation.pushState.bind(this._platformLocation));\n        this._broker.registerMethod('replaceState', [P, P, P], this._platformLocation.replaceState.bind(this._platformLocation));\n        this._broker.registerMethod('forward', null, this._platformLocation.forward.bind(this._platformLocation));\n        this._broker.registerMethod('back', null, this._platformLocation.back.bind(this._platformLocation));\n    };\n    MessageBasedPlatformLocation.prototype._getLocation = function () {\n        return Promise.resolve(this._platformLocation.location);\n    };\n    MessageBasedPlatformLocation.prototype._sendUrlChangeEvent = function (e) {\n        this._channelSink.emit({\n            'event': { 'type': e.type },\n            'location': this._serializer.serialize(this._platformLocation.location, LocationType),\n        });\n    };\n    MessageBasedPlatformLocation.prototype._setPathname = function (pathname) { this._platformLocation.pathname = pathname; };\n    MessageBasedPlatformLocation.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    MessageBasedPlatformLocation.ctorParameters = function () { return [\n        { type: ServiceMessageBrokerFactory, },\n        { type: platformBrowser.ɵBrowserPlatformLocation, },\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return MessageBasedPlatformLocation;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A list of {@link Provider}s. To use the router in a Worker enabled application you must\n * include these providers when setting up the render thread.\n * @experimental\n */\nvar WORKER_UI_LOCATION_PROVIDERS = [\n    { provide: MessageBasedPlatformLocation, deps: [ServiceMessageBrokerFactory,\n            platformBrowser.ɵBrowserPlatformLocation, MessageBus, Serializer] },\n    { provide: platformBrowser.ɵBrowserPlatformLocation, deps: [common.DOCUMENT] },\n    { provide: core.PLATFORM_INITIALIZER, useFactory: initUiLocation, multi: true, deps: [core.Injector] }\n];\nfunction initUiLocation(injector) {\n    return function () {\n        var zone = injector.get(core.NgZone);\n        zone.runGuarded(function () { return injector.get(MessageBasedPlatformLocation).start(); });\n    };\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar WebWorkerPlatformLocation = /** @class */ (function (_super) {\n    __extends(WebWorkerPlatformLocation, _super);\n    function WebWorkerPlatformLocation(brokerFactory, bus, _serializer) {\n        var _this = _super.call(this) || this;\n        _this._serializer = _serializer;\n        _this._popStateListeners = [];\n        _this._hashChangeListeners = [];\n        _this._location = null;\n        _this._broker = brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        _this._channelSource = bus.from(ROUTER_CHANNEL);\n        _this._channelSource.subscribe({\n            next: function (msg) {\n                var listeners = null;\n                if (msg.hasOwnProperty('event')) {\n                    var type = msg['event']['type'];\n                    if (type === 'popstate') {\n                        listeners = _this._popStateListeners;\n                    }\n                    else if (type === 'hashchange') {\n                        listeners = _this._hashChangeListeners;\n                    }\n                    if (listeners) {\n                        // There was a popState or hashChange event, so the location object thas been updated\n                        // There was a popState or hashChange event, so the location object thas been updated\n                        _this._location = _this._serializer.deserialize(msg['location'], LocationType);\n                        listeners.forEach(function (fn) { return fn(msg['event']); });\n                    }\n                }\n            }\n        });\n        _this.initialized = new Promise(function (res) { return _this.initializedResolve = res; });\n        return _this;\n    }\n    /** @internal **/\n    /** @internal **/\n    WebWorkerPlatformLocation.prototype.init = /** @internal **/\n    function () {\n        var _this = this;\n        var args = new UiArguments('getLocation');\n        return this._broker.runOnService(args, LocationType).then(function (val) {\n            _this._location = val;\n            _this.initializedResolve();\n            return true;\n        }, function (err) { throw new Error(err); });\n    };\n    WebWorkerPlatformLocation.prototype.getBaseHrefFromDOM = function () {\n        throw new Error('Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.');\n    };\n    WebWorkerPlatformLocation.prototype.onPopState = function (fn) { this._popStateListeners.push(fn); };\n    WebWorkerPlatformLocation.prototype.onHashChange = function (fn) { this._hashChangeListeners.push(fn); };\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"pathname\", {\n        get: function () { return this._location ? this._location.pathname : '<unknown>'; },\n        set: function (newPath) {\n            if (this._location === null) {\n                throw new Error('Attempt to set pathname before value is obtained from UI');\n            }\n            this._location.pathname = newPath;\n            var fnArgs = [new FnArg(newPath, 1 /* PRIMITIVE */)];\n            var args = new UiArguments('setPathname', fnArgs);\n            this._broker.runOnService(args, null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"search\", {\n        get: function () { return this._location ? this._location.search : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"hash\", {\n        get: function () { return this._location ? this._location.hash : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    WebWorkerPlatformLocation.prototype.pushState = function (state, title, url) {\n        var fnArgs = [\n            new FnArg(state, 1 /* PRIMITIVE */),\n            new FnArg(title, 1 /* PRIMITIVE */),\n            new FnArg(url, 1 /* PRIMITIVE */),\n        ];\n        var args = new UiArguments('pushState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    WebWorkerPlatformLocation.prototype.replaceState = function (state, title, url) {\n        var fnArgs = [\n            new FnArg(state, 1 /* PRIMITIVE */),\n            new FnArg(title, 1 /* PRIMITIVE */),\n            new FnArg(url, 1 /* PRIMITIVE */),\n        ];\n        var args = new UiArguments('replaceState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    WebWorkerPlatformLocation.prototype.forward = function () {\n        var args = new UiArguments('forward');\n        this._broker.runOnService(args, null);\n    };\n    WebWorkerPlatformLocation.prototype.back = function () {\n        var args = new UiArguments('back');\n        this._broker.runOnService(args, null);\n    };\n    WebWorkerPlatformLocation.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    WebWorkerPlatformLocation.ctorParameters = function () { return [\n        { type: ClientMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return WebWorkerPlatformLocation;\n}(common.PlatformLocation));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * The {@link PlatformLocation} providers that should be added when the {@link Location} is used in\n * a worker context.\n *\n * @experimental\n */\nvar WORKER_APP_LOCATION_PROVIDERS = [\n    { provide: common.PlatformLocation, useClass: WebWorkerPlatformLocation }, {\n        provide: core.APP_INITIALIZER,\n        useFactory: appInitFnFactory,\n        multi: true,\n        deps: [common.PlatformLocation, core.NgZone]\n    },\n    { provide: common.LOCATION_INITIALIZED, useFactory: locationInitialized, deps: [common.PlatformLocation] }\n];\nfunction locationInitialized(platformLocation) {\n    return platformLocation.initialized;\n}\nfunction appInitFnFactory(platformLocation, zone) {\n    return function () { return zone.runGuarded(function () { return platformLocation.init(); }); };\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar NamedEventEmitter = /** @class */ (function () {\n    function NamedEventEmitter() {\n    }\n    NamedEventEmitter.prototype.listen = function (eventName, callback) { this._getListeners(eventName).push(callback); };\n    NamedEventEmitter.prototype.unlisten = function (eventName, listener) {\n        var listeners = this._getListeners(eventName);\n        var index = listeners.indexOf(listener);\n        if (index > -1) {\n            listeners.splice(index, 1);\n        }\n    };\n    NamedEventEmitter.prototype.dispatchEvent = function (eventName, event) {\n        var listeners = this._getListeners(eventName);\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](event);\n        }\n    };\n    NamedEventEmitter.prototype._getListeners = function (eventName) {\n        if (!this._listeners) {\n            this._listeners = new Map();\n        }\n        var listeners = this._listeners.get(eventName);\n        if (!listeners) {\n            listeners = [];\n            this._listeners.set(eventName, listeners);\n        }\n        return listeners;\n    };\n    return NamedEventEmitter;\n}());\nfunction eventNameWithTarget(target, eventName) {\n    return target + \":\" + eventName;\n}\nvar WebWorkerRendererFactory2 = /** @class */ (function () {\n    function WebWorkerRendererFactory2(messageBrokerFactory, bus, _serializer, renderStore) {\n        var _this = this;\n        this._serializer = _serializer;\n        this.renderStore = renderStore;\n        this.globalEvents = new NamedEventEmitter();\n        this._messageBroker = messageBrokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        bus.initChannel(EVENT_2_CHANNEL);\n        var source = bus.from(EVENT_2_CHANNEL);\n        source.subscribe({ next: function (message) { return _this._dispatchEvent(message); } });\n    }\n    WebWorkerRendererFactory2.prototype.createRenderer = function (element, type) {\n        var renderer = new WebWorkerRenderer2(this);\n        var id = this.renderStore.allocateId();\n        this.renderStore.store(renderer, id);\n        this.callUI('createRenderer', [\n            new FnArg(element, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(type, 0 /* RENDERER_TYPE_2 */),\n            new FnArg(renderer, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return renderer;\n    };\n    WebWorkerRendererFactory2.prototype.begin = function () { };\n    WebWorkerRendererFactory2.prototype.end = function () { };\n    WebWorkerRendererFactory2.prototype.callUI = function (fnName, fnArgs) {\n        var args = new UiArguments(fnName, fnArgs);\n        this._messageBroker.runOnService(args, null);\n    };\n    WebWorkerRendererFactory2.prototype.allocateNode = function () {\n        var result = new WebWorkerRenderNode();\n        var id = this.renderStore.allocateId();\n        this.renderStore.store(result, id);\n        return result;\n    };\n    WebWorkerRendererFactory2.prototype.freeNode = function (node) { this.renderStore.remove(node); };\n    WebWorkerRendererFactory2.prototype.allocateId = function () { return this.renderStore.allocateId(); };\n    WebWorkerRendererFactory2.prototype._dispatchEvent = function (message) {\n        var element = this._serializer.deserialize(message['element'], 2 /* RENDER_STORE_OBJECT */);\n        var eventName = message['eventName'];\n        var target = message['eventTarget'];\n        var event = message['event'];\n        if (target) {\n            this.globalEvents.dispatchEvent(eventNameWithTarget(target, eventName), event);\n        }\n        else {\n            element.events.dispatchEvent(eventName, event);\n        }\n    };\n    WebWorkerRendererFactory2.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    WebWorkerRendererFactory2.ctorParameters = function () { return [\n        { type: ClientMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n        { type: RenderStore, },\n    ]; };\n    return WebWorkerRendererFactory2;\n}());\nvar WebWorkerRenderer2 = /** @class */ (function () {\n    function WebWorkerRenderer2(_rendererFactory) {\n        this._rendererFactory = _rendererFactory;\n        this.data = Object.create(null);\n        this.asFnArg = new FnArg(this, 2 /* RENDER_STORE_OBJECT */);\n    }\n    WebWorkerRenderer2.prototype.destroy = function () { this.callUIWithRenderer('destroy'); };\n    WebWorkerRenderer2.prototype.destroyNode = function (node) {\n        this.callUIWithRenderer('destroyNode', [new FnArg(node, 2 /* RENDER_STORE_OBJECT */)]);\n        this._rendererFactory.freeNode(node);\n    };\n    WebWorkerRenderer2.prototype.createElement = function (name, namespace) {\n        var node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createElement', [\n            new FnArg(name),\n            new FnArg(namespace),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    WebWorkerRenderer2.prototype.createComment = function (value) {\n        var node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createComment', [\n            new FnArg(value),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    WebWorkerRenderer2.prototype.createText = function (value) {\n        var node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createText', [\n            new FnArg(value),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    WebWorkerRenderer2.prototype.appendChild = function (parent, newChild) {\n        this.callUIWithRenderer('appendChild', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.insertBefore = function (parent, newChild, refChild) {\n        if (!parent) {\n            return;\n        }\n        this.callUIWithRenderer('insertBefore', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(refChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.removeChild = function (parent, oldChild) {\n        this.callUIWithRenderer('removeChild', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(oldChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.selectRootElement = function (selectorOrNode) {\n        var node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('selectRootElement', [\n            new FnArg(selectorOrNode),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    WebWorkerRenderer2.prototype.parentNode = function (node) {\n        var res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('parentNode', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return res;\n    };\n    WebWorkerRenderer2.prototype.nextSibling = function (node) {\n        var res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('nextSibling', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return res;\n    };\n    WebWorkerRenderer2.prototype.setAttribute = function (el, name, value, namespace) {\n        this.callUIWithRenderer('setAttribute', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(value),\n            new FnArg(namespace),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.removeAttribute = function (el, name, namespace) {\n        this.callUIWithRenderer('removeAttribute', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(namespace),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.addClass = function (el, name) {\n        this.callUIWithRenderer('addClass', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.removeClass = function (el, name) {\n        this.callUIWithRenderer('removeClass', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.setStyle = function (el, style, value, flags) {\n        this.callUIWithRenderer('setStyle', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(style),\n            new FnArg(value),\n            new FnArg(flags),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.removeStyle = function (el, style, flags) {\n        this.callUIWithRenderer('removeStyle', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(style),\n            new FnArg(flags),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.setProperty = function (el, name, value) {\n        this.callUIWithRenderer('setProperty', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(value),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.setValue = function (node, value) {\n        this.callUIWithRenderer('setValue', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(value),\n        ]);\n    };\n    WebWorkerRenderer2.prototype.listen = function (target, eventName, listener) {\n        var _this = this;\n        var unlistenId = this._rendererFactory.allocateId();\n        var _a = __read(typeof target === 'string' ? [null, target, target + \":\" + eventName] :\n            [target, null, null], 3), targetEl = _a[0], targetName = _a[1], fullName = _a[2];\n        if (fullName) {\n            this._rendererFactory.globalEvents.listen(fullName, listener);\n        }\n        else {\n            targetEl.events.listen(eventName, listener);\n        }\n        this.callUIWithRenderer('listen', [\n            new FnArg(targetEl, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(targetName),\n            new FnArg(eventName),\n            new FnArg(unlistenId),\n        ]);\n        return function () {\n            if (fullName) {\n                _this._rendererFactory.globalEvents.unlisten(fullName, listener);\n            }\n            else {\n                targetEl.events.unlisten(eventName, listener);\n            }\n            _this.callUIWithRenderer('unlisten', [new FnArg(unlistenId)]);\n        };\n    };\n    WebWorkerRenderer2.prototype.callUIWithRenderer = function (fnName, fnArgs) {\n        if (fnArgs === void 0) { fnArgs = []; }\n        // always pass the renderer as the first arg\n        this._rendererFactory.callUI(fnName, __spread([this.asFnArg], fnArgs));\n    };\n    return WebWorkerRenderer2;\n}());\nvar WebWorkerRenderNode = /** @class */ (function () {\n    function WebWorkerRenderNode() {\n        this.events = new NamedEventEmitter();\n    }\n    return WebWorkerRenderNode;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * This adapter is required to log error messages.\n *\n * Note: other methods all throw as the DOM is not accessible directly in web worker context.\n */\nvar WorkerDomAdapter = /** @class */ (function (_super) {\n    __extends(WorkerDomAdapter, _super);\n    function WorkerDomAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WorkerDomAdapter.makeCurrent = function () { platformBrowser.ɵsetRootDomAdapter(new WorkerDomAdapter()); };\n    WorkerDomAdapter.prototype.logError = function (error) {\n        if (console.error) {\n            console.error(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    WorkerDomAdapter.prototype.log = function (error) {\n        // tslint:disable-next-line:no-console\n        console.log(error);\n    };\n    WorkerDomAdapter.prototype.logGroup = function (error) {\n        if (console.group) {\n            console.group(error);\n            this.logError(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    WorkerDomAdapter.prototype.logGroupEnd = function () {\n        if (console.groupEnd) {\n            console.groupEnd();\n        }\n    };\n    WorkerDomAdapter.prototype.contains = function (nodeA, nodeB) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.hasProperty = function (element, name) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setProperty = function (el, name, value) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getProperty = function (el, name) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.invoke = function (el, methodName, args) { throw 'not implemented'; };\n    Object.defineProperty(WorkerDomAdapter.prototype, \"attrToPropMap\", {\n        get: function () { throw 'not implemented'; },\n        set: function (value) { throw 'not implemented'; },\n        enumerable: true,\n        configurable: true\n    });\n    WorkerDomAdapter.prototype.parse = function (templateHtml) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.querySelector = function (el, selector) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.querySelectorAll = function (el, selector) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.on = function (el, evt, listener) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.onAndCancel = function (el, evt, listener) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.dispatchEvent = function (el, evt) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createMouseEvent = function (eventType) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createEvent = function (eventType) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.preventDefault = function (evt) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.isPrevented = function (evt) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getInnerHTML = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getTemplateContent = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getOuterHTML = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.nodeName = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.nodeValue = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.type = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.content = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.firstChild = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.nextSibling = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.parentElement = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.childNodes = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.childNodesAsList = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.clearNodes = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.appendChild = function (el, node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.removeChild = function (el, node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.replaceChild = function (el, newNode, oldNode) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.remove = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.insertBefore = function (parent, el, node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.insertAllBefore = function (parent, el, nodes) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.insertAfter = function (parent, el, node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setInnerHTML = function (el, value) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getText = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setText = function (el, value) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getValue = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setValue = function (el, value) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getChecked = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setChecked = function (el, value) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createComment = function (text) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createTemplate = function (html) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createElement = function (tagName, doc) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createElementNS = function (ns, tagName, doc) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createTextNode = function (text, doc) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) {\n        throw 'not implemented';\n    };\n    WorkerDomAdapter.prototype.createStyleElement = function (css, doc) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createShadowRoot = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getShadowRoot = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getHost = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getDistributedNodes = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.clone = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getElementsByClassName = function (element, name) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getElementsByTagName = function (element, name) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.classList = function (element) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.addClass = function (element, className) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.removeClass = function (element, className) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.hasClass = function (element, className) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setStyle = function (element, styleName, styleValue) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.removeStyle = function (element, styleName) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getStyle = function (element, styleName) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.hasStyle = function (element, styleName, styleValue) {\n        throw 'not implemented';\n    };\n    WorkerDomAdapter.prototype.tagName = function (element) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.attributeMap = function (element) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.hasAttribute = function (element, attribute) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.hasAttributeNS = function (element, ns, attribute) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getAttribute = function (element, attribute) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getAttributeNS = function (element, ns, attribute) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setAttribute = function (element, name, value) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setAttributeNS = function (element, ns, name, value) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.removeAttribute = function (element, attribute) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.removeAttributeNS = function (element, ns, attribute) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.templateAwareRoot = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.createHtmlDocument = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getDefaultDocument = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getBoundingClientRect = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getTitle = function (doc) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setTitle = function (doc, newTitle) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.elementMatches = function (n, selector) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.isTemplateElement = function (el) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.isTextNode = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.isCommentNode = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.isElementNode = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.hasShadowRoot = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.isShadowRoot = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.importIntoDoc = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.adoptNode = function (node) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getHref = function (element) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getEventKey = function (event) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.resolveAndSetHref = function (element, baseUrl, href) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.supportsDOMEvents = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.supportsNativeShadowDOM = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getGlobalEventTarget = function (doc, target) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getHistory = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getLocation = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getBaseHref = function (doc) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.resetBaseElement = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getUserAgent = function () { return 'Fake user agent'; };\n    WorkerDomAdapter.prototype.setData = function (element, name, value) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getComputedStyle = function (element) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getData = function (element, name) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.performanceNow = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getAnimationPrefix = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.getTransitionEnd = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.supportsAnimation = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.supportsWebAnimation = function () { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.supportsCookies = function () { return false; };\n    WorkerDomAdapter.prototype.getCookie = function (name) { throw 'not implemented'; };\n    WorkerDomAdapter.prototype.setCookie = function (name, value) { throw 'not implemented'; };\n    return WorkerDomAdapter;\n}(platformBrowser.ɵDomAdapter));\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @experimental\n */\nvar platformWorkerApp = core.createPlatformFactory(core.platformCore, 'workerApp', [{ provide: core.PLATFORM_ID, useValue: common.ɵPLATFORM_WORKER_APP_ID }]);\nfunction errorHandler() {\n    return new core.ErrorHandler();\n}\nvar ɵ0 = function (message, transferrables) {\n    postMessage(message, transferrables);\n};\n// TODO(jteplitz602): remove this and compile with lib.webworker.d.ts (#3492)\nvar _postMessage = {\n    postMessage: ɵ0\n};\nfunction createMessageBus(zone) {\n    var sink = new PostMessageBusSink(_postMessage);\n    var source = new PostMessageBusSource();\n    var bus = new PostMessageBus(sink, source);\n    bus.attachToZone(zone);\n    return bus;\n}\nfunction setupWebWorker() {\n    WorkerDomAdapter.makeCurrent();\n}\n/**\n * The ng module for the worker app side.\n *\n * @experimental\n */\nvar WorkerAppModule = /** @class */ (function () {\n    function WorkerAppModule() {\n    }\n    WorkerAppModule.decorators = [\n        { type: core.NgModule, args: [{\n                    providers: [\n                        platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n                        Serializer,\n                        { provide: platformBrowser.DOCUMENT, useValue: null },\n                        ClientMessageBrokerFactory,\n                        ServiceMessageBrokerFactory,\n                        WebWorkerRendererFactory2,\n                        { provide: core.RendererFactory2, useExisting: WebWorkerRendererFactory2 },\n                        { provide: ON_WEB_WORKER, useValue: true },\n                        RenderStore,\n                        { provide: core.ErrorHandler, useFactory: errorHandler, deps: [] },\n                        { provide: MessageBus, useFactory: createMessageBus, deps: [core.NgZone] },\n                        { provide: core.APP_INITIALIZER, useValue: setupWebWorker, multi: true },\n                    ],\n                    exports: [\n                        common.CommonModule,\n                        core.ApplicationModule,\n                    ]\n                },] }\n    ];\n    return WorkerAppModule;\n}());\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Bootstraps the worker ui.\n *\n * @experimental\n */\nfunction bootstrapWorkerUi(workerScriptUri, customProviders) {\n    if (customProviders === void 0) { customProviders = []; }\n    // For now, just creates the worker ui platform...\n    var platform = platformWorkerUi(__spread([\n        { provide: WORKER_SCRIPT, useValue: workerScriptUri }\n    ], customProviders));\n    return Promise.resolve(platform);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexports.ɵangular_packages_platform_webworker_platform_webworker_k = ON_WEB_WORKER;\nexports.ɵangular_packages_platform_webworker_platform_webworker_h = RenderStore;\nexports.ɵangular_packages_platform_webworker_platform_webworker_a = Serializer;\nexports.ɵangular_packages_platform_webworker_platform_webworker_c = appInitFnFactory;\nexports.ɵangular_packages_platform_webworker_platform_webworker_b = locationInitialized;\nexports.ɵangular_packages_platform_webworker_platform_webworker_i = WebWorkerPlatformLocation;\nexports.ɵangular_packages_platform_webworker_platform_webworker_j = WebWorkerRendererFactory2;\nexports.ɵangular_packages_platform_webworker_platform_webworker_e = createMessageBus;\nexports.ɵangular_packages_platform_webworker_platform_webworker_d = errorHandler;\nexports.ɵangular_packages_platform_webworker_platform_webworker_f = setupWebWorker;\nexports.ɵangular_packages_platform_webworker_platform_webworker_g = _WORKER_UI_PLATFORM_PROVIDERS;\nexports.bootstrapWorkerUi = bootstrapWorkerUi;\nexports.VERSION = VERSION;\nexports.ClientMessageBroker = ClientMessageBroker;\nexports.ClientMessageBrokerFactory = ClientMessageBrokerFactory;\nexports.FnArg = FnArg;\nexports.UiArguments = UiArguments;\nexports.MessageBus = MessageBus;\nexports.ServiceMessageBroker = ServiceMessageBroker;\nexports.ServiceMessageBrokerFactory = ServiceMessageBrokerFactory;\nexports.WORKER_UI_LOCATION_PROVIDERS = WORKER_UI_LOCATION_PROVIDERS;\nexports.WORKER_APP_LOCATION_PROVIDERS = WORKER_APP_LOCATION_PROVIDERS;\nexports.WorkerAppModule = WorkerAppModule;\nexports.platformWorkerApp = platformWorkerApp;\nexports.platformWorkerUi = platformWorkerUi;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=platform-webworker.umd.js.map\n"]}