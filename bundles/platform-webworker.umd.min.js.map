{"version":3,"sources":["/home/travis/build/angular/angular/dist/packages-dist/platform-webworker/bundles/platform-webworker.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","platformWebworker","common","core","platformBrowser","this","_angular_common","_angular_core","_angular_platformBrowser","__extends","d","b","__","constructor","extendStatics","prototype","Object","create","serializeGenericEvent","e","serializeEvent","EVENT_PROPERTIES","serializeEventWithTarget","serializedEvent","addTarget","serializeMouseEvent","MOUSE_EVENT_PROPERTIES","serializeKeyboardEvent","KEYBOARD_EVENT_PROPERTIES","serializeTransitionEvent","TRANSITION_EVENT_PROPERTIES","NODES_WITH_VALUE","has","tagName","toLowerCase","target","value","files","properties","serialized","i","length","prop","initializeGenericWorkerRenderer","injector","bus","get","MessageBus","zone","NgZone","attachToZone","services","WORKER_UI_STARTABLE_MESSAGING_SERVICE","runGuarded","forEach","svc","start","messageBusFactory","instance","initWebWorkerRenderPlatform","ɵBrowserDomAdapter","makeCurrent","ɵBrowserGetTestability","init","scriptUri","WORKER_SCRIPT","Error","WebWorkerInstance","spawnWebWorker","_exceptionHandler","ErrorHandler","_document","document","createNgZone","enableLongStackTrace","isDevMode","uri","webWorker","Worker","sink","PostMessageBusSink","source","PostMessageBusSource","PostMessageBus","initUiLocation","MessageBasedPlatformLocation","locationInitialized","platformLocation","initialized","appInitFnFactory","eventNameWithTarget","eventName","errorHandler","createMessageBus","_postMessage","setupWebWorker","WorkerDomAdapter","bootstrapWorkerUi","workerScriptUri","customProviders","platform","platformWorkerUi","provide","useValue","concat","Promise","resolve","setPrototypeOf","__proto__","Array","p","hasOwnProperty","ON_WEB_WORKER","InjectionToken","RenderStore","_nextIndex","_lookupById","Map","_lookupByObject","allocateId","store","obj","id","set","remove","index","delete","deserialize","serialize","decorators","type","Injectable","ctorParameters","LocationType","href","protocol","host","hostname","port","pathname","search","hash","origin","Serializer","_renderStore","_this","isArray","map","v","RenderComponentType","_serializeRenderComponentType","_serializeRendererType2","_serializeLocation","ɵstringify","data","val","_deserializeRenderComponentType","_deserializeRendererType2","_deserializeLocation","loc","templateUrl","slotCount","encapsulation","styles","props","ClientMessageBrokerFactory","ClientMessageBrokerFactory_","_super","_messageBus","_serializer","call","createMessageBroker","channel","runInZone","initChannel","ClientMessageBroker_","ClientMessageBroker","messageBus","_pending","_sink","to","from","subscribe","next","message","_handleMessage","_generateMessageId","name","time","Date","getTime","iteration","runOnService","args","returnType","fnArgs","argument","push","promise","completer_1","reject","method","catch","err","console","error","then","emit","FnArg","UiArguments","_postMessageTarget","_channels","_messageBuffer","_zone","runOutsideAngular","onStable","_handleOnEventDone","emitter","EventEmitter","channelInfo","_Channel","_sendMessages","messages","postMessage","eventTarget","addEventListener","ev","_handleMessages","workerScope","channelInfo_1","run","ServiceMessageBrokerFactory","ServiceMessageBrokerFactory_","ServiceMessageBroker_","ServiceMessageBroker","_methods","registerMethod","methodName","signature","serializedArgs","numArgs","deserializedArgs","serializedArg","apply","_wrapWebWorkerPromise","result","RENDERER_2_CHANNEL","EVENT_2_CHANNEL","ROUTER_CHANNEL","Set","EventDispatcher","dispatchAnimationEvent","player","phaseName","element","animationPlayer","dispatchRenderEvent","event","MessageBasedRenderer2","_brokerFactory","_bus","_rendererFactory","broker","_eventDispatcher","_a","RSO","P","CRT","methods","createRenderer","createElement","createComment","createText","appendChild","insertBefore","removeChild","selectRootElement","parentNode","nextSibling","setAttribute","removeAttribute","addClass","removeClass","setStyle","removeStyle","setProperty","setValue","listen","unlisten","destroy","destroyNode","argTypes","slice","bind","r","node","el","namespace","parent","child","ref","selector","style","flags","elName","unlistenId","listener","RendererFactory2","worker","_WORKER_UI_PLATFORM_PROVIDERS","useFactory","deps","useExisting","multi","ɵBROWSER_SANITIZATION_PROVIDERS","DOCUMENT","EVENT_MANAGER_PLUGINS","useClass","ɵDomEventsPlugin","ɵKeyEventsPlugin","ɵHammerGesturesPlugin","HAMMER_GESTURE_CONFIG","HammerGestureConfig","ɵAPP_ID_RANDOM_PROVIDER","ɵDomRendererFactory2","EventManager","ɵDomSharedStylesHost","ɵSharedStylesHost","Testability","PLATFORM_INITIALIZER","Injector","PLATFORM_ID","ɵPLATFORM_WORKER_UI_ID","createPlatformFactory","platformCore","VERSION","Version","_platformLocation","onPopState","_sendUrlChangeEvent","onHashChange","_broker","_channelSink","_getLocation","_setPathname","pushState","replaceState","forward","back","location","ɵBrowserPlatformLocation","WORKER_UI_LOCATION_PROVIDERS","WebWorkerPlatformLocation","brokerFactory","_popStateListeners","_hashChangeListeners","_location","_channelSource","msg","listeners","fn","res","initializedResolve","getBaseHrefFromDOM","defineProperty","newPath","enumerable","configurable","state","title","url","PlatformLocation","WORKER_APP_LOCATION_PROVIDERS","APP_INITIALIZER","LOCATION_INITIALIZED","NamedEventEmitter","callback","_getListeners","indexOf","splice","dispatchEvent","_listeners","WebWorkerRendererFactory2","messageBrokerFactory","renderStore","globalEvents","_messageBroker","_dispatchEvent","renderer","WebWorkerRenderer2","callUI","begin","end","fnName","allocateNode","WebWorkerRenderNode","freeNode","events","asFnArg","callUIWithRenderer","newChild","refChild","oldChild","selectorOrNode","targetEl","targetName","fullName","arguments","ɵsetRootDomAdapter","logError","log","logGroup","group","logGroupEnd","groupEnd","contains","nodeA","nodeB","hasProperty","getProperty","invoke","parse","templateHtml","querySelector","querySelectorAll","on","evt","onAndCancel","createMouseEvent","eventType","createEvent","preventDefault","isPrevented","getInnerHTML","getTemplateContent","getOuterHTML","nodeName","nodeValue","content","firstChild","parentElement","childNodes","childNodesAsList","clearNodes","replaceChild","newNode","oldNode","insertAllBefore","nodes","insertAfter","setInnerHTML","getText","setText","getValue","getChecked","setChecked","text","createTemplate","html","doc","createElementNS","ns","createTextNode","createScriptTag","attrName","attrValue","createStyleElement","css","createShadowRoot","getShadowRoot","getHost","getDistributedNodes","clone","getElementsByClassName","getElementsByTagName","classList","className","hasClass","styleName","styleValue","getStyle","hasStyle","attributeMap","hasAttribute","attribute","hasAttributeNS","getAttribute","getAttributeNS","setAttributeNS","removeAttributeNS","templateAwareRoot","createHtmlDocument","getDefaultDocument","getBoundingClientRect","getTitle","setTitle","newTitle","elementMatches","n","isTemplateElement","isTextNode","isCommentNode","isElementNode","hasShadowRoot","isShadowRoot","importIntoDoc","adoptNode","getHref","getEventKey","resolveAndSetHref","baseUrl","supportsDOMEvents","supportsNativeShadowDOM","getGlobalEventTarget","getHistory","getLocation","getBaseHref","resetBaseElement","getUserAgent","setData","getComputedStyle","getData","performanceNow","getAnimationPrefix","getTransitionEnd","supportsAnimation","supportsWebAnimation","supportsCookies","getCookie","setCookie","ɵDomAdapter","platformWorkerApp","ɵPLATFORM_WORKER_APP_ID","transferrables","WorkerAppModule","NgModule","providers","CommonModule","ApplicationModule","ɵm","ɵa","ɵk","ɵb","ɵc","ɵe","ɵd","ɵj","ɵl","ɵg","ɵf","ɵh","ɵi"],"mappings":";;;;;CAKC,SAAUA,OAAQC,SACC,gBAAZC,UAA0C,mBAAXC,QAAyBF,QAAQC,QAASE,QAAQ,mBAAoBA,QAAQ,iBAAkBA,QAAQ,8BAC5H,kBAAXC,SAAyBA,OAAOC,IAAMD,QAAQ,UAAW,kBAAmB,gBAAiB,6BAA8BJ,SACjIA,SAASD,OAAOO,GAAKP,OAAOO,OAAUP,OAAOO,GAAGC,sBAAwBR,OAAOO,GAAGE,OAAOT,OAAOO,GAAGG,KAAKV,OAAOO,GAAGI,kBAClHC,KAAM,SAAWV,QAAQW,gBAAgBC,cAAcC,0BAA4B,YAsBrF,SAASC,WAAUC,EAAGC,GAElB,QAASC,MAAOP,KAAKQ,YAAcH,EADnCI,cAAcJ,EAAGC,GAEjBD,EAAEK,UAAkB,OAANJ,EAAaK,OAAOC,OAAON,IAAMC,GAAGG,UAAYJ,EAAEI,UAAW,GAAIH,KA49BnF,QAASM,uBAAsBC,GAC3B,MAAOC,gBAAeD,EAAGE,kBAM7B,QAASC,0BAAyBH,GAC9B,GAAqBI,iBAAkBH,eAAeD,EAAGE,iBACzD,OAAOG,WAAUL,EAAGI,iBAMxB,QAASE,qBAAoBN,GACzB,MAAOC,gBAAeD,EAAGO,wBAM7B,QAASC,wBAAuBR,GAC5B,GAAqBI,iBAAkBH,eAAeD,EAAGS,0BACzD,OAAOJ,WAAUL,EAAGI,iBAMxB,QAASM,0BAAyBV,GAC9B,GAAqBI,iBAAkBH,eAAeD,EAAGW,4BACzD,OAAON,WAAUL,EAAGI,iBAOxB,QAASC,WAAUL,EAAGI,iBAClB,GAAIQ,iBAAiBC,IAAuBb,EAAS,OAAEc,QAAQC,eAAgB,CAC3E,GAAqBC,QAA2BhB,EAAQ,MACxDI,iBAAwB,QAAMa,MAASD,OAAOC,OAC1CD,OAAOE,QACPd,gBAAwB,OAAS,MAAIY,OAAOE,OAGpD,MAAOd,iBAOX,QAASH,gBAAeD,EAAGmB,YAEvB,IAAK,GADgBC,eACKC,EAAI,EAAGA,EAAIF,WAAWG,OAAQD,IAAK,CACzD,GAAqBE,MAAOJ,WAAWE,EACvCD,YAAWG,MAAQvB,EAAEuB,MAEzB,MAAOH,YA0pBX,QAASI,iCAAgCC,UACrC,GAAqBC,KAAMD,SAASE,IAAIC,YACnBC,KAAOJ,SAASE,IAAIvC,cAAc0C,OACvDJ,KAAIK,aAAaF,KAEjB,IAAqBG,UAAWP,SAASE,IAAIM,sCAC7CJ,MAAKK,WAAW,WAAcF,SAASG,QAAQ,SAAUC,KAAOA,IAAIC,YAMxE,QAASC,mBAAkBC,UACvB,MAAOA,UAASb,IAMpB,QAASc,6BAA4Bf,UACjC,MAAO,YACHpC,yBAAyBoD,mBAAmBC,cAC5CrD,yBAAyBsD,uBAAuBC,MAChD,IAAqBC,UACrB,KACIA,UAAYpB,SAASE,IAAImB,eAE7B,MAAwB9C,GACpB,KAAM,IAAI+C,OAAM,wFAEpB,GAAqBR,UAAWd,SAASE,IAAIqB,kBAC7CC,gBAAeJ,UAAWN,UAC1Bf,gCAAgCC,WAUxC,QAASyB,qBACL,MAAO,IAAI9D,eAAc+D,aAK7B,QAASC,aACL,MAAOC,UAKX,QAASC,gBACL,MAAO,IAAIlE,eAAc0C,QAASyB,qBAAsBnE,cAAcoE,cAQ1E,QAASP,gBAAeQ,IAAKlB,UACzB,GAAqBmB,WAAY,GAAIC,QAAOF,KACvBG,KAAO,GAAIC,oBAAmBH,WAC9BI,OAAS,GAAIC,sBAAqBL,WAClChC,IAAM,GAAIsC,gBAAeJ,KAAME,OACpDvB,UAASK,KAAKc,UAAWhC,KA4H7B,QAASuC,gBAAexC,UACpB,MAAO,YACH,GAAqBI,MAAOJ,SAASE,IAAIvC,cAAc0C,OACvDD,MAAKK,WAAW,WAAc,MAAOT,UAASE,IAAIuC,8BAA8B7B,WA0OxF,QAAS8B,qBAAoBC,kBACzB,MAAOA,kBAAiBC,YAO5B,QAASC,kBAAiBF,iBAAkBvC,MACxC,MAAO,YAAc,MAAOA,MAAKK,WAAW,WAAc,MAAOkC,kBAAiBxB,UAuFtF,QAAS2B,qBAAoBvD,OAAQwD,WACjC,MAAOxD,QAAS,IAAMwD,UA+sD1B,QAASC,gBACL,MAAO,IAAIrF,eAAc+D,aAY7B,QAASuB,kBAAiB7C,MACtB,GAAqB+B,MAAO,GAAIC,oBAAmBc,cAC9Bb,OAAS,GAAIC,sBACbrC,IAAM,GAAIsC,gBAAeJ,KAAME,OAEpD,OADApC,KAAIK,aAAaF,MACVH,IAKX,QAASkD,kBACLC,iBAAiBnC,cAiDrB,QAASoC,mBAAkBC,gBAAiBC,iBAChB,SAApBA,kBAA8BA,mBAElC,IAAqBC,UAAWC,mBAC1BC,QAASrC,cAAesC,SAAUL,kBACtCM,OAAOL,iBACT,OAAOM,SAAQC,QAAQN,UAr+H3B,GAAItF,eAAgBE,OAAO2F,iBACpBC,uBAA2BC,QAAS,SAAUnG,EAAGC,GAAKD,EAAEkG,UAAYjG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAImG,KAAKnG,GAAOA,EAAEoG,eAAeD,KAAIpG,EAAEoG,GAAKnG,EAAEmG,KAwBrEE,cAAgB,GAAIzG,eAAc0G,eAAe,yBAejDlE,WAAc,WACd,QAASA,eAET,MAAOA,eAuBPmE,YAAe,WACf,QAASA,eACL7G,KAAK8G,WAAa,EAClB9G,KAAK+G,YAAc,GAAIC,KACvBhH,KAAKiH,gBAAkB,GAAID,KAmE/B,MA9DAH,aAAYnG,UAAUwG,WAGtB,WAAc,MAAOlH,MAAK8G,cAM1BD,YAAYnG,UAAUyG,MAKtB,SAAUC,IAAKC,IACD,MAANA,KAEJrH,KAAK+G,YAAYO,IAAID,GAAID,KACzBpH,KAAKiH,gBAAgBK,IAAIF,IAAKC,MAMlCR,YAAYnG,UAAU6G,OAItB,SAAUH,KACN,GAAqBI,OAAQxH,KAAKiH,gBAAgBxE,IAAI2E,IACzC,OAATI,QACAxH,KAAKiH,gBAAgBQ,OAAOL,KAC5BpH,KAAK+G,YAAYU,OAAOD,SAOhCX,YAAYnG,UAAUgH,YAItB,SAAUL,IACN,MAAOrH,MAAK+G,YAAYpF,IAAI0F,IAAMrH,KAAK+G,YAAYtE,IAAI4E,IAAM,MAMjER,YAAYnG,UAAUiH,UAItB,SAAUP,KACN,MAAc,OAAPA,IAAc,KAAOpH,KAAKiH,gBAAgBxE,IAAI2E,MAEzDP,YAAYe,aACNC,KAAM3H,cAAc4H,aAG1BjB,YAAYkB,eAAiB,WAAc,UACpClB,eAcPmB,aAAgB,WAChB,QAASA,cAAaC,KAAMC,SAAUC,KAAMC,SAAUC,KAAMC,SAAUC,OAAQC,KAAMC,QAChFzI,KAAKiI,KAAOA,KACZjI,KAAKkI,SAAWA,SAChBlI,KAAKmI,KAAOA,KACZnI,KAAKoI,SAAWA,SAChBpI,KAAKqI,KAAOA,KACZrI,KAAKsI,SAAWA,SAChBtI,KAAKuI,OAASA,OACdvI,KAAKwI,KAAOA,KACZxI,KAAKyI,OAASA,OAElB,MAAOT,iBAEPU,WAAc,WACd,QAASA,YAAWC,cAChB3I,KAAK2I,aAAeA,aAyKxB,MAlKAD,YAAWhI,UAAUiH,UAKrB,SAAUP,IAAKS,MACX,GAAIe,OAAQ5I,IAEZ,IADa,SAAT6H,OAAmBA,KAAO,GACnB,MAAPT,KAAwB,IAATS,KACf,MAAOT,IAEX,IAAIZ,MAAMqC,QAAQzB,KACd,MAAOA,KAAI0B,IAAI,SAAUC,GAAK,MAAOH,OAAMjB,UAAUoB,EAAGlB,OAE5D,IAAa,IAATA,KACA,MAA0B7H,MAAK2I,aAAahB,UAAUP,IAE1D,IAAIS,OAAS3H,cAAc8I,oBACvB,MAAOhJ,MAAKiJ,8BAA8B7B,IAE9C,IAAa,IAATS,KACA,MAAO7H,MAAKkJ,wBAAwB9B,IAExC,IAAIS,OAASG,aACT,MAAOhI,MAAKmJ,mBAAmB/B,IAEnC,MAAM,IAAIvD,OAAM,0BAA4B3D,cAAckJ,WAAWvB,QAQzEa,WAAWhI,UAAUgH,YAMrB,SAAUoB,IAAKjB,KAAMwB,MACjB,GAAIT,OAAQ5I,IAEZ,IADa,SAAT6H,OAAmBA,KAAO,GACnB,MAAPiB,KAAwB,IAATjB,KACf,MAAOiB,IAEX,IAAItC,MAAMqC,QAAQC,KACd,MAAOA,KAAIA,IAAI,SAAUQ,KAAO,MAAOV,OAAMlB,YAAY4B,IAAKzB,KAAMwB,OAExE,IAAa,IAATxB,KACA,MAAO7H,MAAK2I,aAAajB,YAAYoB,IAEzC,IAAIjB,OAAS3H,cAAc8I,oBACvB,MAAOhJ,MAAKuJ,gCAAgCT,IAEhD,IAAa,IAATjB,KACA,MAAO7H,MAAKwJ,0BAA0BV,IAE1C,IAAIjB,OAASG,aACT,MAAOhI,MAAKyJ,qBAAqBX,IAErC,MAAM,IAAIjF,OAAM,4BAA8B3D,cAAckJ,WAAWvB,QAM3Ea,WAAWhI,UAAUyI,mBAIrB,SAAUO,KACN,OACIzB,KAAQyB,IAAIzB,KACZC,SAAYwB,IAAIxB,SAChBC,KAAQuB,IAAIvB,KACZC,SAAYsB,IAAItB,SAChBC,KAAQqB,IAAIrB,KACZC,SAAYoB,IAAIpB,SAChBC,OAAUmB,IAAInB,OACdC,KAAQkB,IAAIlB,KACZC,OAAUiB,IAAIjB,SAOtBC,WAAWhI,UAAU+I,qBAIrB,SAAUC,KACN,MAAO,IAAI1B,cAAa0B,IAAU,KAAGA,IAAc,SAAGA,IAAU,KAAGA,IAAc,SAAGA,IAAU,KAAGA,IAAc,SAAGA,IAAY,OAAGA,IAAU,KAAGA,IAAY,SAM9JhB,WAAWhI,UAAUuI,8BAIrB,SAAUpB,MACN,OACIR,GAAMQ,KAAKR,GACXsC,YAAe9B,KAAK8B,YACpBC,UAAa/B,KAAK+B,UAClBC,cAAiB7J,KAAK2H,UAAUE,KAAKgC,eACrCC,OAAU9J,KAAK2H,UAAUE,KAAKiC,UAOtCpB,WAAWhI,UAAU6I,gCAIrB,SAAUQ,OACN,MAAO,IAAI7J,eAAc8I,oBAAoBe,MAAU,GAAGA,MAAmB,YAAGA,MAAiB,UAAG/J,KAAK0H,YAAYqC,MAAqB,eAAI/J,KAAK0H,YAAYqC,MAAc,aAMjLrB,WAAWhI,UAAUwI,wBAIrB,SAAUrB,MACN,OACIR,GAAMQ,KAAKR,GACXwC,cAAiB7J,KAAK2H,UAAUE,KAAKgC,eACrCC,OAAU9J,KAAK2H,UAAUE,KAAKiC,QAC9BT,KAAQrJ,KAAK2H,UAAUE,KAAKwB,QAOpCX,WAAWhI,UAAU8I,0BAIrB,SAAUO,OACN,OACI1C,GAAI0C,MAAU,GACdF,cAAeE,MAAqB,cACpCD,OAAQ9J,KAAK0H,YAAYqC,MAAc,QACvCV,KAAMrJ,KAAK0H,YAAYqC,MAAY,QAG3CrB,WAAWd,aACLC,KAAM3H,cAAc4H,aAG1BY,WAAWX,eAAiB,WAAc,QACpCF,KAAMhB,eAEL6B,cAkBPsB,2BAA8B,WAC9B,QAASA,+BAET,MAAOA,+BAEPC,4BAA+B,SAAUC,QAEzC,QAASD,6BAA4BE,YAAaC,aAC9C,GAAIxB,OAAQsB,OAAOG,KAAKrK,OAASA,IAGjC,OAFA4I,OAAMuB,YAAcA,YACpBvB,MAAMwB,YAAcA,YACbxB,MA8BX,MAnCAxI,WAAU6J,4BAA6BC,QAgBvCD,4BAA4BvJ,UAAU4J,oBAMtC,SAAUC,QAASC,WAGf,MAFkB,UAAdA,YAAwBA,WAAY,GACxCxK,KAAKmK,YAAYM,YAAYF,QAASC,WAC/B,GAAIE,sBAAqB1K,KAAKmK,YAAanK,KAAKoK,YAAaG,UAExEN,4BAA4BrC,aACtBC,KAAM3H,cAAc4H,aAG1BmC,4BAA4BlC,eAAiB,WAAc,QACrDF,KAAMnF,aACNmF,KAAMa,cAELuB,6BACTD,4BAKEW,oBAAuB,WACvB,QAASA,wBAET,MAAOA,wBAEPD,qBAAwB,SAAUR,QAElC,QAASQ,sBAAqBE,WAAYR,YAAaG,SACnD,GAAI3B,OAAQsB,OAAOG,KAAKrK,OAASA,IACjC4I,OAAM2B,QAAUA,QAChB3B,MAAMiC,SAAW,GAAI7D,KACrB4B,MAAMkC,MAAQF,WAAWG,GAAGR,SAC5B3B,MAAMwB,YAAcA,WACpB,IAAqBxF,QAASgG,WAAWI,KAAKT,QAE9C,OADA3F,QAAOqG,WAAYC,KAAM,SAAUC,SAAW,MAAOvC,OAAMwC,eAAeD,YACnEvC,MA8FX,MAvGAxI,WAAUsK,qBAAsBR,QAehCQ,qBAAqBhK,UAAU2K,mBAI/B,SAAUC,MAIN,IAHA,GAAqBC,MAAOrL,cAAckJ,YAAW,GAAIoC,OAAOC,WAC3CC,UAAY,EACZrE,GAAKiE,KAAOC,KAAOrL,cAAckJ,WAAWsC,WAC1D1L,KAAK6K,SAASlJ,IAAI0F,KACrBA,GAAK,GAAKiE,KAAOC,KAAOG,UACxBA,WAEJ,OAAOrE,KAOXqD,qBAAqBhK,UAAUiL,aAK/B,SAAUC,KAAMC,YACZ,GAAIjD,OAAQ5I,KACS8L,SACjBF,MAAKA,MACLA,KAAKA,KAAK3I,QAAQ,SAAU8I,UACH,MAAjBA,SAASlE,KACTiE,OAAOE,KAAKpD,MAAMwB,YAAYzC,UAAUoE,SAAShK,MAAOgK,SAASlE,OAGjEiE,OAAOE,KAAKD,SAAShK,QAIjC,IAAqBkK,SACA5E,GAAK,IAC1B,IAAkB,MAAdwE,WAAoB,CACpB,GAAqBK,aAA+B,MACpDD,SAAU,GAAI7F,SAAQ,SAAUC,QAAS8F,QAAUD,aAAgB7F,QAASA,QAAS8F,OAAQA,UAC7F9E,GAAKrH,KAAKqL,mBAAmBO,KAAKQ,QAClCpM,KAAK6K,SAASvD,IAAID,GAAI6E,aACtBD,QAAQI,MAAM,SAAUC,KAChBC,SAAWA,QAAQC,OAEnBD,QAAQC,MAAMF,KAElBJ,YAAYC,OAAOG,OAEvBL,QAAUA,QAAQQ,KAAK,SAAU1D,GAAK,MAAOH,OAAMwB,YAAcxB,MAAMwB,YAAY1C,YAAYqB,EAAG8C,YAAc9C,QAGhHkD,SAAU,IAEd,IAAqBd,UACjBiB,OAAUR,KAAKQ,OACfR,KAAQE,OAMZ,OAJU,OAANzE,KACA8D,QAAY,GAAI9D,IAEpBrH,KAAK8K,MAAM4B,KAAKvB,SACTc,SAMXvB,qBAAqBhK,UAAU0K,eAI/B,SAAUD,SACN,GAAqB,WAAjBA,QAAQtD,MAAsC,UAAjBsD,QAAQtD,KAAkB,CACvD,GAAqBR,IAAwB8D,QAAW,EACpDnL,MAAK6K,SAASlJ,IAAI0F,MACG,WAAjB8D,QAAQtD,KACW7H,KAAK6K,SAASpI,IAAI4E,IAAMhB,QAAQ8E,QAAQpJ,OAGxC/B,KAAK6K,SAASpI,IAAI4E,IAAM8E,OAAOhB,QAAQpJ,OAE9D/B,KAAK6K,SAASpD,OAAOJ,OAI1BqD,sBACTC,qBAIEgC,MAAS,WACT,QAASA,OAAM5K,MAAO8F,MACL,SAATA,OAAmBA,KAAO,GAC9B7H,KAAK+B,MAAQA,MACb/B,KAAK6H,KAAOA,KAEhB,MAAO8E,UAKPC,YAAe,WACf,QAASA,aAAYR,OAAQR,MACzB5L,KAAKoM,OAASA,OACdpM,KAAK4L,KAAOA,KAEhB,MAAOgB,gBAkBPjI,mBAAsB,WACtB,QAASA,oBAAmBkI,oBACxB7M,KAAK6M,mBAAqBA,mBAC1B7M,KAAK8M,aACL9M,KAAK+M,kBAiFT,MA3EApI,oBAAmBjE,UAAUmC,aAI7B,SAAUF,MACN,GAAIiG,OAAQ5I,IACZA,MAAKgN,MAAQrK,KACb3C,KAAKgN,MAAMC,kBAAkB,WAAcrE,MAAMoE,MAAME,SAASjC,WAAYC,KAAM,WAActC,MAAMuE,2BAO1GxI,mBAAmBjE,UAAU+J,YAK7B,SAAUF,QAASC,WACf,GAAI5B,OAAQ5I,IAEZ,IADkB,SAAdwK,YAAwBA,WAAY,GACpCxK,KAAK8M,UAAUpG,eAAe6D,SAC9B,KAAM,IAAI1G,OAAM0G,QAAU,gCAE9B,IAAqB6C,SAAU,GAAIlN,eAAcmN,eAAa,IACzCC,YAAc,GAAIC,UAASH,QAAS5C,UACzDxK,MAAK8M,UAAUvC,SAAW+C,YAC1BF,QAAQnC,UAAU,SAAU5B,MACxB,GAAqB8B,UAAYZ,QAASA,QAASY,QAAS9B,KACxDmB,WACA5B,MAAMmE,eAAef,KAAKb,SAG1BvC,MAAM4E,eAAerC,aAQjCxG,mBAAmBjE,UAAUqK,GAI7B,SAAUR,SACN,GAAIvK,KAAK8M,UAAUpG,eAAe6D,SAC9B,MAAOvK,MAAK8M,UAAUvC,SAAS6C,OAG/B,MAAM,IAAIvJ,OAAM0G,QAAU,wDAMlC5F,mBAAmBjE,UAAUyM,mBAG7B,WACQnN,KAAK+M,eAAe3K,OAAS,IAC7BpC,KAAKwN,cAAcxN,KAAK+M,gBACxB/M,KAAK+M,oBAObpI,mBAAmBjE,UAAU8M,cAI7B,SAAUC,UAAYzN,KAAK6M,mBAAmBa,YAAYD,WACnD9I,sBAEPE,qBAAwB,WACxB,QAASA,sBAAqB8I,aAC1B,GAAI/E,OAAQ5I,IAEZ,IADAA,KAAK8M,aACDa,YACAA,YAAYC,iBAAiB,UAAW,SAAUC,IAAM,MAAOjF,OAAMkF,gBAAgBD,UAEpF,CAED,GAAqBE,aAA+B,IACpDA,aAAYH,iBAAiB,UAAW,SAAUC,IAAM,MAAOjF,OAAMkF,gBAAgBD,OAiF7F,MA1EAhJ,sBAAqBnE,UAAUmC,aAI/B,SAAUF,MAAQ3C,KAAKgN,MAAQrK,MAM/BkC,qBAAqBnE,UAAU+J,YAK/B,SAAUF,QAASC,WAEf,GADkB,SAAdA,YAAwBA,WAAY,GACpCxK,KAAK8M,UAAUpG,eAAe6D,SAC9B,KAAM,IAAI1G,OAAM0G,QAAU,gCAE9B,IAAqB6C,SAAU,GAAIlN,eAAcmN,eAAa,IACzCC,YAAc,GAAIC,UAASH,QAAS5C,UACzDxK,MAAK8M,UAAUvC,SAAW+C,aAM9BzI,qBAAqBnE,UAAUsK,KAI/B,SAAUT,SACN,GAAIvK,KAAK8M,UAAUpG,eAAe6D,SAC9B,MAAOvK,MAAK8M,UAAUvC,SAAS6C,OAG/B,MAAM,IAAIvJ,OAAM0G,QAAU,wDAOlC1F,qBAAqBnE,UAAUoN,gBAI/B,SAAUD,IAEN,IAAK,GADgBJ,UAAWI,GAAGxE,KACTlH,EAAI,EAAGA,EAAIsL,SAASrL,OAAQD,IAClDnC,KAAKoL,eAAeqC,SAAStL,KAOrC0C,qBAAqBnE,UAAU0K,eAI/B,SAAU/B,MACN,GAAqBkB,SAAUlB,KAAKkB,OACpC,IAAIvK,KAAK8M,UAAUpG,eAAe6D,SAAU,CACxC,GAAqByD,eAAgBhO,KAAK8M,UAAUvC,QAChDyD,eAAcxD,UACdxK,KAAKgN,MAAMiB,IAAI,WAAcD,cAAcZ,QAAQV,KAAKrD,KAAK8B,WAG7D6C,cAAcZ,QAAQV,KAAKrD,KAAK8B,WAIrCtG,wBAMPC,eAAkB,WAClB,QAASA,gBAAeJ,KAAME,QAC1B5E,KAAK0E,KAAOA,KACZ1E,KAAK4E,OAASA,OAuDlB,MAjDAE,gBAAepE,UAAUmC,aAIzB,SAAUF,MACN3C,KAAK4E,OAAO/B,aAAaF,MACzB3C,KAAK0E,KAAK7B,aAAaF,OAO3BmC,eAAepE,UAAU+J,YAKzB,SAAUF,QAASC,WACG,SAAdA,YAAwBA,WAAY,GACxCxK,KAAK4E,OAAO6F,YAAYF,QAASC,WACjCxK,KAAK0E,KAAK+F,YAAYF,QAASC,YAMnC1F,eAAepE,UAAUsK,KAIzB,SAAUT,SAAW,MAAOvK,MAAK4E,OAAOoG,KAAKT,UAK7CzF,eAAepE,UAAUqK,GAIzB,SAAUR,SAAW,MAAOvK,MAAK0E,KAAKqG,GAAGR,UACzCzF,eAAe8C,aACTC,KAAM3H,cAAc4H,aAG1BhD,eAAeiD,eAAiB,WAAc,QACxCF,KAAMlD,qBACNkD,KAAMhD,wBAELC,kBAMPyI,SAAY,WACZ,QAASA,UAASH,QAAS5C,WACvBxK,KAAKoN,QAAUA,QACfpN,KAAKwK,UAAYA,UAErB,MAAO+C,aAkBPW,4BAA+B,WAC/B,QAASA,gCAET,MAAOA,gCAEPC,6BAAgC,SAAUjE,QAE1C,QAASiE,8BAA6BhE,YAAaC,aAC/C,GAAIxB,OAAQsB,OAAOG,KAAKrK,OAASA,IAGjC,OAFA4I,OAAMuB,YAAcA,YACpBvB,MAAMwB,YAAcA,YACbxB,MAyBX,MA9BAxI,WAAU+N,6BAA8BjE,QAYxCiE,6BAA6BzN,UAAU4J,oBAKvC,SAAUC,QAASC,WAGf,MAFkB,UAAdA,YAAwBA,WAAY,GACxCxK,KAAKmK,YAAYM,YAAYF,QAASC,WAC/B,GAAI4D,uBAAsBpO,KAAKmK,YAAanK,KAAKoK,YAAaG,UAEzE4D,6BAA6BvG,aACvBC,KAAM3H,cAAc4H,aAG1BqG,6BAA6BpG,eAAiB,WAAc,QACtDF,KAAMnF,aACNmF,KAAMa,cAELyF,8BACTD,6BAUEG,qBAAwB,WACxB,QAASA,yBAET,MAAOA,yBAEPD,sBAAyB,SAAUlE,QAEnC,QAASkE,uBAAsBxD,WAAYR,YAAaG,SACpD,GAAI3B,OAAQsB,OAAOG,KAAKrK,OAASA,IACjC4I,OAAMwB,YAAcA,YACpBxB,MAAM2B,QAAUA,QAChB3B,MAAM0F,SAAW,GAAItH,KACrB4B,MAAMkC,MAAQF,WAAWG,GAAGR,QAC5B,IAAqB3F,QAASgG,WAAWI,KAAKT,QAE9C,OADA3F,QAAOqG,WAAYC,KAAM,SAAUC,SAAW,MAAOvC,OAAMwC,eAAeD,YACnEvC,MAmEX,MA5EAxI,WAAUgO,sBAAuBlE,QAkBjCkE,sBAAsB1N,UAAU6N,eAOhC,SAAUC,WAAYC,UAAWrC,OAAQP,YACrC,GAAIjD,OAAQ5I,IACZA,MAAKsO,SAAShH,IAAIkH,WAAY,SAAUrD,SAIpC,IAAK,GAHgBuD,gBAAiBvD,QAAQS,KACzB+C,QAAUF,UAAYA,UAAUrM,OAAS,EACzCwM,iBAAmB,GAAIpI,OAAMmI,SACxBxM,EAAI,EAAGA,EAAIwM,QAASxM,IAAK,CAC/C,GAAqB0M,eAAgBH,eAAevM,EACpDyM,kBAAiBzM,GAAKyG,MAAMwB,YAAY1C,YAAYmH,cAAeJ,UAAUtM,IAEjF,GAAqB8J,SAAUG,OAAO0C,MAAM,OAAQF,iBAChD/C,aAAcI,SACdrD,MAAMmG,sBAAsB5D,QAAQ9D,GAAI4E,QAASJ,eAQ7DuC,sBAAsB1N,UAAU0K,eAIhC,SAAUD,SACFnL,KAAKsO,SAAS3M,IAAIwJ,QAAQiB,SACPpM,KAAKsO,SAAS7L,IAAI0I,QAAQiB,QAAUjB,UAS/DiD,sBAAsB1N,UAAUqO,sBAMhC,SAAU1H,GAAI4E,QAASpE,MACnB,GAAIe,OAAQ5I,IACZiM,SAAQQ,KAAK,SAAUuC,QACnBpG,MAAMkC,MAAM4B,MACR7E,KAAQ,SACR9F,MAAS6G,MAAMwB,YAAYzC,UAAUqH,OAAQnH,MAC7CR,GAAMA,QAIX+G,uBACTC,sBAcEY,mBAAqB,iBACrBC,gBAAkB,eAClBC,eAAiB,YAajB9N,wBACA,SAAU,SAAU,UAAW,UAAW,UAAW,YAAa,YAAa,UAC/E,UAAW,SAAU,UAAW,UAAW,YAE3CE,2BACA,SAAU,WAAY,OAAQ,UAAW,cAAe,MAAO,UAAW,WAAY,UACtF,SAAU,WAAY,SAEtBE,6BAA+B,eAAgB,cAAe,iBAC9DT,kBAAoB,OAAQ,UAAW,cACvCU,iBAAmB,GAAI0N,MAAK,QAAS,SAAU,SAAU,SAAU,KAAM,QAAS,WAAY,QAAS,aAwEvGC,gBAAmB,WACnB,QAASA,iBAAgBvE,MAAOV,aAC5BpK,KAAK8K,MAAQA,MACb9K,KAAKoK,YAAcA,YAiIvB,MAzHAiF,iBAAgB3O,UAAU4O,uBAM1B,SAAUC,OAAQC,UAAWC,SAMzB,MALAzP,MAAK8K,MAAM4B,MACP+C,QAAWzP,KAAKoK,YAAYzC,UAAU8H,QAAS,GAC/CC,gBAAmB1P,KAAKoK,YAAYzC,UAAU4H,OAAQ,GACtDC,UAAaA,aAEV,GASXH,gBAAgB3O,UAAUiP,oBAO1B,SAAUF,QAAS9B,YAAarI,UAAWsK,OACvC,GAAqB1O,gBAErB,QAAQ0O,MAAM/H,MACV,IAAK,QACL,IAAK,UACL,IAAK,YACL,IAAK,WACL,IAAK,cACL,IAAK,aACL,IAAK,aACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,OACD3G,gBAAkBE,oBAAoBwO,MACtC,MACJ,KAAK,UACL,IAAK,WACL,IAAK,QACD1O,gBAAkBI,uBAAuBsO,MACzC,MACJ,KAAK,QACL,IAAK,SACL,IAAK,OACD1O,gBAAkBD,yBAAyB2O,MAC3C,MACJ,KAAK,QACL,IAAK,aACL,IAAK,cACL,IAAK,SACL,IAAK,UACL,IAAK,iBACL,IAAK,iBACL,IAAK,qBACL,IAAK,QACL,IAAK,wBACL,IAAK,mBACL,IAAK,cACL,IAAK,iBACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,mBACL,IAAK,kBACL,IAAK,UACL,IAAK,iBACL,IAAK,eACL,IAAK,aACL,IAAK,iBACL,IAAK,WACL,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,oBACL,IAAK,QACL,IAAK,oBACL,IAAK,mBACL,IAAK,OACL,IAAK,UACL,IAAK,aACL,IAAK,mBACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,UACL,IAAK,SACL,IAAK,UACL,IAAK,UACL,IAAK,aACL,IAAK,cACL,IAAK,mBACL,IAAK,eACL,IAAK,UACD1O,gBAAkBL,sBAAsB+O,MACxC,MACJ,KAAK,gBACD1O,gBAAkBM,yBAAyBoO,MAC3C,MACJ,SACI,KAAM,IAAI/L,OAAMyB,UAAY,gCAUpC,MARAtF,MAAK8K,MAAM4B,MACP+C,QAAWzP,KAAKoK,YAAYzC,UAAU8H,QAAS,GAC/CnK,UAAaA,UACbqI,YAAeA,YACfiC,MAAS1O,mBAIN,GAEJmO,mBAcPQ,sBAAyB,WACzB,QAASA,uBAAsBC,eAAgBC,KAAM3F,YAAazB,aAAcqH,kBAC5EhQ,KAAK8P,eAAiBA,eACtB9P,KAAK+P,KAAOA,KACZ/P,KAAKoK,YAAcA,YACnBpK,KAAK2I,aAAeA,aACpB3I,KAAKgQ,iBAAmBA,iBAsY5B,MAjYAH,uBAAsBnP,UAAUyC,MAGhC,WACI,GAAIyF,OAAQ5I,KACSiQ,OAASjQ,KAAK8P,eAAexF,oBAAoB2E,mBACtEjP,MAAK+P,KAAKtF,YAAYyE,iBACtBlP,KAAKkQ,iBAAmB,GAAIb,iBAAgBrP,KAAK+P,KAAKhF,GAAGmE,iBAAkBlP,KAAKoK,YAChF,IAAI+F,KACA,EACA,EACA,GACDC,IAAMD,GAAG,GAAIE,EAAIF,GAAG,GAAIG,IAAMH,GAAG,GACfI,UAChB,iBAAkBvQ,KAAKwQ,eAAgBJ,IAAKE,IAAKD,IACjD,gBAAiBrQ,KAAKyQ,cAAeL,IAAKC,EAAGA,EAAGA,IAChD,gBAAiBrQ,KAAK0Q,cAAeN,IAAKC,EAAGA,IAAK,aAAcrQ,KAAK2Q,WAAYP,IAAKC,EAAGA,IACzF,cAAerQ,KAAK4Q,YAAaR,IAAKA,IAAKA,MAC3C,eAAgBpQ,KAAK6Q,aAAcT,IAAKA,IAAKA,IAAKA,MAClD,cAAepQ,KAAK8Q,YAAaV,IAAKA,IAAKA,MAC3C,oBAAqBpQ,KAAK+Q,kBAAmBX,IAAKC,EAAGA,IACrD,aAAcrQ,KAAKgR,WAAYZ,IAAKA,IAAKC,IAAK,cAAerQ,KAAKiR,YAAab,IAAKA,IAAKC,IACzF,eAAgBrQ,KAAKkR,aAAcd,IAAKA,IAAKC,EAAGA,EAAGA,IACnD,kBAAmBrQ,KAAKmR,gBAAiBf,IAAKA,IAAKC,EAAGA,IACtD,WAAYrQ,KAAKoR,SAAUhB,IAAKA,IAAKC,IAAK,cAAerQ,KAAKqR,YAAajB,IAAKA,IAAKC,IACrF,WAAYrQ,KAAKsR,SAAUlB,IAAKA,IAAKC,EAAGA,EAAGA,IAC3C,cAAerQ,KAAKuR,YAAanB,IAAKA,IAAKC,EAAGA,IAC9C,cAAerQ,KAAKwR,YAAapB,IAAKA,IAAKC,EAAGA,IAAK,WAAYrQ,KAAKyR,SAAUrB,IAAKA,IAAKC,IACxF,SAAUrQ,KAAK0R,OAAQtB,IAAKA,IAAKC,EAAGA,EAAGA,IAAK,WAAYrQ,KAAK2R,SAAUvB,IAAKA,MAC5E,UAAWpQ,KAAK4R,QAASxB,MAAO,cAAepQ,KAAK6R,YAAazB,IAAKC,GAE3EE,SAAQtN,QAAQ,SAAUkN,IACtB,GAAI7E,MAAO6E,GAAG,GAAI/D,OAAS+D,GAAG,GAAI2B,SAAW3B,GAAG4B,MAAM,EACtD9B,QAAO1B,eAAejD,KAAMwG,SAAU1F,OAAO4F,KAAKpJ,WAO1DiH,sBAAsBnP,UAAUkR,QAIhC,SAAUK,GAAKA,EAAEL,WAMjB/B,sBAAsBnP,UAAUmR,YAKhC,SAAUI,EAAGC,MACLD,EAAEJ,aACFI,EAAEJ,YAAYK,MAElBlS,KAAK2I,aAAapB,OAAO2K,OAQ7BrC,sBAAsBnP,UAAU8P,eAMhC,SAAU2B,GAAItK,KAAMR,IAChBrH,KAAK2I,aAAaxB,MAAMnH,KAAKgQ,iBAAiBQ,eAAe2B,GAAItK,MAAOR,KAS5EwI,sBAAsBnP,UAAU+P,cAOhC,SAAUwB,EAAG3G,KAAM8G,UAAW/K,IAC1BrH,KAAK2I,aAAaxB,MAAM8K,EAAExB,cAAcnF,KAAM8G,WAAY/K,KAQ9DwI,sBAAsBnP,UAAUgQ,cAMhC,SAAUuB,EAAGlQ,MAAOsF,IAChBrH,KAAK2I,aAAaxB,MAAM8K,EAAEvB,cAAc3O,OAAQsF,KAQpDwI,sBAAsBnP,UAAUiQ,WAMhC,SAAUsB,EAAGlQ,MAAOsF,IAChBrH,KAAK2I,aAAaxB,MAAM8K,EAAEtB,WAAW5O,OAAQsF,KAQjDwI,sBAAsBnP,UAAUkQ,YAMhC,SAAUqB,EAAGI,OAAQC,OAASL,EAAErB,YAAYyB,OAAQC,QAQpDzC,sBAAsBnP,UAAUmQ,aAOhC,SAAUoB,EAAGI,OAAQC,MAAOC,KACxBN,EAAEpB,aAAawB,OAAQC,MAAOC,MAQlC1C,sBAAsBnP,UAAUoQ,YAMhC,SAAUmB,EAAGI,OAAQC,OAASL,EAAEnB,YAAYuB,OAAQC,QAOpDzC,sBAAsBnP,UAAUqQ,kBAMhC,SAAUkB,EAAGO,SAAUnL,IACnBrH,KAAK2I,aAAaxB,MAAM8K,EAAElB,kBAAkByB,UAAWnL,KAQ3DwI,sBAAsBnP,UAAUsQ,WAMhC,SAAUiB,EAAGC,KAAM7K,IACfrH,KAAK2I,aAAaxB,MAAM8K,EAAEjB,WAAWkB,MAAO7K,KAQhDwI,sBAAsBnP,UAAUuQ,YAMhC,SAAUgB,EAAGC,KAAM7K,IACfrH,KAAK2I,aAAaxB,MAAM8K,EAAEhB,YAAYiB,MAAO7K,KAUjDwI,sBAAsBnP,UAAUwQ,aAQhC,SAAUe,EAAGE,GAAI7G,KAAMvJ,MAAOqQ,WAC1BH,EAAEf,aAAaiB,GAAI7G,KAAMvJ,MAAOqQ,YASpCvC,sBAAsBnP,UAAUyQ,gBAOhC,SAAUc,EAAGE,GAAI7G,KAAM8G,WACnBH,EAAEd,gBAAgBgB,GAAI7G,KAAM8G,YAQhCvC,sBAAsBnP,UAAU0Q,SAMhC,SAAUa,EAAGE,GAAI7G,MAAQ2G,EAAEb,SAASe,GAAI7G,OAOxCuE,sBAAsBnP,UAAU2Q,YAMhC,SAAUY,EAAGE,GAAI7G,MAAQ2G,EAAEZ,YAAYc,GAAI7G,OAS3CuE,sBAAsBnP,UAAU4Q,SAQhC,SAAUW,EAAGE,GAAIM,MAAO1Q,MAAO2Q,OAC3BT,EAAEX,SAASa,GAAIM,MAAO1Q,MAAO2Q,QASjC7C,sBAAsBnP,UAAU6Q,YAOhC,SAAUU,EAAGE,GAAIM,MAAOC,OACpBT,EAAEV,YAAYY,GAAIM,MAAOC,QAS7B7C,sBAAsBnP,UAAU8Q,YAOhC,SAAUS,EAAGE,GAAI7G,KAAMvJ,OACnBkQ,EAAET,YAAYW,GAAI7G,KAAMvJ,QAQ5B8N,sBAAsBnP,UAAU+Q,SAMhC,SAAUQ,EAAGC,KAAMnQ,OAASkQ,EAAER,SAASS,KAAMnQ,QAS7C8N,sBAAsBnP,UAAUgR,OAQhC,SAAUO,EAAGE,GAAIQ,OAAQrN,UAAWsN,YAChC,GAAIhK,OAAQ5I,KACS6S,SAAW,SAAUjD,OACtC,MAAOhH,OAAMsH,iBAAiBP,oBAAoBwC,GAAIQ,OAAQrN,UAAWsK,QAExD+B,SAAWM,EAAEP,OAAOS,IAAMQ,OAAQrN,UAAWuN,SAClE7S,MAAK2I,aAAaxB,MAAMwK,SAAUiB,aAOtC/C,sBAAsBnP,UAAUiR,SAKhC,SAAUM,EAAGN,UAAYA,YACzB9B,sBAAsBjI,aAChBC,KAAM3H,cAAc4H,aAG1B+H,sBAAsB9H,eAAiB,WAAc,QAC/CF,KAAMqG,8BACNrG,KAAMnF,aACNmF,KAAMa,aACNb,KAAMhB,cACNgB,KAAM3H,cAAc4S,oBAEnBjD,yBAoBP/L,kBAAqB,WACrB,QAASA,sBAuBT,MAfAA,mBAAkBpD,UAAUgD,KAM5B,SAAUqP,OAAQvQ,KACdxC,KAAK+S,OAASA,OACd/S,KAAKwC,IAAMA,KAEfsB,kBAAkB8D,aACZC,KAAM3H,cAAc4H,aAG1BhE,kBAAkBiE,eAAiB,WAAc,UAC1CjE,qBAKPF,cAAgB,GAAI1D,eAAc0G,eAAe,mBAOjD7D,sCAAwC,GAAI7C,eAAc0G,eAAe,mCACzEoM,gCACE/M,QAAS/F,cAAc0C,OAAQqQ,WAAY7O,aAAc8O,UAEvDjN,QAAS4J,sBACTqD,MAAOhF,4BAA6BxL,WAAYgG,WAAY7B,YAAa3G,cAAc4S,oBAEzF7M,QAASlD,sCAAuCoQ,YAAatD,sBAAuBuD,OAAO,GAC7FjT,yBAAyBkT,iCACvBpN,QAAS/F,cAAc+D,aAAcgP,WAAYjP,kBAAmBkP,UACpEjN,QAAS9F,yBAAyBmT,SAAUL,WAAY/O,UAAWgP,UAIjEjN,QAAS9F,yBAAyBoT,sBAClCC,SAAUrT,yBAAyBsT,iBACnCP,MAAO/S,yBAAyBmT,SAAUpT,cAAc0C,QACxDwQ,OAAO,IAETnN,QAAS9F,yBAAyBoT,sBAAuBC,SAAUrT,yBAAyBuT,iBAAkBR,MAAO/S,yBAAyBmT,UAAWF,OAAO,IAE9JnN,QAAS9F,yBAAyBoT,sBAClCC,SAAUrT,yBAAyBwT,sBACnCT,MAAO/S,yBAAyBmT,SAAUnT,yBAAyByT,uBACnER,OAAO,IAETnN,QAAS9F,yBAAyByT,sBAAuBJ,SAAUrT,yBAAyB0T,oBAAqBX,SACnHhT,cAAc4T,yBACZ7N,QAAS9F,yBAAyB4T,qBAAsBb,MAAO/S,yBAAyB6T,aAAc7T,yBAAyB8T,wBAC/HhO,QAAS/F,cAAc4S,iBAAkBK,YAAahT,yBAAyB4T,uBAC/E9N,QAAS9F,yBAAyB+T,kBAAmBf,YAAahT,yBAAyB8T,uBAEzFhO,QAASiI,4BACTsF,SAAUrF,6BACV+E,MAAOxQ,WAAYgG,cAGnBzC,QAAS+D,2BACTwJ,SAAUvJ,4BACViJ,MAAOxQ,WAAYgG,cAErBzC,QAASyC,WAAYwK,MAAOrM,eAC5BZ,QAASU,cAAeT,UAAU,IAClCD,QAASY,YAAaqM,UACtBjN,QAAS9F,yBAAyB8T,qBAAsBf,MAAO/S,yBAAyBmT,YACxFrN,QAAS/F,cAAciU,YAAajB,MAAOhT,cAAc0C,UACzDqD,QAAS9F,yBAAyB6T,aAAcd,MAAO/S,yBAAyBoT,sBAAuBrT,cAAc0C,UACrHqD,QAASnC,kBAAmBoP,UAE1BjN,QAAS/F,cAAckU,qBACvBnB,WAAY3P,4BACZ8P,OAAO,EACPF,MAAOhT,cAAcmU,YAEvBpO,QAAS/F,cAAcoU,YAAapO,SAAUjG,gBAAgBsU,yBAC9DtO,QAASvD,WAAYuQ,WAAY7P,kBAAmB8P,MAAOpP,qBA4C7DkC,iBAAmB9F,cAAcsU,sBAAsBtU,cAAcuU,aAAc,WAAYzB,+BAoD/F0B,QAAU,GAAIxU,eAAcyU,QAAQ,qBAMpC3P,6BAAgC,WAChC,QAASA,8BAA6B8K,eAAgB8E,kBAAmBpS,IAAK4H,aAC1EpK,KAAK8P,eAAiBA,eACtB9P,KAAK4U,kBAAoBA,kBACzB5U,KAAKoK,YAAcA,YACnBpK,KAAK4U,kBAAkBC,WAA6B7U,KAAK8U,oBAAoB9C,KAAKhS,OAClFA,KAAK4U,kBAAkBG,aAA+B/U,KAAK8U,oBAAoB9C,KAAKhS,OACpFA,KAAKgV,QAAUhV,KAAK8P,eAAexF,oBAAoB6E,gBACvDnP,KAAKiV,aAAezS,IAAIuI,GAAGoE,gBA2D/B,MAtDAnK,8BAA6BtE,UAAUyC,MAGvC,WACI,GAAqBkN,GAAI,CACzBrQ,MAAKgV,QAAQzG,eAAe,cAAe,KAAMvO,KAAKkV,aAAalD,KAAKhS,MAAOgI,cAC/EhI,KAAKgV,QAAQzG,eAAe,eAAgB8B,GAAIrQ,KAAKmV,aAAanD,KAAKhS,OACvEA,KAAKgV,QAAQzG,eAAe,aAAc8B,EAAGA,EAAGA,GAAIrQ,KAAK4U,kBAAkBQ,UAAUpD,KAAKhS,KAAK4U,oBAC/F5U,KAAKgV,QAAQzG,eAAe,gBAAiB8B,EAAGA,EAAGA,GAAIrQ,KAAK4U,kBAAkBS,aAAarD,KAAKhS,KAAK4U,oBACrG5U,KAAKgV,QAAQzG,eAAe,UAAW,KAAMvO,KAAK4U,kBAAkBU,QAAQtD,KAAKhS,KAAK4U,oBACtF5U,KAAKgV,QAAQzG,eAAe,OAAQ,KAAMvO,KAAK4U,kBAAkBW,KAAKvD,KAAKhS,KAAK4U,qBAKpF5P,6BAA6BtE,UAAUwU,aAGvC,WACI,MAAO9O,SAAQC,QAAQrG,KAAK4U,kBAAkBY,WAMlDxQ,6BAA6BtE,UAAUoU,oBAIvC,SAAUhU,GACNd,KAAKiV,aAAavI,MACdkD,OAAW/H,KAAQ/G,EAAE+G,MACrB2N,SAAYxV,KAAKoK,YAAYzC,UAAU3H,KAAK4U,kBAAkBY,SAAUxN,iBAOhFhD,6BAA6BtE,UAAUyU,aAIvC,SAAU7M,UAAYtI,KAAK4U,kBAAkBtM,SAAWA,UACxDtD,6BAA6B4C,aACvBC,KAAM3H,cAAc4H,aAG1B9C,6BAA6B+C,eAAiB,WAAc,QACtDF,KAAMqG,8BACNrG,KAAM1H,yBAAyBsV,2BAC/B5N,KAAMnF,aACNmF,KAAMa,cAEL1D,gCAmBP0Q,+BACEzP,QAASjB,6BAA8BkO,MAAOhF,4BACxC/N,yBAAyBsV,yBAA0B/S,WAAYgG,cACrEzC,QAAS9F,yBAAyBsV,yBAA0BvC,MAAOjT,gBAAgBqT,YACnFrN,QAAS/F,cAAckU,qBAAsBnB,WAAYlO,eAAgBqO,OAAO,EAAMF,MAAOhT,cAAcmU,YAwB7GsB,0BAA6B,SAAUzL,QAEvC,QAASyL,2BAA0BC,cAAepT,IAAK4H,aACnD,GAAIxB,OAAQsB,OAAOG,KAAKrK,OAASA,IA4BjC,OA3BA4I,OAAMwB,YAAcA,YACpBxB,MAAMiN,sBACNjN,MAAMkN,wBACNlN,MAAMmN,UAA6B,KACnCnN,MAAMoM,QAAUY,cAActL,oBAAoB6E,gBAClDvG,MAAMoN,eAAiBxT,IAAIwI,KAAKmE,gBAChCvG,MAAMoN,eAAe/K,WACjBC,KAAM,SAAU+K,KACZ,GAAqBC,WAAY,IACjC,IAAID,IAAIvP,eAAe,SAAU,CAC7B,GAAqBmB,MAAOoO,IAAW,MAAQ,IAClC,cAATpO,KACAqO,UAAYtN,MAAMiN,mBAEJ,eAAThO,OACLqO,UAAYtN,MAAMkN,sBAElBI,YAGAtN,MAAMmN,UAAYnN,MAAMwB,YAAY1C,YAAYuO,IAAc,SAAGjO,cACjEkO,UAAUjT,QAAQ,SAAUkT,IAAM,MAAOA,IAAGF,IAAW,cAKvErN,MAAMzD,YAAc,GAAIiB,SAAQ,SAAUgQ,KAAO,MAAOxN,OAAMyN,mBAAqBD,MAC5ExN,MA2JX,MAzLAxI,WAAUuV,0BAA2BzL,QAqCrCyL,0BAA0BjV,UAAUgD,KAIpC,WACI,GAAIkF,OAAQ5I,KACS4L,KAAO,GAAIgB,aAAY,cAC5C,OAA0B5M,MAAKgV,QAAQrJ,aAAaC,KAAM5D,cAAgByE,KAAK,SAAUnD,KAGrF,MAFAV,OAAMmN,UAAYzM,IAClBV,MAAMyN,sBACC,GACR,SAAU/J,KAAO,KAAM,IAAIzI,OAAMyI,QAKxCqJ,0BAA0BjV,UAAU4V,mBAGpC,WACI,KAAM,IAAIzS,OAAM,gKAMpB8R,0BAA0BjV,UAAUmU,WAIpC,SAAUsB,IAAMnW,KAAK6V,mBAAmB7J,KAAKmK,KAK7CR,0BAA0BjV,UAAUqU,aAIpC,SAAUoB,IAAMnW,KAAK8V,qBAAqB9J,KAAKmK,KAC/CxV,OAAO4V,eAAeZ,0BAA0BjV,UAAW,YACvD+B,IAGA,WAAc,MAAOzC,MAAK+V,UAA+B/V,KAAK+V,UAAmB,SAAI,aACrFzO,IAIA,SAAUkP,SACN,GAAuB,OAAnBxW,KAAK+V,UACL,KAAM,IAAIlS,OAAM,2DAEpB7D,MAAK+V,UAAUzN,SAAWkO,OAC1B,IAAqB1K,SAAU,GAAIa,OAAM6J,QAAS,IAC7B5K,KAAO,GAAIgB,aAAY,cAAed,OAC3D9L,MAAKgV,QAAQrJ,aAAaC,KAAM,OAEpC6K,YAAY,EACZC,cAAc,IAElB/V,OAAO4V,eAAeZ,0BAA0BjV,UAAW,UACvD+B,IAGA,WAAc,MAAOzC,MAAK+V,UAAY/V,KAAK+V,UAAUxN,OAAS,aAC9DkO,YAAY,EACZC,cAAc,IAElB/V,OAAO4V,eAAeZ,0BAA0BjV,UAAW,QACvD+B,IAGA,WAAc,MAAOzC,MAAK+V,UAAY/V,KAAK+V,UAAUvN,KAAO,aAC5DiO,YAAY,EACZC,cAAc,IAQlBf,0BAA0BjV,UAAU0U,UAMpC,SAAUuB,MAAOC,MAAOC,KACpB,GAAqB/K,SACjB,GAAIa,OAAMgK,MAAO,GACjB,GAAIhK,OAAMiK,MAAO,GACjB,GAAIjK,OAAMkK,IAAK,IAEEjL,KAAO,GAAIgB,aAAY,YAAad;AACzD9L,KAAKgV,QAAQrJ,aAAaC,KAAM,OAQpC+J,0BAA0BjV,UAAU2U,aAMpC,SAAUsB,MAAOC,MAAOC,KACpB,GAAqB/K,SACjB,GAAIa,OAAMgK,MAAO,GACjB,GAAIhK,OAAMiK,MAAO,GACjB,GAAIjK,OAAMkK,IAAK,IAEEjL,KAAO,GAAIgB,aAAY,eAAgBd,OAC5D9L,MAAKgV,QAAQrJ,aAAaC,KAAM,OAKpC+J,0BAA0BjV,UAAU4U,QAGpC,WACI,GAAqB1J,MAAO,GAAIgB,aAAY,UAC5C5M,MAAKgV,QAAQrJ,aAAaC,KAAM,OAKpC+J,0BAA0BjV,UAAU6U,KAGpC,WACI,GAAqB3J,MAAO,GAAIgB,aAAY,OAC5C5M,MAAKgV,QAAQrJ,aAAaC,KAAM,OAEpC+J,0BAA0B/N,aACpBC,KAAM3H,cAAc4H,aAG1B6N,0BAA0B5N,eAAiB,WAAc,QACnDF,KAAMmC,6BACNnC,KAAMnF,aACNmF,KAAMa,cAELiN,2BACT1V,gBAAgB6W,kBAmBdC,gCACE9Q,QAAShG,gBAAgB6W,iBAAkBtD,SAAUmC,4BACnD1P,QAAS/F,cAAc8W,gBACvB/D,WAAY7N,iBACZgO,OAAO,EACPF,MAAOjT,gBAAgB6W,iBAAkB5W,cAAc0C,UAEzDqD,QAAShG,gBAAgBgX,qBAAsBhE,WAAYhO,oBAAqBiO,MAAOjT,gBAAgB6W,oBA6BzGI,kBAAqB,WACrB,QAASA,sBAiET,MA1DAA,mBAAkBxW,UAAUgR,OAK5B,SAAUpM,UAAW6R,UAAYnX,KAAKoX,cAAc9R,WAAW0G,KAAKmL,WAMpED,kBAAkBxW,UAAUiR,SAK5B,SAAUrM,UAAWuN,UACjB,GAAqBqD,WAAYlW,KAAKoX,cAAc9R,WAC/BkC,MAAQ0O,UAAUmB,QAAQxE,SAC3CrL,QAAQ,GACR0O,UAAUoB,OAAO9P,MAAO,IAQhC0P,kBAAkBxW,UAAU6W,cAK5B,SAAUjS,UAAWsK,OAEjB,IAAK,GADgBsG,WAAYlW,KAAKoX,cAAc9R,WAC1BnD,EAAI,EAAGA,EAAI+T,UAAU9T,OAAQD,IACnD+T,UAAU/T,GAAGyN,QAOrBsH,kBAAkBxW,UAAU0W,cAI5B,SAAU9R,WACDtF,KAAKwX,aACNxX,KAAKwX,WAAa,GAAIxQ,KAE1B,IAAqBkP,WAAYlW,KAAKwX,WAAW/U,IAAI6C,UAKrD,OAJK4Q,aACDA,aACAlW,KAAKwX,WAAWlQ,IAAIhC,UAAW4Q,YAE5BA,WAEJgB,qBAUPO,0BAA6B,WAC7B,QAASA,2BAA0BC,qBAAsBlV,IAAK4H,YAAauN,aACvE,GAAI/O,OAAQ5I,IACZA,MAAKoK,YAAcA,YACnBpK,KAAK2X,YAAcA,YACnB3X,KAAK4X,aAAe,GAAIV,mBACxBlX,KAAK6X,eAAiBH,qBAAqBpN,oBAAoB2E,oBAC/DzM,IAAIiI,YAAYyE,gBAChB,IAAqBtK,QAASpC,IAAIwI,KAAKkE,gBACvCtK,QAAOqG,WAAYC,KAAM,SAAUC,SAAW,MAAOvC,OAAMkP,eAAe3M,YA6G9E,MAtGAsM,2BAA0B/W,UAAU8P,eAKpC,SAAUf,QAAS5H,MACf,GAAqBkQ,UAAW,GAAIC,oBAAmBhY,MAClCqH,GAAKrH,KAAK2X,YAAYzQ,YAO3C,OANAlH,MAAK2X,YAAYxQ,MAAM4Q,SAAU1Q,IACjCrH,KAAKiY,OAAO,kBACR,GAAItL,OAAM8C,QAAS,GACnB,GAAI9C,OAAM9E,KAAM,GAChB,GAAI8E,OAAMoL,SAAU,KAEjBA,UAKXN,0BAA0B/W,UAAUwX,MAGpC,aAIAT,0BAA0B/W,UAAUyX,IAGpC,aAMAV,0BAA0B/W,UAAUuX,OAKpC,SAAUG,OAAQtM,QACd,GAAqBF,MAAO,GAAIgB,aAAYwL,OAAQtM,OACpD9L,MAAK6X,eAAelM,aAAaC,KAAM,OAK3C6L,0BAA0B/W,UAAU2X,aAGpC,WACI,GAAqBrJ,QAAS,GAAIsJ,qBACbjR,GAAKrH,KAAK2X,YAAYzQ,YAE3C,OADAlH,MAAK2X,YAAYxQ,MAAM6H,OAAQ3H,IACxB2H,QAMXyI,0BAA0B/W,UAAU6X,SAIpC,SAAUrG,MAAQlS,KAAK2X,YAAYpQ,OAAO2K,OAI1CuF,0BAA0B/W,UAAUwG,WAGpC,WAAc,MAAOlH,MAAK2X,YAAYzQ,cAKtCuQ,0BAA0B/W,UAAUoX,eAIpC,SAAU3M,SACN,GAAqBsE,SAAUzP,KAAKoK,YAAY1C,YAAYyD,QAAiB,QAAG,GAC3D7F,UAAY6F,QAAmB,UAC/BrJ,OAASqJ,QAAqB,YAC9ByE,MAAQzE,QAAe,KACxCrJ,QACA9B,KAAK4X,aAAaL,cAAclS,oBAAoBvD,OAAQwD,WAAYsK,OAGxEH,QAAQ+I,OAAOjB,cAAcjS,UAAWsK,QAGhD6H,0BAA0B7P,aACpBC,KAAM3H,cAAc4H,aAG1B2P,0BAA0B1P,eAAiB,WAAc,QACnDF,KAAMmC,6BACNnC,KAAMnF,aACNmF,KAAMa,aACNb,KAAMhB,eAEL4Q,6BAEPO,mBAAsB,WACtB,QAASA,oBAAmBhI,kBACxBhQ,KAAKgQ,iBAAmBA,iBACxBhQ,KAAKqJ,KAAO1I,OAAOC,OAAO,MAC1BZ,KAAKyY,QAAU,GAAI9L,OAAM3M,KAAM,GAyXnC,MApXAgY,oBAAmBtX,UAAUkR,QAG7B,WAAc5R,KAAK0Y,mBAAmB,YAKtCV,mBAAmBtX,UAAUmR,YAI7B,SAAUK,MACNlS,KAAK0Y,mBAAmB,eAAgB,GAAI/L,OAAMuF,KAAM,KACxDlS,KAAKgQ,iBAAiBuI,SAASrG,OAOnC8F,mBAAmBtX,UAAU+P,cAK7B,SAAUnF,KAAM8G,WACZ,GAAqBF,MAAOlS,KAAKgQ,iBAAiBqI,cAMlD,OALArY,MAAK0Y,mBAAmB,iBACpB,GAAI/L,OAAMrB,MACV,GAAIqB,OAAMyF,WACV,GAAIzF,OAAMuF,KAAM,KAEbA,MAMX8F,mBAAmBtX,UAAUgQ,cAI7B,SAAU3O,OACN,GAAqBmQ,MAAOlS,KAAKgQ,iBAAiBqI,cAKlD,OAJArY,MAAK0Y,mBAAmB,iBACpB,GAAI/L,OAAM5K,OACV,GAAI4K,OAAMuF,KAAM,KAEbA,MAMX8F,mBAAmBtX,UAAUiQ,WAI7B,SAAU5O,OACN,GAAqBmQ,MAAOlS,KAAKgQ,iBAAiBqI,cAKlD,OAJArY,MAAK0Y,mBAAmB,cACpB,GAAI/L,OAAM5K,OACV,GAAI4K,OAAMuF,KAAM,KAEbA,MAOX8F,mBAAmBtX,UAAUkQ,YAK7B,SAAUyB,OAAQsG,UACd3Y,KAAK0Y,mBAAmB,eACpB,GAAI/L,OAAM0F,OAAQ,GAClB,GAAI1F,OAAMgM,SAAU,MAS5BX,mBAAmBtX,UAAUmQ,aAM7B,SAAUwB,OAAQsG,SAAUC,UACnBvG,QAGLrS,KAAK0Y,mBAAmB,gBACpB,GAAI/L,OAAM0F,OAAQ,GAClB,GAAI1F,OAAMgM,SAAU,GACpB,GAAIhM,OAAMiM,SAAU,MAQ5BZ,mBAAmBtX,UAAUoQ,YAK7B,SAAUuB,OAAQwG,UACd7Y,KAAK0Y,mBAAmB,eACpB,GAAI/L,OAAM0F,OAAQ,GAClB,GAAI1F,OAAMkM,SAAU,MAO5Bb,mBAAmBtX,UAAUqQ,kBAI7B,SAAU+H,gBACN,GAAqB5G,MAAOlS,KAAKgQ,iBAAiBqI,cAKlD,OAJArY,MAAK0Y,mBAAmB,qBACpB,GAAI/L,OAAMmM,gBACV,GAAInM,OAAMuF,KAAM,KAEbA,MAMX8F,mBAAmBtX,UAAUsQ,WAI7B,SAAUkB,MACN,GAAqBkE,KAAMpW,KAAKgQ,iBAAiBqI,cAKjD,OAJArY,MAAK0Y,mBAAmB,cACpB,GAAI/L,OAAMuF,KAAM,GAChB,GAAIvF,OAAMyJ,IAAK,KAEZA,KAMX4B,mBAAmBtX,UAAUuQ,YAI7B,SAAUiB,MACN,GAAqBkE,KAAMpW,KAAKgQ,iBAAiBqI,cAKjD,OAJArY,MAAK0Y,mBAAmB,eACpB,GAAI/L,OAAMuF,KAAM,GAChB,GAAIvF,OAAMyJ,IAAK,KAEZA,KASX4B,mBAAmBtX,UAAUwQ,aAO7B,SAAUiB,GAAI7G,KAAMvJ,MAAOqQ,WACvBpS,KAAK0Y,mBAAmB,gBACpB,GAAI/L,OAAMwF,GAAI,GACd,GAAIxF,OAAMrB,MACV,GAAIqB,OAAM5K,OACV,GAAI4K,OAAMyF,cASlB4F,mBAAmBtX,UAAUyQ,gBAM7B,SAAUgB,GAAI7G,KAAM8G,WAChBpS,KAAK0Y,mBAAmB,mBACpB,GAAI/L,OAAMwF,GAAI,GACd,GAAIxF,OAAMrB,MACV,GAAIqB,OAAMyF,cAQlB4F,mBAAmBtX,UAAU0Q,SAK7B,SAAUe,GAAI7G,MACVtL,KAAK0Y,mBAAmB,YACpB,GAAI/L,OAAMwF,GAAI,GACd,GAAIxF,OAAMrB,SAQlB0M,mBAAmBtX,UAAU2Q,YAK7B,SAAUc,GAAI7G,MACVtL,KAAK0Y,mBAAmB,eACpB,GAAI/L,OAAMwF,GAAI,GACd,GAAIxF,OAAMrB,SAUlB0M,mBAAmBtX,UAAU4Q,SAO7B,SAAUa,GAAIM,MAAO1Q,MAAO2Q,OACxB1S,KAAK0Y,mBAAmB,YACpB,GAAI/L,OAAMwF,GAAI,GACd,GAAIxF,OAAM8F,OACV,GAAI9F,OAAM5K,OACV,GAAI4K,OAAM+F,UASlBsF,mBAAmBtX,UAAU6Q,YAM7B,SAAUY,GAAIM,MAAOC,OACjB1S,KAAK0Y,mBAAmB,eACpB,GAAI/L,OAAMwF,GAAI,GACd,GAAIxF,OAAM8F,OACV,GAAI9F,OAAM+F,UASlBsF,mBAAmBtX,UAAU8Q,YAM7B,SAAUW,GAAI7G,KAAMvJ,OAChB/B,KAAK0Y,mBAAmB,eACpB,GAAI/L,OAAMwF,GAAI,GACd,GAAIxF,OAAMrB,MACV,GAAIqB,OAAM5K,UAQlBiW,mBAAmBtX,UAAU+Q,SAK7B,SAAUS,KAAMnQ,OACZ/B,KAAK0Y,mBAAmB,YACpB,GAAI/L,OAAMuF,KAAM,GAChB,GAAIvF,OAAM5K,UASlBiW,mBAAmBtX,UAAUgR,OAM7B,SAAU5P,OAAQwD,UAAWuN,UACzB,GAAIjK,OAAQ5I,KACS4S,WAAa5S,KAAKgQ,iBAAiB9I,aACpDiJ,GAAuB,gBAAXrO,SAAuB,KAAMA,OAAQA,OAAS,IAAMwD,YAC/DxD,OAAQ,KAAM,MAAOiX,SAAW5I,GAAG,GAAI6I,WAAa7I,GAAG,GAAI8I,SAAW9I,GAAG,EAa9E,OAZI8I,UACAjZ,KAAKgQ,iBAAiB4H,aAAalG,OAAOuH,SAAUpG,UAGpDkG,SAASP,OAAO9G,OAAOpM,UAAWuN,UAEtC7S,KAAK0Y,mBAAmB,UACpB,GAAI/L,OAAMoM,SAAU,GACpB,GAAIpM,OAAMqM,YACV,GAAIrM,OAAMrH,WACV,GAAIqH,OAAMiG,cAEP,WACCqG,SACArQ,MAAMoH,iBAAiB4H,aAAajG,SAASsH,SAAUpG,UAGvDkG,SAASP,OAAO7G,SAASrM,UAAWuN,UAExCjK,MAAM8P,mBAAmB,YAAa,GAAI/L,OAAMiG,gBAQxDoF,mBAAmBtX,UAAUgY,mBAK7B,SAAUN,OAAQtM,QACC,SAAXA,SAAqBA,WAEzB9L,KAAKgQ,iBAAiBiI,OAAOG,QAASpY,KAAKyY,SAAStS,OAAO2F,UAExDkM,sBAEPM,oBAAuB,WACvB,QAASA,uBACLtY,KAAKwY,OAAS,GAAItB,mBAEtB,MAAOoB,wBAmBP3S,iBAAoB,SAAUuE,QAE9B,QAASvE,oBACL,MAAkB,QAAXuE,QAAmBA,OAAO4E,MAAM9O,KAAMkZ,YAAclZ,KAuqC/D,MAzqCAI,WAAUuF,iBAAkBuE,QAO5BvE,iBAAiBnC,YAGjB,WAAcrD,yBAAyBgZ,mBAAmB,GAAIxT,oBAK9DA,iBAAiBjF,UAAU0Y,SAI3B,SAAU5M,OACFD,QAAQC,MACRD,QAAQC,MAAMA,OAIdD,QAAQ8M,IAAI7M,QAQpB7G,iBAAiBjF,UAAU2Y,IAI3B,SAAU7M,OAASD,QAAQ8M,IAAI7M,QAK/B7G,iBAAiBjF,UAAU4Y,SAI3B,SAAU9M,OACFD,QAAQgN,OACRhN,QAAQgN,MAAM/M,OACdxM,KAAKoZ,SAAS5M,QAIdD,QAAQ8M,IAAI7M,QAMpB7G,iBAAiBjF,UAAU8Y,YAG3B,WACQjN,QAAQkN,UACRlN,QAAQkN,YAQhB9T,iBAAiBjF,UAAUgZ,SAK3B,SAAUC,MAAOC,OAAS,KAAM,mBAMhCjU,iBAAiBjF,UAAUmZ,YAK3B,SAAUpK,QAASnE,MAAQ,KAAM,mBAOjC3F,iBAAiBjF,UAAU8Q,YAM3B,SAAUW,GAAI7G,KAAMvJ,OAAS,KAAM,mBAMnC4D,iBAAiBjF,UAAUoZ,YAK3B,SAAU3H,GAAI7G,MAAQ,KAAM,mBAO5B3F,iBAAiBjF,UAAUqZ,OAM3B,SAAU5H,GAAI3D,WAAY5C,MAAQ,KAAM,mBACxCjL,OAAO4V,eAAe5Q,iBAAiBjF,UAAW,iBAC9C+B,IAGA,WAAc,KAAM,mBACpB6E,IAIA,SAAUvF,OAAS,KAAM,mBACzB0U,YAAY,EACZC,cAAc,IAMlB/Q,iBAAiBjF,UAAUsZ,MAI3B,SAAUC,cAAgB,KAAM,mBAMhCtU,iBAAiBjF,UAAUwZ,cAK3B,SAAU/H,GAAIK,UAAY,KAAM,mBAMhC7M,iBAAiBjF,UAAUyZ,iBAK3B,SAAUhI,GAAIK,UAAY,KAAM,mBAOhC7M,iBAAiBjF,UAAU0Z,GAM3B,SAAUjI,GAAIkI,IAAKxH,UAAY,KAAM,mBAOrClN,iBAAiBjF,UAAU4Z,YAM3B,SAAUnI,GAAIkI,IAAKxH,UAAY,KAAM,mBAMrClN,iBAAiBjF,UAAU6W,cAK3B,SAAUpF,GAAIkI,KAAO,KAAM,mBAK3B1U,iBAAiBjF,UAAU6Z,iBAI3B,SAAUC,WAAa,KAAM,mBAK7B7U,iBAAiBjF,UAAU+Z,YAI3B,SAAUD,WAAa,KAAM,mBAK7B7U,iBAAiBjF,UAAUga,eAI3B,SAAUL,KAAO,KAAM,mBAKvB1U,iBAAiBjF,UAAUia,YAI3B,SAAUN,KAAO,KAAM,mBAKvB1U,iBAAiBjF,UAAUka,aAI3B,SAAUzI,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUma,mBAI3B,SAAU1I,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUoa,aAI3B,SAAU3I,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUqa,SAI3B,SAAU7I,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAUsa,UAI3B,SAAU9I,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAUmH,KAI3B,SAAUqK,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAUua,QAI3B,SAAU/I,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAUwa,WAI3B,SAAU/I,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUuQ,YAI3B,SAAUkB,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUya,cAI3B,SAAUhJ,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAU0a,WAI3B,SAAUjJ,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAU2a,iBAI3B,SAAUlJ,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAU4a,WAI3B,SAAUnJ,IAAM,KAAM,mBAMtBxM,iBAAiBjF,UAAUkQ,YAK3B,SAAUuB,GAAID,MAAQ,KAAM,mBAM5BvM,iBAAiBjF,UAAUoQ,YAK3B,SAAUqB,GAAID,MAAQ,KAAM,mBAO5BvM,iBAAiBjF,UAAU6a,aAM3B,SAAUpJ,GAAIqJ,QAASC,SAAW,KAAM,mBAKxC9V,iBAAiBjF,UAAU6G,OAI3B,SAAU4K,IAAM,KAAM,mBAOtBxM,iBAAiBjF,UAAUmQ,aAM3B,SAAUwB,OAAQF,GAAID,MAAQ,KAAM,mBAOpCvM,iBAAiBjF,UAAUgb,gBAM3B,SAAUrJ,OAAQF,GAAIwJ,OAAS,KAAM,mBAOrChW,iBAAiBjF,UAAUkb,YAM3B,SAAUvJ,OAAQF,GAAID,MAAQ,KAAM,mBAMpCvM,iBAAiBjF,UAAUmb,aAK3B,SAAU1J,GAAIpQ,OAAS,KAAM,mBAK7B4D,iBAAiBjF,UAAUob,QAI3B,SAAU3J,IAAM,KAAM,mBAMtBxM,iBAAiBjF,UAAUqb,QAK3B,SAAU5J,GAAIpQ,OAAS,KAAM,mBAK7B4D,iBAAiBjF,UAAUsb,SAI3B,SAAU7J,IAAM,KAAM,mBAMtBxM,iBAAiBjF,UAAU+Q,SAK3B,SAAUU,GAAIpQ,OAAS,KAAM,mBAK7B4D,iBAAiBjF,UAAUub,WAI3B,SAAU9J,IAAM,KAAM,mBAMtBxM,iBAAiBjF,UAAUwb,WAK3B,SAAU/J,GAAIpQ,OAAS,KAAM,mBAK7B4D,iBAAiBjF,UAAUgQ,cAI3B,SAAUyL,MAAQ,KAAM,mBAKxBxW,iBAAiBjF,UAAU0b,eAI3B,SAAUC,MAAQ,KAAM,mBAMxB1W,iBAAiBjF,UAAU+P,cAK3B,SAAU7O,QAAS0a,KAAO,KAAM,mBAOhC3W,iBAAiBjF,UAAU6b,gBAM3B,SAAUC,GAAI5a,QAAS0a,KAAO,KAAM,mBAMpC3W,iBAAiBjF,UAAU+b,eAK3B,SAAUN,KAAMG,KAAO,KAAM,mBAO7B3W,iBAAiBjF,UAAUgc,gBAM3B,SAAUC,SAAUC,UAAWN,KAC3B,KAAM,mBAOV3W,iBAAiBjF,UAAUmc,mBAK3B,SAAUC,IAAKR,KAAO,KAAM,mBAK5B3W,iBAAiBjF,UAAUqc,iBAI3B,SAAU5K,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUsc,cAI3B,SAAU7K,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUuc,QAI3B,SAAU9K,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUwc,oBAI3B,SAAU/K,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUyc,MAI3B,SAAUjL,MAAQ,KAAM,mBAMxBvM,iBAAiBjF,UAAU0c,uBAK3B,SAAU3N,QAASnE,MAAQ,KAAM,mBAMjC3F,iBAAiBjF,UAAU2c,qBAK3B,SAAU5N,QAASnE,MAAQ,KAAM,mBAKjC3F,iBAAiBjF,UAAU4c,UAI3B,SAAU7N,SAAW,KAAM,mBAM3B9J,iBAAiBjF,UAAU0Q,SAK3B,SAAU3B,QAAS8N,WAAa,KAAM,mBAMtC5X,iBAAiBjF,UAAU2Q,YAK3B,SAAU5B,QAAS8N,WAAa,KAAM,mBAMtC5X,iBAAiBjF,UAAU8c,SAK3B,SAAU/N,QAAS8N,WAAa,KAAM,mBAOtC5X,iBAAiBjF,UAAU4Q,SAM3B,SAAU7B,QAASgO,UAAWC,YAAc,KAAM,mBAMlD/X,iBAAiBjF,UAAU6Q,YAK3B,SAAU9B,QAASgO,WAAa,KAAM,mBAMtC9X,iBAAiBjF,UAAUid,SAK3B,SAAUlO,QAASgO,WAAa,KAAM,mBAOtC9X,iBAAiBjF,UAAUkd,SAM3B,SAAUnO,QAASgO,UAAWC,YAC1B,KAAM,mBAMV/X,iBAAiBjF,UAAUkB,QAI3B,SAAU6N,SAAW,KAAM,mBAK3B9J,iBAAiBjF,UAAUmd,aAI3B,SAAUpO,SAAW,KAAM,mBAM3B9J,iBAAiBjF,UAAUod,aAK3B,SAAUrO,QAASsO,WAAa,KAAM,mBAOtCpY,iBAAiBjF,UAAUsd,eAM3B,SAAUvO,QAAS+M,GAAIuB,WAAa,KAAM,mBAM1CpY,iBAAiBjF,UAAUud,aAK3B,SAAUxO,QAASsO,WAAa,KAAM,mBAOtCpY,iBAAiBjF,UAAUwd,eAM3B,SAAUzO,QAAS+M,GAAIuB,WAAa,KAAM,mBAO1CpY,iBAAiBjF,UAAUwQ,aAM3B,SAAUzB,QAASnE,KAAMvJ,OAAS,KAAM,mBAQxC4D,iBAAiBjF,UAAUyd,eAO3B,SAAU1O,QAAS+M,GAAIlR,KAAMvJ,OAAS,KAAM,mBAM5C4D,iBAAiBjF,UAAUyQ,gBAK3B,SAAU1B,QAASsO,WAAa,KAAM,mBAOtCpY,iBAAiBjF,UAAU0d,kBAM3B,SAAU3O,QAAS+M,GAAIuB,WAAa,KAAM,mBAK1CpY,iBAAiBjF,UAAU2d,kBAI3B,SAAUlM,IAAM,KAAM,mBAItBxM,iBAAiBjF,UAAU4d,mBAG3B,WAAc,KAAM,mBAIpB3Y,iBAAiBjF,UAAU6d,mBAG3B,WAAc,KAAM,mBAKpB5Y,iBAAiBjF,UAAU8d,sBAI3B,SAAUrM,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAU+d,SAI3B,SAAUnC,KAAO,KAAM,mBAMvB3W,iBAAiBjF,UAAUge,SAK3B,SAAUpC,IAAKqC,UAAY,KAAM,mBAMjChZ,iBAAiBjF,UAAUke,eAK3B,SAAUC,EAAGrM,UAAY,KAAM,mBAK/B7M,iBAAiBjF,UAAUoe,kBAI3B,SAAU3M,IAAM,KAAM,mBAKtBxM,iBAAiBjF,UAAUqe,WAI3B,SAAU7M,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAUse,cAI3B,SAAU9M,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAUue,cAI3B,SAAU/M,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAUwe,cAI3B,SAAUhN,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAUye,aAI3B,SAAUjN,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAU0e,cAI3B,SAAUlN,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAU2e,UAI3B,SAAUnN,MAAQ,KAAM,mBAKxBvM,iBAAiBjF,UAAU4e,QAI3B,SAAU7P,SAAW,KAAM,mBAK3B9J,iBAAiBjF,UAAU6e,YAI3B,SAAU3P,OAAS,KAAM,mBAOzBjK,iBAAiBjF,UAAU8e,kBAM3B,SAAU/P,QAASgQ,QAASxX,MAAQ,KAAM,mBAI1CtC,iBAAiBjF,UAAUgf,kBAG3B,WAAc,KAAM,mBAIpB/Z,iBAAiBjF,UAAUif,wBAG3B,WAAc,KAAM,mBAMpBha,iBAAiBjF,UAAUkf,qBAK3B,SAAUtD,IAAKxa,QAAU,KAAM,mBAI/B6D,iBAAiBjF,UAAUmf,WAG3B,WAAc,KAAM,mBAIpBla,iBAAiBjF,UAAUof,YAG3B,WAAc,KAAM,mBAKpBna,iBAAiBjF,UAAUqf,YAI3B,SAAUzD,KAAO,KAAM,mBAIvB3W,iBAAiBjF,UAAUsf,iBAG3B,WAAc,KAAM,mBAIpBra,iBAAiBjF,UAAUuf,aAG3B,WAAc,MAAO,mBAOrBta,iBAAiBjF,UAAUwf,QAM3B,SAAUzQ,QAASnE,KAAMvJ,OAAS,KAAM,mBAKxC4D,iBAAiBjF,UAAUyf,iBAI3B,SAAU1Q,SAAW,KAAM,mBAM3B9J,iBAAiBjF,UAAU0f,QAK3B,SAAU3Q,QAASnE,MAAQ,KAAM,mBAIjC3F,iBAAiBjF,UAAU2f,eAG3B,WAAc,KAAM,mBAIpB1a,iBAAiBjF,UAAU4f,mBAG3B,WAAc,KAAM,mBAIpB3a,iBAAiBjF,UAAU6f,iBAG3B,WAAc,KAAM,mBAIpB5a,iBAAiBjF,UAAU8f,kBAG3B,WAAc,KAAM,mBAIpB7a,iBAAiBjF,UAAU+f,qBAG3B,WAAc,KAAM,mBAIpB9a,iBAAiBjF,UAAUggB,gBAG3B,WAAc,OAAO,GAKrB/a,iBAAiBjF,UAAUigB,UAI3B,SAAUrV,MAAQ,KAAM,mBAMxB3F,iBAAiBjF,UAAUkgB,UAK3B,SAAUtV,KAAMvJ,OAAS,KAAM,mBACxB4D,kBACTxF,yBAAyB0gB,aAgBvBC,kBAAoB5gB,cAAcsU,sBAAsBtU,cAAcuU,aAAc,cAAgBxO,QAAS/F,cAAcoU,YAAapO,SAAUjG,gBAAgB8gB,2BAQlKtb,cACAiI,YAAa,SAAUvC,QAAS6V,gBAC5B,YAAiC7V,QAAS6V,kBAyB9CC,gBAAmB,WACnB,QAASA,oBA0BT,MAxBAA,iBAAgBrZ,aACVC,KAAM3H,cAAcghB,SAAUtV,OACpBuV,WACIhhB,yBAAyBkT,gCACzB3K,YACEzC,QAAS9F,yBAAyBmT,SAAUpN,SAAU,OACtDD,QAAS+D,2BAA4BwJ,SAAUvJ,8BAC/ChE,QAASiI,4BAA6BsF,SAAUrF,8BAClDsJ,2BACExR,QAAS/F,cAAc4S,iBAAkBK,YAAasE,4BACtDxR,QAASU,cAAeT,UAAU,GACpCW,aACEZ,QAAS/F,cAAc+D,aAAcgP,WAAY1N,aAAc2N,UAC/DjN,QAASvD,WAAYuQ,WAAYzN,iBAAkB0N,MAAOhT,cAAc0C,UACxEqD,QAAS/F,cAAc8W,gBAAiB9Q,SAAUR,eAAgB0N,OAAO,IAE/E9T,SACIW,gBAAgBmhB,aAChBlhB,cAAcmhB,uBAKlCJ,gBAAgBlZ,eAAiB,WAAc,UACxCkZ,kBAwBX3hB,SAAQoV,QAAUA,QAClBpV,QAAQqL,oBAAsBA,oBAC9BrL,QAAQ0K,2BAA6BA,2BACrC1K,QAAQqN,MAAQA,MAChBrN,QAAQsN,YAAcA,YACtBtN,QAAQoD,WAAaA,WACrBpD,QAAQ+O,qBAAuBA,qBAC/B/O,QAAQ4O,4BAA8BA,4BACtC5O,QAAQoW,6BAA+BA,6BACvCpW,QAAQyX,8BAAgCA,8BACxCzX,QAAQ2hB,gBAAkBA,gBAC1B3hB,QAAQwhB,kBAAoBA,kBAC5BxhB,QAAQ0G,iBAAmBA,iBAC3B1G,QAAQsG,kBAAoBA,kBAC5BtG,QAAQgiB,GAAK3a,cACbrH,QAAQiiB,GAAKtX,4BACb3K,QAAQkiB,GAAK3a,YACbvH,QAAQmiB,GAAK/Y,WACbpJ,QAAQoiB,GAAKvT,6BACb7O,QAAQqiB,GAAKvc,iBACb9F,QAAQsiB,GAAK3c,oBACb3F,QAAQuiB,GAAKlM,0BACbrW,QAAQwiB,GAAKrK,0BACbnY,QAAQyiB,GAAKvc,iBACblG,QAAQ0iB,GAAKzc,aACbjG,QAAQ2iB,GAAKvc,eACbpG,QAAQ4iB,GAAKlP,8BAEbrS,OAAO4V,eAAejX,QAAS,cAAgByC,OAAO","file":"/home/travis/build/angular/angular/dist/packages-dist/platform-webworker/bundles/platform-webworker.umd.min.js","sourcesContent":["/**\n * @license Angular v5.0.0-beta.6-3f585ba\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/common'), require('@angular/core'), require('@angular/platform-browser')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', '@angular/common', '@angular/core', '@angular/platform-browser'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.platformWebworker = {}),global.ng.common,global.ng.core,global.ng.platformBrowser));\n}(this, (function (exports,_angular_common,_angular_core,_angular_platformBrowser) { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n/**\n * @license Angular v5.0.0-beta.6-3f585ba\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ON_WEB_WORKER = new _angular_core.InjectionToken('WebWorker.onWebWorker');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Message Bus is a low level API used to communicate between the UI and the background.\n * Communication is based on a channel abstraction. Messages published in a\n * given channel to one MessageBusSink are received on the same channel\n * by the corresponding MessageBusSource.\n *\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @abstract\n */\nvar MessageBus = (function () {\n    function MessageBus() {\n    }\n    return MessageBus;\n}());\n/**\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @record\n */\n\n/**\n * \\@experimental WebWorker support in Angular is currenlty experimental.\n * @record\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar RenderStore = (function () {\n    function RenderStore() {\n        this._nextIndex = 0;\n        this._lookupById = new Map();\n        this._lookupByObject = new Map();\n    }\n    /**\n     * @return {?}\n     */\n    RenderStore.prototype.allocateId = /**\n     * @return {?}\n     */\n    function () { return this._nextIndex++; };\n    /**\n     * @param {?} obj\n     * @param {?} id\n     * @return {?}\n     */\n    RenderStore.prototype.store = /**\n     * @param {?} obj\n     * @param {?} id\n     * @return {?}\n     */\n    function (obj, id) {\n        if (id == null)\n            return;\n        this._lookupById.set(id, obj);\n        this._lookupByObject.set(obj, id);\n    };\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n    RenderStore.prototype.remove = /**\n     * @param {?} obj\n     * @return {?}\n     */\n    function (obj) {\n        var /** @type {?} */ index = this._lookupByObject.get(obj);\n        if (index != null) {\n            this._lookupByObject.delete(obj);\n            this._lookupById.delete(index);\n        }\n    };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    RenderStore.prototype.deserialize = /**\n     * @param {?} id\n     * @return {?}\n     */\n    function (id) {\n        return this._lookupById.has(id) ? this._lookupById.get(id) : null;\n    };\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n    RenderStore.prototype.serialize = /**\n     * @param {?} obj\n     * @return {?}\n     */\n    function (obj) {\n        return obj == null ? null : this._lookupByObject.get(obj);\n    };\n    RenderStore.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    RenderStore.ctorParameters = function () { return []; };\n    return RenderStore;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar LocationType = (function () {\n    function LocationType(href, protocol, host, hostname, port, pathname, search, hash, origin) {\n        this.href = href;\n        this.protocol = protocol;\n        this.host = host;\n        this.hostname = hostname;\n        this.port = port;\n        this.pathname = pathname;\n        this.search = search;\n        this.hash = hash;\n        this.origin = origin;\n    }\n    return LocationType;\n}());\nvar Serializer = (function () {\n    function Serializer(_renderStore) {\n        this._renderStore = _renderStore;\n    }\n    /**\n     * @param {?} obj\n     * @param {?=} type\n     * @return {?}\n     */\n    Serializer.prototype.serialize = /**\n     * @param {?} obj\n     * @param {?=} type\n     * @return {?}\n     */\n    function (obj, type) {\n        var _this = this;\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        if (obj == null || type === 1 /* PRIMITIVE */) {\n            return obj;\n        }\n        if (Array.isArray(obj)) {\n            return obj.map(function (v) { return _this.serialize(v, type); });\n        }\n        if (type === 2 /* RENDER_STORE_OBJECT */) {\n            return /** @type {?} */ ((this._renderStore.serialize(obj)));\n        }\n        if (type === _angular_core.RenderComponentType) {\n            return this._serializeRenderComponentType(obj);\n        }\n        if (type === 0 /* RENDERER_TYPE_2 */) {\n            return this._serializeRendererType2(obj);\n        }\n        if (type === LocationType) {\n            return this._serializeLocation(obj);\n        }\n        throw new Error(\"No serializer for type \" + _angular_core.ɵstringify(type));\n    };\n    /**\n     * @param {?} map\n     * @param {?=} type\n     * @param {?=} data\n     * @return {?}\n     */\n    Serializer.prototype.deserialize = /**\n     * @param {?} map\n     * @param {?=} type\n     * @param {?=} data\n     * @return {?}\n     */\n    function (map, type, data) {\n        var _this = this;\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        if (map == null || type === 1 /* PRIMITIVE */) {\n            return map;\n        }\n        if (Array.isArray(map)) {\n            return map.map(function (val) { return _this.deserialize(val, type, data); });\n        }\n        if (type === 2 /* RENDER_STORE_OBJECT */) {\n            return this._renderStore.deserialize(map);\n        }\n        if (type === _angular_core.RenderComponentType) {\n            return this._deserializeRenderComponentType(map);\n        }\n        if (type === 0 /* RENDERER_TYPE_2 */) {\n            return this._deserializeRendererType2(map);\n        }\n        if (type === LocationType) {\n            return this._deserializeLocation(map);\n        }\n        throw new Error(\"No deserializer for type \" + _angular_core.ɵstringify(type));\n    };\n    /**\n     * @param {?} loc\n     * @return {?}\n     */\n    Serializer.prototype._serializeLocation = /**\n     * @param {?} loc\n     * @return {?}\n     */\n    function (loc) {\n        return {\n            'href': loc.href,\n            'protocol': loc.protocol,\n            'host': loc.host,\n            'hostname': loc.hostname,\n            'port': loc.port,\n            'pathname': loc.pathname,\n            'search': loc.search,\n            'hash': loc.hash,\n            'origin': loc.origin,\n        };\n    };\n    /**\n     * @param {?} loc\n     * @return {?}\n     */\n    Serializer.prototype._deserializeLocation = /**\n     * @param {?} loc\n     * @return {?}\n     */\n    function (loc) {\n        return new LocationType(loc['href'], loc['protocol'], loc['host'], loc['hostname'], loc['port'], loc['pathname'], loc['search'], loc['hash'], loc['origin']);\n    };\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n    Serializer.prototype._serializeRenderComponentType = /**\n     * @param {?} type\n     * @return {?}\n     */\n    function (type) {\n        return {\n            'id': type.id,\n            'templateUrl': type.templateUrl,\n            'slotCount': type.slotCount,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n        };\n    };\n    /**\n     * @param {?} props\n     * @return {?}\n     */\n    Serializer.prototype._deserializeRenderComponentType = /**\n     * @param {?} props\n     * @return {?}\n     */\n    function (props) {\n        return new _angular_core.RenderComponentType(props['id'], props['templateUrl'], props['slotCount'], this.deserialize(props['encapsulation']), this.deserialize(props['styles']), {});\n    };\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n    Serializer.prototype._serializeRendererType2 = /**\n     * @param {?} type\n     * @return {?}\n     */\n    function (type) {\n        return {\n            'id': type.id,\n            'encapsulation': this.serialize(type.encapsulation),\n            'styles': this.serialize(type.styles),\n            'data': this.serialize(type.data),\n        };\n    };\n    /**\n     * @param {?} props\n     * @return {?}\n     */\n    Serializer.prototype._deserializeRendererType2 = /**\n     * @param {?} props\n     * @return {?}\n     */\n    function (props) {\n        return {\n            id: props['id'],\n            encapsulation: props['encapsulation'],\n            styles: this.deserialize(props['styles']),\n            data: this.deserialize(props['data'])\n        };\n    };\n    Serializer.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    Serializer.ctorParameters = function () { return [\n        { type: RenderStore, },\n    ]; };\n    return Serializer;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n * @abstract\n */\nvar ClientMessageBrokerFactory = (function () {\n    function ClientMessageBrokerFactory() {\n    }\n    return ClientMessageBrokerFactory;\n}());\nvar ClientMessageBrokerFactory_ = (function (_super) {\n    __extends(ClientMessageBrokerFactory_, _super);\n    function ClientMessageBrokerFactory_(_messageBus, _serializer) {\n        var _this = _super.call(this) || this;\n        _this._messageBus = _messageBus;\n        _this._serializer = _serializer;\n        return _this;\n    }\n    /**\n     * Initializes the given channel and attaches a new {@link ClientMessageBroker} to it.\n     */\n    /**\n     * Initializes the given channel and attaches a new {\\@link ClientMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    ClientMessageBrokerFactory_.prototype.createMessageBroker = /**\n     * Initializes the given channel and attaches a new {\\@link ClientMessageBroker} to it.\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ClientMessageBroker_(this._messageBus, this._serializer, channel);\n    };\n    ClientMessageBrokerFactory_.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ClientMessageBrokerFactory_.ctorParameters = function () { return [\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return ClientMessageBrokerFactory_;\n}(ClientMessageBrokerFactory));\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n * @abstract\n */\nvar ClientMessageBroker = (function () {\n    function ClientMessageBroker() {\n    }\n    return ClientMessageBroker;\n}());\nvar ClientMessageBroker_ = (function (_super) {\n    __extends(ClientMessageBroker_, _super);\n    function ClientMessageBroker_(messageBus, _serializer, channel) {\n        var _this = _super.call(this) || this;\n        _this.channel = channel;\n        _this._pending = new Map();\n        _this._sink = messageBus.to(channel);\n        _this._serializer = _serializer;\n        var /** @type {?} */ source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n        return _this;\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    ClientMessageBroker_.prototype._generateMessageId = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) {\n        var /** @type {?} */ time = _angular_core.ɵstringify(new Date().getTime());\n        var /** @type {?} */ iteration = 0;\n        var /** @type {?} */ id = name + time + _angular_core.ɵstringify(iteration);\n        while (this._pending.has(id)) {\n            id = \"\" + name + time + iteration;\n            iteration++;\n        }\n        return id;\n    };\n    /**\n     * @param {?} args\n     * @param {?} returnType\n     * @return {?}\n     */\n    ClientMessageBroker_.prototype.runOnService = /**\n     * @param {?} args\n     * @param {?} returnType\n     * @return {?}\n     */\n    function (args, returnType) {\n        var _this = this;\n        var /** @type {?} */ fnArgs = [];\n        if (args.args) {\n            args.args.forEach(function (argument) {\n                if (argument.type != null) {\n                    fnArgs.push(_this._serializer.serialize(argument.value, argument.type));\n                }\n                else {\n                    fnArgs.push(argument.value);\n                }\n            });\n        }\n        var /** @type {?} */ promise;\n        var /** @type {?} */ id = null;\n        if (returnType != null) {\n            var /** @type {?} */ completer_1 = /** @type {?} */ ((undefined));\n            promise = new Promise(function (resolve, reject) { completer_1 = { resolve: resolve, reject: reject }; });\n            id = this._generateMessageId(args.method);\n            this._pending.set(id, completer_1);\n            promise.catch(function (err) {\n                if (console && console.error) {\n                    // tslint:disable-next-line:no-console\n                    console.error(err);\n                }\n                completer_1.reject(err);\n            });\n            promise = promise.then(function (v) { return _this._serializer ? _this._serializer.deserialize(v, returnType) : v; });\n        }\n        else {\n            promise = null;\n        }\n        var /** @type {?} */ message = {\n            'method': args.method,\n            'args': fnArgs,\n        };\n        if (id != null) {\n            message['id'] = id;\n        }\n        this._sink.emit(message);\n        return promise;\n    };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    ClientMessageBroker_.prototype._handleMessage = /**\n     * @param {?} message\n     * @return {?}\n     */\n    function (message) {\n        if (message.type === 'result' || message.type === 'error') {\n            var /** @type {?} */ id = /** @type {?} */ ((message.id));\n            if (this._pending.has(id)) {\n                if (message.type === 'result') {\n                    /** @type {?} */ ((this._pending.get(id))).resolve(message.value);\n                }\n                else {\n                    /** @type {?} */ ((this._pending.get(id))).reject(message.value);\n                }\n                this._pending.delete(id);\n            }\n        }\n    };\n    return ClientMessageBroker_;\n}(ClientMessageBroker));\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar FnArg = (function () {\n    function FnArg(value, type) {\n        if (type === void 0) { type = 1 /* PRIMITIVE */; }\n        this.value = value;\n        this.type = type;\n    }\n    return FnArg;\n}());\n/**\n * \\@experimental WebWorker support in Angular is experimental.\n */\nvar UiArguments = (function () {\n    function UiArguments(method, args) {\n        this.method = method;\n        this.args = args;\n    }\n    return UiArguments;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @record\n */\n\nvar PostMessageBusSink = (function () {\n    function PostMessageBusSink(_postMessageTarget) {\n        this._postMessageTarget = _postMessageTarget;\n        this._channels = {};\n        this._messageBuffer = [];\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.attachToZone = /**\n     * @param {?} zone\n     * @return {?}\n     */\n    function (zone) {\n        var _this = this;\n        this._zone = zone;\n        this._zone.runOutsideAngular(function () { _this._zone.onStable.subscribe({ next: function () { _this._handleOnEventDone(); } }); });\n    };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.initChannel = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        var _this = this;\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var /** @type {?} */ emitter = new _angular_core.EventEmitter(false);\n        var /** @type {?} */ channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n        emitter.subscribe(function (data) {\n            var /** @type {?} */ message = { channel: channel, message: data };\n            if (runInZone) {\n                _this._messageBuffer.push(message);\n            }\n            else {\n                _this._sendMessages([message]);\n            }\n        });\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBusSink.prototype.to = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    /**\n     * @return {?}\n     */\n    PostMessageBusSink.prototype._handleOnEventDone = /**\n     * @return {?}\n     */\n    function () {\n        if (this._messageBuffer.length > 0) {\n            this._sendMessages(this._messageBuffer);\n            this._messageBuffer = [];\n        }\n    };\n    /**\n     * @param {?} messages\n     * @return {?}\n     */\n    PostMessageBusSink.prototype._sendMessages = /**\n     * @param {?} messages\n     * @return {?}\n     */\n    function (messages) { this._postMessageTarget.postMessage(messages); };\n    return PostMessageBusSink;\n}());\nvar PostMessageBusSource = (function () {\n    function PostMessageBusSource(eventTarget) {\n        var _this = this;\n        this._channels = {};\n        if (eventTarget) {\n            eventTarget.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n        else {\n            // if no eventTarget is given we assume we're in a WebWorker and listen on the global scope\n            var /** @type {?} */ workerScope = /** @type {?} */ (self);\n            workerScope.addEventListener('message', function (ev) { return _this._handleMessages(ev); });\n        }\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.attachToZone = /**\n     * @param {?} zone\n     * @return {?}\n     */\n    function (zone) { this._zone = zone; };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.initChannel = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        if (this._channels.hasOwnProperty(channel)) {\n            throw new Error(channel + \" has already been initialized\");\n        }\n        var /** @type {?} */ emitter = new _angular_core.EventEmitter(false);\n        var /** @type {?} */ channelInfo = new _Channel(emitter, runInZone);\n        this._channels[channel] = channelInfo;\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBusSource.prototype.from = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) {\n        if (this._channels.hasOwnProperty(channel)) {\n            return this._channels[channel].emitter;\n        }\n        else {\n            throw new Error(channel + \" is not set up. Did you forget to call initChannel?\");\n        }\n    };\n    /**\n     * @param {?} ev\n     * @return {?}\n     */\n    PostMessageBusSource.prototype._handleMessages = /**\n     * @param {?} ev\n     * @return {?}\n     */\n    function (ev) {\n        var /** @type {?} */ messages = ev.data;\n        for (var /** @type {?} */ i = 0; i < messages.length; i++) {\n            this._handleMessage(messages[i]);\n        }\n    };\n    /**\n     * @param {?} data\n     * @return {?}\n     */\n    PostMessageBusSource.prototype._handleMessage = /**\n     * @param {?} data\n     * @return {?}\n     */\n    function (data) {\n        var /** @type {?} */ channel = data.channel;\n        if (this._channels.hasOwnProperty(channel)) {\n            var /** @type {?} */ channelInfo_1 = this._channels[channel];\n            if (channelInfo_1.runInZone) {\n                this._zone.run(function () { channelInfo_1.emitter.emit(data.message); });\n            }\n            else {\n                channelInfo_1.emitter.emit(data.message);\n            }\n        }\n    };\n    return PostMessageBusSource;\n}());\n/**\n * A TypeScript implementation of {\\@link MessageBus} for communicating via JavaScript's\n * postMessage API.\n */\nvar PostMessageBus = (function () {\n    function PostMessageBus(sink, source) {\n        this.sink = sink;\n        this.source = source;\n    }\n    /**\n     * @param {?} zone\n     * @return {?}\n     */\n    PostMessageBus.prototype.attachToZone = /**\n     * @param {?} zone\n     * @return {?}\n     */\n    function (zone) {\n        this.source.attachToZone(zone);\n        this.sink.attachToZone(zone);\n    };\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    PostMessageBus.prototype.initChannel = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this.source.initChannel(channel, runInZone);\n        this.sink.initChannel(channel, runInZone);\n    };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBus.prototype.from = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) { return this.source.from(channel); };\n    /**\n     * @param {?} channel\n     * @return {?}\n     */\n    PostMessageBus.prototype.to = /**\n     * @param {?} channel\n     * @return {?}\n     */\n    function (channel) { return this.sink.to(channel); };\n    PostMessageBus.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    PostMessageBus.ctorParameters = function () { return [\n        { type: PostMessageBusSink, },\n        { type: PostMessageBusSource, },\n    ]; };\n    return PostMessageBus;\n}());\n/**\n * Helper class that wraps a channel's {\\@link EventEmitter} and\n * keeps track of if it should run in the zone.\n */\nvar _Channel = (function () {\n    function _Channel(emitter, runInZone) {\n        this.emitter = emitter;\n        this.runInZone = runInZone;\n    }\n    return _Channel;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental WebWorker support in Angular is currently experimental.\n * @abstract\n */\nvar ServiceMessageBrokerFactory = (function () {\n    function ServiceMessageBrokerFactory() {\n    }\n    return ServiceMessageBrokerFactory;\n}());\nvar ServiceMessageBrokerFactory_ = (function (_super) {\n    __extends(ServiceMessageBrokerFactory_, _super);\n    function ServiceMessageBrokerFactory_(_messageBus, _serializer) {\n        var _this = _super.call(this) || this;\n        _this._messageBus = _messageBus;\n        _this._serializer = _serializer;\n        return _this;\n    }\n    /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    ServiceMessageBrokerFactory_.prototype.createMessageBroker = /**\n     * @param {?} channel\n     * @param {?=} runInZone\n     * @return {?}\n     */\n    function (channel, runInZone) {\n        if (runInZone === void 0) { runInZone = true; }\n        this._messageBus.initChannel(channel, runInZone);\n        return new ServiceMessageBroker_(this._messageBus, this._serializer, channel);\n    };\n    ServiceMessageBrokerFactory_.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    ServiceMessageBrokerFactory_.ctorParameters = function () { return [\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return ServiceMessageBrokerFactory_;\n}(ServiceMessageBrokerFactory));\n/**\n * Helper class for UIComponents that allows components to register methods.\n * If a registered method message is received from the broker on the worker,\n * the UIMessageBroker deserializes its arguments and calls the registered method.\n * If that method returns a promise, the UIMessageBroker returns the result to the worker.\n *\n * \\@experimental WebWorker support in Angular is currently experimental.\n * @abstract\n */\nvar ServiceMessageBroker = (function () {\n    function ServiceMessageBroker() {\n    }\n    return ServiceMessageBroker;\n}());\nvar ServiceMessageBroker_ = (function (_super) {\n    __extends(ServiceMessageBroker_, _super);\n    function ServiceMessageBroker_(messageBus, _serializer, channel) {\n        var _this = _super.call(this) || this;\n        _this._serializer = _serializer;\n        _this.channel = channel;\n        _this._methods = new Map();\n        _this._sink = messageBus.to(channel);\n        var /** @type {?} */ source = messageBus.from(channel);\n        source.subscribe({ next: function (message) { return _this._handleMessage(message); } });\n        return _this;\n    }\n    /**\n     * @param {?} methodName\n     * @param {?} signature\n     * @param {?} method\n     * @param {?=} returnType\n     * @return {?}\n     */\n    ServiceMessageBroker_.prototype.registerMethod = /**\n     * @param {?} methodName\n     * @param {?} signature\n     * @param {?} method\n     * @param {?=} returnType\n     * @return {?}\n     */\n    function (methodName, signature, method, returnType) {\n        var _this = this;\n        this._methods.set(methodName, function (message) {\n            var /** @type {?} */ serializedArgs = message.args;\n            var /** @type {?} */ numArgs = signature ? signature.length : 0;\n            var /** @type {?} */ deserializedArgs = new Array(numArgs);\n            for (var /** @type {?} */ i = 0; i < numArgs; i++) {\n                var /** @type {?} */ serializedArg = serializedArgs[i];\n                deserializedArgs[i] = _this._serializer.deserialize(serializedArg, signature[i]);\n            }\n            var /** @type {?} */ promise = method.apply(void 0, deserializedArgs);\n            if (returnType && promise) {\n                _this._wrapWebWorkerPromise(message.id, promise, returnType);\n            }\n        });\n    };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    ServiceMessageBroker_.prototype._handleMessage = /**\n     * @param {?} message\n     * @return {?}\n     */\n    function (message) {\n        if (this._methods.has(message.method)) {\n            /** @type {?} */ ((this._methods.get(message.method)))(message);\n        }\n    };\n    /**\n     * @param {?} id\n     * @param {?} promise\n     * @param {?} type\n     * @return {?}\n     */\n    ServiceMessageBroker_.prototype._wrapWebWorkerPromise = /**\n     * @param {?} id\n     * @param {?} promise\n     * @param {?} type\n     * @return {?}\n     */\n    function (id, promise, type) {\n        var _this = this;\n        promise.then(function (result) {\n            _this._sink.emit({\n                'type': 'result',\n                'value': _this._serializer.serialize(result, type),\n                'id': id,\n            });\n        });\n    };\n    return ServiceMessageBroker_;\n}(ServiceMessageBroker));\n/**\n * \\@experimental WebWorker support in Angular is currently experimental.\n * @record\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * All channels used by angular's WebWorker components are listed here.\n * You should not use these channels in your application code.\n */\nvar RENDERER_2_CHANNEL = 'v2.ng-Renderer';\nvar EVENT_2_CHANNEL = 'v2.ng-Events';\nvar ROUTER_CHANNEL = 'ng-Router';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MOUSE_EVENT_PROPERTIES = [\n    'altKey', 'button', 'clientX', 'clientY', 'metaKey', 'movementX', 'movementY', 'offsetX',\n    'offsetY', 'region', 'screenX', 'screenY', 'shiftKey'\n];\nvar KEYBOARD_EVENT_PROPERTIES = [\n    'altkey', 'charCode', 'code', 'ctrlKey', 'isComposing', 'key', 'keyCode', 'location', 'metaKey',\n    'repeat', 'shiftKey', 'which'\n];\nvar TRANSITION_EVENT_PROPERTIES = ['propertyName', 'elapsedTime', 'pseudoElement'];\nvar EVENT_PROPERTIES = ['type', 'bubbles', 'cancelable'];\nvar NODES_WITH_VALUE = new Set(['input', 'select', 'option', 'button', 'li', 'meter', 'progress', 'param', 'textarea']);\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeGenericEvent(e) {\n    return serializeEvent(e, EVENT_PROPERTIES);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeEventWithTarget(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeMouseEvent(e) {\n    return serializeEvent(e, MOUSE_EVENT_PROPERTIES);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeKeyboardEvent(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, KEYBOARD_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction serializeTransitionEvent(e) {\n    var /** @type {?} */ serializedEvent = serializeEvent(e, TRANSITION_EVENT_PROPERTIES);\n    return addTarget(e, serializedEvent);\n}\n/**\n * @param {?} e\n * @param {?} serializedEvent\n * @return {?}\n */\nfunction addTarget(e, serializedEvent) {\n    if (NODES_WITH_VALUE.has((/** @type {?} */ (e.target)).tagName.toLowerCase())) {\n        var /** @type {?} */ target = /** @type {?} */ (e.target);\n        serializedEvent['target'] = { 'value': target.value };\n        if (target.files) {\n            serializedEvent['target']['files'] = target.files;\n        }\n    }\n    return serializedEvent;\n}\n/**\n * @param {?} e\n * @param {?} properties\n * @return {?}\n */\nfunction serializeEvent(e, properties) {\n    var /** @type {?} */ serialized = {};\n    for (var /** @type {?} */ i = 0; i < properties.length; i++) {\n        var /** @type {?} */ prop = properties[i];\n        serialized[prop] = e[prop];\n    }\n    return serialized;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar EventDispatcher = (function () {\n    function EventDispatcher(_sink, _serializer) {\n        this._sink = _sink;\n        this._serializer = _serializer;\n    }\n    /**\n     * @param {?} player\n     * @param {?} phaseName\n     * @param {?} element\n     * @return {?}\n     */\n    EventDispatcher.prototype.dispatchAnimationEvent = /**\n     * @param {?} player\n     * @param {?} phaseName\n     * @param {?} element\n     * @return {?}\n     */\n    function (player, phaseName, element) {\n        this._sink.emit({\n            'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n            'animationPlayer': this._serializer.serialize(player, 2 /* RENDER_STORE_OBJECT */),\n            'phaseName': phaseName,\n        });\n        return true;\n    };\n    /**\n     * @param {?} element\n     * @param {?} eventTarget\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    EventDispatcher.prototype.dispatchRenderEvent = /**\n     * @param {?} element\n     * @param {?} eventTarget\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    function (element, eventTarget, eventName, event) {\n        var /** @type {?} */ serializedEvent;\n        // TODO (jteplitz602): support custom events #3350\n        switch (event.type) {\n            case 'click':\n            case 'mouseup':\n            case 'mousedown':\n            case 'dblclick':\n            case 'contextmenu':\n            case 'mouseenter':\n            case 'mouseleave':\n            case 'mousemove':\n            case 'mouseout':\n            case 'mouseover':\n            case 'show':\n                serializedEvent = serializeMouseEvent(event);\n                break;\n            case 'keydown':\n            case 'keypress':\n            case 'keyup':\n                serializedEvent = serializeKeyboardEvent(event);\n                break;\n            case 'input':\n            case 'change':\n            case 'blur':\n                serializedEvent = serializeEventWithTarget(event);\n                break;\n            case 'abort':\n            case 'afterprint':\n            case 'beforeprint':\n            case 'cached':\n            case 'canplay':\n            case 'canplaythrough':\n            case 'chargingchange':\n            case 'chargingtimechange':\n            case 'close':\n            case 'dischargingtimechange':\n            case 'DOMContentLoaded':\n            case 'downloading':\n            case 'durationchange':\n            case 'emptied':\n            case 'ended':\n            case 'error':\n            case 'fullscreenchange':\n            case 'fullscreenerror':\n            case 'invalid':\n            case 'languagechange':\n            case 'levelfchange':\n            case 'loadeddata':\n            case 'loadedmetadata':\n            case 'obsolete':\n            case 'offline':\n            case 'online':\n            case 'open':\n            case 'orientatoinchange':\n            case 'pause':\n            case 'pointerlockchange':\n            case 'pointerlockerror':\n            case 'play':\n            case 'playing':\n            case 'ratechange':\n            case 'readystatechange':\n            case 'reset':\n            case 'scroll':\n            case 'seeked':\n            case 'seeking':\n            case 'stalled':\n            case 'submit':\n            case 'success':\n            case 'suspend':\n            case 'timeupdate':\n            case 'updateready':\n            case 'visibilitychange':\n            case 'volumechange':\n            case 'waiting':\n                serializedEvent = serializeGenericEvent(event);\n                break;\n            case 'transitionend':\n                serializedEvent = serializeTransitionEvent(event);\n                break;\n            default:\n                throw new Error(eventName + ' not supported on WebWorkers');\n        }\n        this._sink.emit({\n            'element': this._serializer.serialize(element, 2 /* RENDER_STORE_OBJECT */),\n            'eventName': eventName,\n            'eventTarget': eventTarget,\n            'event': serializedEvent,\n        });\n        // TODO(kegluneq): Eventually, we want the user to indicate from the UI side whether the event\n        // should be canceled, but for now just call `preventDefault` on the original DOM event.\n        return false;\n    };\n    return EventDispatcher;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar MessageBasedRenderer2 = (function () {\n    function MessageBasedRenderer2(_brokerFactory, _bus, _serializer, _renderStore, _rendererFactory) {\n        this._brokerFactory = _brokerFactory;\n        this._bus = _bus;\n        this._serializer = _serializer;\n        this._renderStore = _renderStore;\n        this._rendererFactory = _rendererFactory;\n    }\n    /**\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.start = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ broker = this._brokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        this._bus.initChannel(EVENT_2_CHANNEL);\n        this._eventDispatcher = new EventDispatcher(this._bus.to(EVENT_2_CHANNEL), this._serializer);\n        var _a = [\n            2 /* RENDER_STORE_OBJECT */,\n            1 /* PRIMITIVE */,\n            0 /* RENDERER_TYPE_2 */,\n        ], RSO = _a[0], P = _a[1], CRT = _a[2];\n        var /** @type {?} */ methods = [\n            ['createRenderer', this.createRenderer, RSO, CRT, P],\n            ['createElement', this.createElement, RSO, P, P, P],\n            ['createComment', this.createComment, RSO, P, P], ['createText', this.createText, RSO, P, P],\n            ['appendChild', this.appendChild, RSO, RSO, RSO],\n            ['insertBefore', this.insertBefore, RSO, RSO, RSO, RSO],\n            ['removeChild', this.removeChild, RSO, RSO, RSO],\n            ['selectRootElement', this.selectRootElement, RSO, P, P],\n            ['parentNode', this.parentNode, RSO, RSO, P], ['nextSibling', this.nextSibling, RSO, RSO, P],\n            ['setAttribute', this.setAttribute, RSO, RSO, P, P, P],\n            ['removeAttribute', this.removeAttribute, RSO, RSO, P, P],\n            ['addClass', this.addClass, RSO, RSO, P], ['removeClass', this.removeClass, RSO, RSO, P],\n            ['setStyle', this.setStyle, RSO, RSO, P, P, P],\n            ['removeStyle', this.removeStyle, RSO, RSO, P, P],\n            ['setProperty', this.setProperty, RSO, RSO, P, P], ['setValue', this.setValue, RSO, RSO, P],\n            ['listen', this.listen, RSO, RSO, P, P, P], ['unlisten', this.unlisten, RSO, RSO],\n            ['destroy', this.destroy, RSO], ['destroyNode', this.destroyNode, RSO, P]\n        ];\n        methods.forEach(function (_a) {\n            var name = _a[0], method = _a[1], argTypes = _a.slice(2);\n            broker.registerMethod(name, argTypes, method.bind(_this));\n        });\n    };\n    /**\n     * @param {?} r\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.destroy = /**\n     * @param {?} r\n     * @return {?}\n     */\n    function (r) { r.destroy(); };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.destroyNode = /**\n     * @param {?} r\n     * @param {?} node\n     * @return {?}\n     */\n    function (r, node) {\n        if (r.destroyNode) {\n            r.destroyNode(node);\n        }\n        this._renderStore.remove(node);\n    };\n    /**\n     * @param {?} el\n     * @param {?} type\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createRenderer = /**\n     * @param {?} el\n     * @param {?} type\n     * @param {?} id\n     * @return {?}\n     */\n    function (el, type, id) {\n        this._renderStore.store(this._rendererFactory.createRenderer(el, type), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} name\n     * @param {?} namespace\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createElement = /**\n     * @param {?} r\n     * @param {?} name\n     * @param {?} namespace\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, name, namespace, id) {\n        this._renderStore.store(r.createElement(name, namespace), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createComment = /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, value, id) {\n        this._renderStore.store(r.createComment(value), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.createText = /**\n     * @param {?} r\n     * @param {?} value\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, value, id) {\n        this._renderStore.store(r.createText(value), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.appendChild = /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    function (r, parent, child) { r.appendChild(parent, child); };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @param {?} ref\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.insertBefore = /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @param {?} ref\n     * @return {?}\n     */\n    function (r, parent, child, ref) {\n        r.insertBefore(parent, child, ref);\n    };\n    /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeChild = /**\n     * @param {?} r\n     * @param {?} parent\n     * @param {?} child\n     * @return {?}\n     */\n    function (r, parent, child) { r.removeChild(parent, child); };\n    /**\n     * @param {?} r\n     * @param {?} selector\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.selectRootElement = /**\n     * @param {?} r\n     * @param {?} selector\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, selector, id) {\n        this._renderStore.store(r.selectRootElement(selector), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.parentNode = /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, node, id) {\n        this._renderStore.store(r.parentNode(node), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.nextSibling = /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} id\n     * @return {?}\n     */\n    function (r, node, id) {\n        this._renderStore.store(r.nextSibling(node), id);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?} namespace\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setAttribute = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?} namespace\n     * @return {?}\n     */\n    function (r, el, name, value, namespace) {\n        r.setAttribute(el, name, value, namespace);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} namespace\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeAttribute = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} namespace\n     * @return {?}\n     */\n    function (r, el, name, namespace) {\n        r.removeAttribute(el, name, namespace);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.addClass = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (r, el, name) { r.addClass(el, name); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeClass = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (r, el, name) { r.removeClass(el, name); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setStyle = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    function (r, el, style, value, flags) {\n        r.setStyle(el, style, value, flags);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.removeStyle = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    function (r, el, style, flags) {\n        r.removeStyle(el, style, flags);\n    };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setProperty = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (r, el, name, value) {\n        r.setProperty(el, name, value);\n    };\n    /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.setValue = /**\n     * @param {?} r\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    function (r, node, value) { r.setValue(node, value); };\n    /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} elName\n     * @param {?} eventName\n     * @param {?} unlistenId\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.listen = /**\n     * @param {?} r\n     * @param {?} el\n     * @param {?} elName\n     * @param {?} eventName\n     * @param {?} unlistenId\n     * @return {?}\n     */\n    function (r, el, elName, eventName, unlistenId) {\n        var _this = this;\n        var /** @type {?} */ listener = function (event) {\n            return _this._eventDispatcher.dispatchRenderEvent(el, elName, eventName, event);\n        };\n        var /** @type {?} */ unlisten = r.listen(el || elName, eventName, listener);\n        this._renderStore.store(unlisten, unlistenId);\n    };\n    /**\n     * @param {?} r\n     * @param {?} unlisten\n     * @return {?}\n     */\n    MessageBasedRenderer2.prototype.unlisten = /**\n     * @param {?} r\n     * @param {?} unlisten\n     * @return {?}\n     */\n    function (r, unlisten) { unlisten(); };\n    MessageBasedRenderer2.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    MessageBasedRenderer2.ctorParameters = function () { return [\n        { type: ServiceMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n        { type: RenderStore, },\n        { type: _angular_core.RendererFactory2, },\n    ]; };\n    return MessageBasedRenderer2;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Wrapper class that exposes the Worker\n * and underlying {\\@link MessageBus} for lower level message passing.\n *\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WebWorkerInstance = (function () {\n    function WebWorkerInstance() {\n    }\n    /**\n     * \\@internal\n     * @param {?} worker\n     * @param {?} bus\n     * @return {?}\n     */\n    WebWorkerInstance.prototype.init = /**\n     * \\@internal\n     * @param {?} worker\n     * @param {?} bus\n     * @return {?}\n     */\n    function (worker, bus) {\n        this.worker = worker;\n        this.bus = bus;\n    };\n    WebWorkerInstance.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    WebWorkerInstance.ctorParameters = function () { return []; };\n    return WebWorkerInstance;\n}());\n/**\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WORKER_SCRIPT = new _angular_core.InjectionToken('WebWorkerScript');\n/**\n * A multi-provider used to automatically call the `start()` method after the service is\n * created.\n *\n * \\@experimental WebWorker support is currently experimental.\n */\nvar WORKER_UI_STARTABLE_MESSAGING_SERVICE = new _angular_core.InjectionToken('WorkerRenderStartableMsgService');\nvar _WORKER_UI_PLATFORM_PROVIDERS = [\n    { provide: _angular_core.NgZone, useFactory: createNgZone, deps: [] },\n    {\n        provide: MessageBasedRenderer2,\n        deps: [ServiceMessageBrokerFactory, MessageBus, Serializer, RenderStore, _angular_core.RendererFactory2]\n    },\n    { provide: WORKER_UI_STARTABLE_MESSAGING_SERVICE, useExisting: MessageBasedRenderer2, multi: true },\n    _angular_platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n    { provide: _angular_core.ErrorHandler, useFactory: _exceptionHandler, deps: [] },\n    { provide: _angular_platformBrowser.DOCUMENT, useFactory: _document, deps: [] },\n    // TODO(jteplitz602): Investigate if we definitely need EVENT_MANAGER on the render thread\n    // #5298\n    {\n        provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: _angular_platformBrowser.ɵDomEventsPlugin,\n        deps: [_angular_platformBrowser.DOCUMENT, _angular_core.NgZone],\n        multi: true\n    },\n    { provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS, useClass: _angular_platformBrowser.ɵKeyEventsPlugin, deps: [_angular_platformBrowser.DOCUMENT], multi: true },\n    {\n        provide: _angular_platformBrowser.EVENT_MANAGER_PLUGINS,\n        useClass: _angular_platformBrowser.ɵHammerGesturesPlugin,\n        deps: [_angular_platformBrowser.DOCUMENT, _angular_platformBrowser.HAMMER_GESTURE_CONFIG],\n        multi: true\n    },\n    { provide: _angular_platformBrowser.HAMMER_GESTURE_CONFIG, useClass: _angular_platformBrowser.HammerGestureConfig, deps: [] },\n    _angular_core.ɵAPP_ID_RANDOM_PROVIDER,\n    { provide: _angular_platformBrowser.ɵDomRendererFactory2, deps: [_angular_platformBrowser.EventManager, _angular_platformBrowser.ɵDomSharedStylesHost] },\n    { provide: _angular_core.RendererFactory2, useExisting: _angular_platformBrowser.ɵDomRendererFactory2 },\n    { provide: _angular_platformBrowser.ɵSharedStylesHost, useExisting: _angular_platformBrowser.ɵDomSharedStylesHost },\n    {\n        provide: ServiceMessageBrokerFactory,\n        useClass: ServiceMessageBrokerFactory_,\n        deps: [MessageBus, Serializer]\n    },\n    {\n        provide: ClientMessageBrokerFactory,\n        useClass: ClientMessageBrokerFactory_,\n        deps: [MessageBus, Serializer]\n    },\n    { provide: Serializer, deps: [RenderStore] },\n    { provide: ON_WEB_WORKER, useValue: false },\n    { provide: RenderStore, deps: [] },\n    { provide: _angular_platformBrowser.ɵDomSharedStylesHost, deps: [_angular_platformBrowser.DOCUMENT] },\n    { provide: _angular_core.Testability, deps: [_angular_core.NgZone] },\n    { provide: _angular_platformBrowser.EventManager, deps: [_angular_platformBrowser.EVENT_MANAGER_PLUGINS, _angular_core.NgZone] },\n    { provide: WebWorkerInstance, deps: [] },\n    {\n        provide: _angular_core.PLATFORM_INITIALIZER,\n        useFactory: initWebWorkerRenderPlatform,\n        multi: true,\n        deps: [_angular_core.Injector]\n    },\n    { provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_WORKER_UI_ID },\n    { provide: MessageBus, useFactory: messageBusFactory, deps: [WebWorkerInstance] },\n];\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initializeGenericWorkerRenderer(injector) {\n    var /** @type {?} */ bus = injector.get(MessageBus);\n    var /** @type {?} */ zone = injector.get(_angular_core.NgZone);\n    bus.attachToZone(zone);\n    // initialize message services after the bus has been created\n    var /** @type {?} */ services = injector.get(WORKER_UI_STARTABLE_MESSAGING_SERVICE);\n    zone.runGuarded(function () { services.forEach(function (svc) { svc.start(); }); });\n}\n/**\n * @param {?} instance\n * @return {?}\n */\nfunction messageBusFactory(instance) {\n    return instance.bus;\n}\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initWebWorkerRenderPlatform(injector) {\n    return function () {\n        _angular_platformBrowser.ɵBrowserDomAdapter.makeCurrent();\n        _angular_platformBrowser.ɵBrowserGetTestability.init();\n        var /** @type {?} */ scriptUri;\n        try {\n            scriptUri = injector.get(WORKER_SCRIPT);\n        }\n        catch (/** @type {?} */ e) {\n            throw new Error('You must provide your WebWorker\\'s initialization script with the WORKER_SCRIPT token');\n        }\n        var /** @type {?} */ instance = injector.get(WebWorkerInstance);\n        spawnWebWorker(scriptUri, instance);\n        initializeGenericWorkerRenderer(injector);\n    };\n}\n/**\n * \\@experimental WebWorker support is currently experimental.\n */\nvar platformWorkerUi = _angular_core.createPlatformFactory(_angular_core.platformCore, 'workerUi', _WORKER_UI_PLATFORM_PROVIDERS);\n/**\n * @return {?}\n */\nfunction _exceptionHandler() {\n    return new _angular_core.ErrorHandler();\n}\n/**\n * @return {?}\n */\nfunction _document() {\n    return document;\n}\n/**\n * @return {?}\n */\nfunction createNgZone() {\n    return new _angular_core.NgZone({ enableLongStackTrace: _angular_core.isDevMode() });\n}\n/**\n * Spawns a new class and initializes the WebWorkerInstance\n * @param {?} uri\n * @param {?} instance\n * @return {?}\n */\nfunction spawnWebWorker(uri, instance) {\n    var /** @type {?} */ webWorker = new Worker(uri);\n    var /** @type {?} */ sink = new PostMessageBusSink(webWorker);\n    var /** @type {?} */ source = new PostMessageBusSource(webWorker);\n    var /** @type {?} */ bus = new PostMessageBus(sink, source);\n    instance.init(webWorker, bus);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of the common package.\n */\n/**\n * \\@stable\n */\nvar VERSION = new _angular_core.Version('5.0.0-beta.6-3f585ba');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar MessageBasedPlatformLocation = (function () {\n    function MessageBasedPlatformLocation(_brokerFactory, _platformLocation, bus, _serializer) {\n        this._brokerFactory = _brokerFactory;\n        this._platformLocation = _platformLocation;\n        this._serializer = _serializer;\n        this._platformLocation.onPopState(/** @type {?} */ (this._sendUrlChangeEvent.bind(this)));\n        this._platformLocation.onHashChange(/** @type {?} */ (this._sendUrlChangeEvent.bind(this)));\n        this._broker = this._brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        this._channelSink = bus.to(ROUTER_CHANNEL);\n    }\n    /**\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype.start = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ P = 1;\n        this._broker.registerMethod('getLocation', null, this._getLocation.bind(this), LocationType);\n        this._broker.registerMethod('setPathname', [P], this._setPathname.bind(this));\n        this._broker.registerMethod('pushState', [P, P, P], this._platformLocation.pushState.bind(this._platformLocation));\n        this._broker.registerMethod('replaceState', [P, P, P], this._platformLocation.replaceState.bind(this._platformLocation));\n        this._broker.registerMethod('forward', null, this._platformLocation.forward.bind(this._platformLocation));\n        this._broker.registerMethod('back', null, this._platformLocation.back.bind(this._platformLocation));\n    };\n    /**\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._getLocation = /**\n     * @return {?}\n     */\n    function () {\n        return Promise.resolve(this._platformLocation.location);\n    };\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._sendUrlChangeEvent = /**\n     * @param {?} e\n     * @return {?}\n     */\n    function (e) {\n        this._channelSink.emit({\n            'event': { 'type': e.type },\n            'location': this._serializer.serialize(this._platformLocation.location, LocationType),\n        });\n    };\n    /**\n     * @param {?} pathname\n     * @return {?}\n     */\n    MessageBasedPlatformLocation.prototype._setPathname = /**\n     * @param {?} pathname\n     * @return {?}\n     */\n    function (pathname) { this._platformLocation.pathname = pathname; };\n    MessageBasedPlatformLocation.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    MessageBasedPlatformLocation.ctorParameters = function () { return [\n        { type: ServiceMessageBrokerFactory, },\n        { type: _angular_platformBrowser.ɵBrowserPlatformLocation, },\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return MessageBasedPlatformLocation;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A list of {\\@link Provider}s. To use the router in a Worker enabled application you must\n * include these providers when setting up the render thread.\n * \\@experimental\n */\nvar WORKER_UI_LOCATION_PROVIDERS = /** @type {?} */ ([\n    { provide: MessageBasedPlatformLocation, deps: [ServiceMessageBrokerFactory,\n            _angular_platformBrowser.ɵBrowserPlatformLocation, MessageBus, Serializer] },\n    { provide: _angular_platformBrowser.ɵBrowserPlatformLocation, deps: [_angular_common.DOCUMENT] },\n    { provide: _angular_core.PLATFORM_INITIALIZER, useFactory: initUiLocation, multi: true, deps: [_angular_core.Injector] }\n]);\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initUiLocation(injector) {\n    return function () {\n        var /** @type {?} */ zone = injector.get(_angular_core.NgZone);\n        zone.runGuarded(function () { return injector.get(MessageBasedPlatformLocation).start(); });\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar WebWorkerPlatformLocation = (function (_super) {\n    __extends(WebWorkerPlatformLocation, _super);\n    function WebWorkerPlatformLocation(brokerFactory, bus, _serializer) {\n        var _this = _super.call(this) || this;\n        _this._serializer = _serializer;\n        _this._popStateListeners = [];\n        _this._hashChangeListeners = [];\n        _this._location = /** @type {?} */ ((null));\n        _this._broker = brokerFactory.createMessageBroker(ROUTER_CHANNEL);\n        _this._channelSource = bus.from(ROUTER_CHANNEL);\n        _this._channelSource.subscribe({\n            next: function (msg) {\n                var /** @type {?} */ listeners = null;\n                if (msg.hasOwnProperty('event')) {\n                    var /** @type {?} */ type = msg['event']['type'];\n                    if (type === 'popstate') {\n                        listeners = _this._popStateListeners;\n                    }\n                    else if (type === 'hashchange') {\n                        listeners = _this._hashChangeListeners;\n                    }\n                    if (listeners) {\n                        // There was a popState or hashChange event, so the location object thas been updated\n                        // There was a popState or hashChange event, so the location object thas been updated\n                        _this._location = _this._serializer.deserialize(msg['location'], LocationType);\n                        listeners.forEach(function (fn) { return fn(msg['event']); });\n                    }\n                }\n            }\n        });\n        _this.initialized = new Promise(function (res) { return _this.initializedResolve = res; });\n        return _this;\n    }\n    /** @internal **/\n    /**\n     * \\@internal *\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.init = /**\n     * \\@internal *\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        var /** @type {?} */ args = new UiArguments('getLocation');\n        return /** @type {?} */ ((this._broker.runOnService(args, LocationType))).then(function (val) {\n            _this._location = val;\n            _this.initializedResolve();\n            return true;\n        }, function (err) { throw new Error(err); });\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.getBaseHrefFromDOM = /**\n     * @return {?}\n     */\n    function () {\n        throw new Error('Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.');\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.onPopState = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._popStateListeners.push(fn); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.onHashChange = /**\n     * @param {?} fn\n     * @return {?}\n     */\n    function (fn) { this._hashChangeListeners.push(fn); };\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"pathname\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._location ? /** @type {?} */ ((this._location.pathname)) : '<unknown>'; },\n        set: /**\n         * @param {?} newPath\n         * @return {?}\n         */\n        function (newPath) {\n            if (this._location === null) {\n                throw new Error('Attempt to set pathname before value is obtained from UI');\n            }\n            this._location.pathname = newPath;\n            var /** @type {?} */ fnArgs = [new FnArg(newPath, 1 /* PRIMITIVE */)];\n            var /** @type {?} */ args = new UiArguments('setPathname', fnArgs);\n            this._broker.runOnService(args, null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"search\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._location ? this._location.search : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebWorkerPlatformLocation.prototype, \"hash\", {\n        get: /**\n         * @return {?}\n         */\n        function () { return this._location ? this._location.hash : '<unknown>'; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.pushState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    function (state, title, url) {\n        var /** @type {?} */ fnArgs = [\n            new FnArg(state, 1 /* PRIMITIVE */),\n            new FnArg(title, 1 /* PRIMITIVE */),\n            new FnArg(url, 1 /* PRIMITIVE */),\n        ];\n        var /** @type {?} */ args = new UiArguments('pushState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.replaceState = /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} url\n     * @return {?}\n     */\n    function (state, title, url) {\n        var /** @type {?} */ fnArgs = [\n            new FnArg(state, 1 /* PRIMITIVE */),\n            new FnArg(title, 1 /* PRIMITIVE */),\n            new FnArg(url, 1 /* PRIMITIVE */),\n        ];\n        var /** @type {?} */ args = new UiArguments('replaceState', fnArgs);\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.forward = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ args = new UiArguments('forward');\n        this._broker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerPlatformLocation.prototype.back = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ args = new UiArguments('back');\n        this._broker.runOnService(args, null);\n    };\n    WebWorkerPlatformLocation.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    WebWorkerPlatformLocation.ctorParameters = function () { return [\n        { type: ClientMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n    ]; };\n    return WebWorkerPlatformLocation;\n}(_angular_common.PlatformLocation));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * The {\\@link PlatformLocation} providers that should be added when the {\\@link Location} is used in\n * a worker context.\n *\n * \\@experimental\n */\nvar WORKER_APP_LOCATION_PROVIDERS = [\n    { provide: _angular_common.PlatformLocation, useClass: WebWorkerPlatformLocation }, {\n        provide: _angular_core.APP_INITIALIZER,\n        useFactory: appInitFnFactory,\n        multi: true,\n        deps: [_angular_common.PlatformLocation, _angular_core.NgZone]\n    },\n    { provide: _angular_common.LOCATION_INITIALIZED, useFactory: locationInitialized, deps: [_angular_common.PlatformLocation] }\n];\n/**\n * @param {?} platformLocation\n * @return {?}\n */\nfunction locationInitialized(platformLocation) {\n    return platformLocation.initialized;\n}\n/**\n * @param {?} platformLocation\n * @param {?} zone\n * @return {?}\n */\nfunction appInitFnFactory(platformLocation, zone) {\n    return function () { return zone.runGuarded(function () { return platformLocation.init(); }); };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar NamedEventEmitter = (function () {\n    function NamedEventEmitter() {\n    }\n    /**\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.listen = /**\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    function (eventName, callback) { this._getListeners(eventName).push(callback); };\n    /**\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.unlisten = /**\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    function (eventName, listener) {\n        var /** @type {?} */ listeners = this._getListeners(eventName);\n        var /** @type {?} */ index = listeners.indexOf(listener);\n        if (index > -1) {\n            listeners.splice(index, 1);\n        }\n    };\n    /**\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    NamedEventEmitter.prototype.dispatchEvent = /**\n     * @param {?} eventName\n     * @param {?} event\n     * @return {?}\n     */\n    function (eventName, event) {\n        var /** @type {?} */ listeners = this._getListeners(eventName);\n        for (var /** @type {?} */ i = 0; i < listeners.length; i++) {\n            listeners[i](event);\n        }\n    };\n    /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    NamedEventEmitter.prototype._getListeners = /**\n     * @param {?} eventName\n     * @return {?}\n     */\n    function (eventName) {\n        if (!this._listeners) {\n            this._listeners = new Map();\n        }\n        var /** @type {?} */ listeners = this._listeners.get(eventName);\n        if (!listeners) {\n            listeners = [];\n            this._listeners.set(eventName, listeners);\n        }\n        return listeners;\n    };\n    return NamedEventEmitter;\n}());\n/**\n * @param {?} target\n * @param {?} eventName\n * @return {?}\n */\nfunction eventNameWithTarget(target, eventName) {\n    return target + \":\" + eventName;\n}\nvar WebWorkerRendererFactory2 = (function () {\n    function WebWorkerRendererFactory2(messageBrokerFactory, bus, _serializer, renderStore) {\n        var _this = this;\n        this._serializer = _serializer;\n        this.renderStore = renderStore;\n        this.globalEvents = new NamedEventEmitter();\n        this._messageBroker = messageBrokerFactory.createMessageBroker(RENDERER_2_CHANNEL);\n        bus.initChannel(EVENT_2_CHANNEL);\n        var /** @type {?} */ source = bus.from(EVENT_2_CHANNEL);\n        source.subscribe({ next: function (message) { return _this._dispatchEvent(message); } });\n    }\n    /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.createRenderer = /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    function (element, type) {\n        var /** @type {?} */ renderer = new WebWorkerRenderer2(this);\n        var /** @type {?} */ id = this.renderStore.allocateId();\n        this.renderStore.store(renderer, id);\n        this.callUI('createRenderer', [\n            new FnArg(element, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(type, 0 /* RENDERER_TYPE_2 */),\n            new FnArg(renderer, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return renderer;\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.begin = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.end = /**\n     * @return {?}\n     */\n    function () { };\n    /**\n     * @param {?} fnName\n     * @param {?} fnArgs\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.callUI = /**\n     * @param {?} fnName\n     * @param {?} fnArgs\n     * @return {?}\n     */\n    function (fnName, fnArgs) {\n        var /** @type {?} */ args = new UiArguments(fnName, fnArgs);\n        this._messageBroker.runOnService(args, null);\n    };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.allocateNode = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ result = new WebWorkerRenderNode();\n        var /** @type {?} */ id = this.renderStore.allocateId();\n        this.renderStore.store(result, id);\n        return result;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.freeNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { this.renderStore.remove(node); };\n    /**\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype.allocateId = /**\n     * @return {?}\n     */\n    function () { return this.renderStore.allocateId(); };\n    /**\n     * @param {?} message\n     * @return {?}\n     */\n    WebWorkerRendererFactory2.prototype._dispatchEvent = /**\n     * @param {?} message\n     * @return {?}\n     */\n    function (message) {\n        var /** @type {?} */ element = this._serializer.deserialize(message['element'], 2 /* RENDER_STORE_OBJECT */);\n        var /** @type {?} */ eventName = message['eventName'];\n        var /** @type {?} */ target = message['eventTarget'];\n        var /** @type {?} */ event = message['event'];\n        if (target) {\n            this.globalEvents.dispatchEvent(eventNameWithTarget(target, eventName), event);\n        }\n        else {\n            element.events.dispatchEvent(eventName, event);\n        }\n    };\n    WebWorkerRendererFactory2.decorators = [\n        { type: _angular_core.Injectable },\n    ];\n    /** @nocollapse */\n    WebWorkerRendererFactory2.ctorParameters = function () { return [\n        { type: ClientMessageBrokerFactory, },\n        { type: MessageBus, },\n        { type: Serializer, },\n        { type: RenderStore, },\n    ]; };\n    return WebWorkerRendererFactory2;\n}());\nvar WebWorkerRenderer2 = (function () {\n    function WebWorkerRenderer2(_rendererFactory) {\n        this._rendererFactory = _rendererFactory;\n        this.data = Object.create(null);\n        this.asFnArg = new FnArg(this, 2 /* RENDER_STORE_OBJECT */);\n    }\n    /**\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.destroy = /**\n     * @return {?}\n     */\n    function () { this.callUIWithRenderer('destroy'); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.destroyNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        this.callUIWithRenderer('destroyNode', [new FnArg(node, 2 /* RENDER_STORE_OBJECT */)]);\n        this._rendererFactory.freeNode(node);\n    };\n    /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createElement = /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (name, namespace) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createElement', [\n            new FnArg(name),\n            new FnArg(namespace),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createComment = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createComment', [\n            new FnArg(value),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.createText = /**\n     * @param {?} value\n     * @return {?}\n     */\n    function (value) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('createText', [\n            new FnArg(value),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.appendChild = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    function (parent, newChild) {\n        this.callUIWithRenderer('appendChild', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.insertBefore = /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    function (parent, newChild, refChild) {\n        if (!parent) {\n            return;\n        }\n        this.callUIWithRenderer('insertBefore', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(newChild, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(refChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeChild = /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    function (parent, oldChild) {\n        this.callUIWithRenderer('removeChild', [\n            new FnArg(parent, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(oldChild, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n    };\n    /**\n     * @param {?} selectorOrNode\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.selectRootElement = /**\n     * @param {?} selectorOrNode\n     * @return {?}\n     */\n    function (selectorOrNode) {\n        var /** @type {?} */ node = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('selectRootElement', [\n            new FnArg(selectorOrNode),\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return node;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.parentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        var /** @type {?} */ res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('parentNode', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return res;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.nextSibling = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) {\n        var /** @type {?} */ res = this._rendererFactory.allocateNode();\n        this.callUIWithRenderer('nextSibling', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(res, 2 /* RENDER_STORE_OBJECT */),\n        ]);\n        return res;\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, value, namespace) {\n        this.callUIWithRenderer('setAttribute', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(value),\n            new FnArg(namespace),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeAttribute = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (el, name, namespace) {\n        this.callUIWithRenderer('removeAttribute', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(namespace),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.addClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) {\n        this.callUIWithRenderer('addClass', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeClass = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) {\n        this.callUIWithRenderer('removeClass', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, value, flags) {\n        this.callUIWithRenderer('setStyle', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(style),\n            new FnArg(value),\n            new FnArg(flags),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.removeStyle = /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    function (el, style, flags) {\n        this.callUIWithRenderer('removeStyle', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(style),\n            new FnArg(flags),\n        ]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) {\n        this.callUIWithRenderer('setProperty', [\n            new FnArg(el, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(name),\n            new FnArg(value),\n        ]);\n    };\n    /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.setValue = /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    function (node, value) {\n        this.callUIWithRenderer('setValue', [\n            new FnArg(node, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(value),\n        ]);\n    };\n    /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.listen = /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} listener\n     * @return {?}\n     */\n    function (target, eventName, listener) {\n        var _this = this;\n        var /** @type {?} */ unlistenId = this._rendererFactory.allocateId();\n        var _a = typeof target === 'string' ? [null, target, target + \":\" + eventName] :\n            [target, null, null], targetEl = _a[0], targetName = _a[1], fullName = _a[2];\n        if (fullName) {\n            this._rendererFactory.globalEvents.listen(fullName, listener);\n        }\n        else {\n            targetEl.events.listen(eventName, listener);\n        }\n        this.callUIWithRenderer('listen', [\n            new FnArg(targetEl, 2 /* RENDER_STORE_OBJECT */),\n            new FnArg(targetName),\n            new FnArg(eventName),\n            new FnArg(unlistenId),\n        ]);\n        return function () {\n            if (fullName) {\n                _this._rendererFactory.globalEvents.unlisten(fullName, listener);\n            }\n            else {\n                targetEl.events.unlisten(eventName, listener);\n            }\n            _this.callUIWithRenderer('unlisten', [new FnArg(unlistenId)]);\n        };\n    };\n    /**\n     * @param {?} fnName\n     * @param {?=} fnArgs\n     * @return {?}\n     */\n    WebWorkerRenderer2.prototype.callUIWithRenderer = /**\n     * @param {?} fnName\n     * @param {?=} fnArgs\n     * @return {?}\n     */\n    function (fnName, fnArgs) {\n        if (fnArgs === void 0) { fnArgs = []; }\n        // always pass the renderer as the first arg\n        this._rendererFactory.callUI(fnName, [this.asFnArg].concat(fnArgs));\n    };\n    return WebWorkerRenderer2;\n}());\nvar WebWorkerRenderNode = (function () {\n    function WebWorkerRenderNode() {\n        this.events = new NamedEventEmitter();\n    }\n    return WebWorkerRenderNode;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * This adapter is required to log error messages.\n *\n * Note: other methods all throw as the DOM is not accessible directly in web worker context.\n */\nvar WorkerDomAdapter = (function (_super) {\n    __extends(WorkerDomAdapter, _super);\n    function WorkerDomAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.makeCurrent = /**\n     * @return {?}\n     */\n    function () { _angular_platformBrowser.ɵsetRootDomAdapter(new WorkerDomAdapter()); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logError = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) {\n        if (console.error) {\n            console.error(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    // tslint:disable-next-line:no-console\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.log = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) { console.log(error); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logGroup = /**\n     * @param {?} error\n     * @return {?}\n     */\n    function (error) {\n        if (console.group) {\n            console.group(error);\n            this.logError(error);\n        }\n        else {\n            // tslint:disable-next-line:no-console\n            console.log(error);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.logGroupEnd = /**\n     * @return {?}\n     */\n    function () {\n        if (console.groupEnd) {\n            console.groupEnd();\n        }\n    };\n    /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.contains = /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    function (nodeA, nodeB) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasProperty = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getProperty = /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    function (el, name) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} methodName\n     * @param {?} args\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.invoke = /**\n     * @param {?} el\n     * @param {?} methodName\n     * @param {?} args\n     * @return {?}\n     */\n    function (el, methodName, args) { throw 'not implemented'; };\n    Object.defineProperty(WorkerDomAdapter.prototype, \"attrToPropMap\", {\n        get: /**\n         * @return {?}\n         */\n        function () { throw 'not implemented'; },\n        set: /**\n         * @param {?} value\n         * @return {?}\n         */\n        function (value) { throw 'not implemented'; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} templateHtml\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.parse = /**\n     * @param {?} templateHtml\n     * @return {?}\n     */\n    function (templateHtml) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.querySelector = /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    function (el, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.querySelectorAll = /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    function (el, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.on = /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    function (el, evt, listener) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.onAndCancel = /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    function (el, evt, listener) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.dispatchEvent = /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    function (el, evt) { throw 'not implemented'; };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createMouseEvent = /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    function (eventType) { throw 'not implemented'; };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createEvent = /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    function (eventType) { throw 'not implemented'; };\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.preventDefault = /**\n     * @param {?} evt\n     * @return {?}\n     */\n    function (evt) { throw 'not implemented'; };\n    /**\n     * @param {?} evt\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isPrevented = /**\n     * @param {?} evt\n     * @return {?}\n     */\n    function (evt) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getInnerHTML = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTemplateContent = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getOuterHTML = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nodeName = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nodeValue = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.type = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.content = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.firstChild = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.nextSibling = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.parentElement = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.childNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.childNodesAsList = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.clearNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.appendChild = /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeChild = /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} newNode\n     * @param {?} oldNode\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.replaceChild = /**\n     * @param {?} el\n     * @param {?} newNode\n     * @param {?} oldNode\n     * @return {?}\n     */\n    function (el, newNode, oldNode) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.remove = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertBefore = /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (parent, el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} nodes\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertAllBefore = /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} nodes\n     * @return {?}\n     */\n    function (parent, el, nodes) { throw 'not implemented'; };\n    /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.insertAfter = /**\n     * @param {?} parent\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    function (parent, el, node) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setInnerHTML = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getText = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setText = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getValue = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setValue = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getChecked = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setChecked = /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    function (el, value) { throw 'not implemented'; };\n    /**\n     * @param {?} text\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createComment = /**\n     * @param {?} text\n     * @return {?}\n     */\n    function (text) { throw 'not implemented'; };\n    /**\n     * @param {?} html\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createTemplate = /**\n     * @param {?} html\n     * @return {?}\n     */\n    function (html) { throw 'not implemented'; };\n    /**\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createElement = /**\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (tagName, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} ns\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createElementNS = /**\n     * @param {?} ns\n     * @param {?} tagName\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (ns, tagName, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} text\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createTextNode = /**\n     * @param {?} text\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (text, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} attrName\n     * @param {?} attrValue\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createScriptTag = /**\n     * @param {?} attrName\n     * @param {?} attrValue\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (attrName, attrValue, doc) {\n        throw 'not implemented';\n    };\n    /**\n     * @param {?} css\n     * @param {?=} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createStyleElement = /**\n     * @param {?} css\n     * @param {?=} doc\n     * @return {?}\n     */\n    function (css, doc) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createShadowRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getShadowRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHost = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getDistributedNodes = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.clone = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getElementsByClassName = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getElementsByTagName = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.classList = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.addClass = /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeClass = /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasClass = /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    function (element, className) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?} styleValue\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    function (element, styleName) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasStyle = /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    function (element, styleName, styleValue) {\n        throw 'not implemented';\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.tagName = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.attributeMap = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasAttribute = /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAttribute = /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setAttribute = /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, ns, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeAttribute = /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.removeAttributeNS = /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    function (element, ns, attribute) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.templateAwareRoot = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.createHtmlDocument = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getDefaultDocument = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getBoundingClientRect = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTitle = /**\n     * @param {?} doc\n     * @return {?}\n     */\n    function (doc) { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @param {?} newTitle\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setTitle = /**\n     * @param {?} doc\n     * @param {?} newTitle\n     * @return {?}\n     */\n    function (doc, newTitle) { throw 'not implemented'; };\n    /**\n     * @param {?} n\n     * @param {?} selector\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.elementMatches = /**\n     * @param {?} n\n     * @param {?} selector\n     * @return {?}\n     */\n    function (n, selector) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isTemplateElement = /**\n     * @param {?} el\n     * @return {?}\n     */\n    function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isTextNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isCommentNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isElementNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.hasShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.isShadowRoot = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.importIntoDoc = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.adoptNode = /**\n     * @param {?} node\n     * @return {?}\n     */\n    function (node) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHref = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getEventKey = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} baseUrl\n     * @param {?} href\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.resolveAndSetHref = /**\n     * @param {?} element\n     * @param {?} baseUrl\n     * @param {?} href\n     * @return {?}\n     */\n    function (element, baseUrl, href) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsDOMEvents = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsNativeShadowDOM = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getGlobalEventTarget = /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    function (doc, target) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getHistory = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getLocation = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getBaseHref = /**\n     * @param {?} doc\n     * @return {?}\n     */\n    function (doc) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.resetBaseElement = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getUserAgent = /**\n     * @return {?}\n     */\n    function () { return 'Fake user agent'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setData = /**\n     * @param {?} element\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (element, name, value) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getComputedStyle = /**\n     * @param {?} element\n     * @return {?}\n     */\n    function (element) { throw 'not implemented'; };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getData = /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    function (element, name) { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.performanceNow = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getAnimationPrefix = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getTransitionEnd = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsAnimation = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsWebAnimation = /**\n     * @return {?}\n     */\n    function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.supportsCookies = /**\n     * @return {?}\n     */\n    function () { return false; };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.getCookie = /**\n     * @param {?} name\n     * @return {?}\n     */\n    function (name) { throw 'not implemented'; };\n    /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    WorkerDomAdapter.prototype.setCookie = /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    function (name, value) { throw 'not implemented'; };\n    return WorkerDomAdapter;\n}(_angular_platformBrowser.ɵDomAdapter));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * \\@experimental\n */\nvar platformWorkerApp = _angular_core.createPlatformFactory(_angular_core.platformCore, 'workerApp', [{ provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_WORKER_APP_ID }]);\n/**\n * @return {?}\n */\nfunction errorHandler() {\n    return new _angular_core.ErrorHandler();\n}\n// TODO(jteplitz602) remove this and compile with lib.webworker.d.ts (#3492)\nvar _postMessage = {\n    postMessage: function (message, transferrables) {\n        (/** @type {?} */ (postMessage))(message, transferrables);\n    }\n};\n/**\n * @param {?} zone\n * @return {?}\n */\nfunction createMessageBus(zone) {\n    var /** @type {?} */ sink = new PostMessageBusSink(_postMessage);\n    var /** @type {?} */ source = new PostMessageBusSource();\n    var /** @type {?} */ bus = new PostMessageBus(sink, source);\n    bus.attachToZone(zone);\n    return bus;\n}\n/**\n * @return {?}\n */\nfunction setupWebWorker() {\n    WorkerDomAdapter.makeCurrent();\n}\n/**\n * The ng module for the worker app side.\n *\n * \\@experimental\n */\nvar WorkerAppModule = (function () {\n    function WorkerAppModule() {\n    }\n    WorkerAppModule.decorators = [\n        { type: _angular_core.NgModule, args: [{\n                    providers: [\n                        _angular_platformBrowser.ɵBROWSER_SANITIZATION_PROVIDERS,\n                        Serializer,\n                        { provide: _angular_platformBrowser.DOCUMENT, useValue: null },\n                        { provide: ClientMessageBrokerFactory, useClass: ClientMessageBrokerFactory_ },\n                        { provide: ServiceMessageBrokerFactory, useClass: ServiceMessageBrokerFactory_ },\n                        WebWorkerRendererFactory2,\n                        { provide: _angular_core.RendererFactory2, useExisting: WebWorkerRendererFactory2 },\n                        { provide: ON_WEB_WORKER, useValue: true },\n                        RenderStore,\n                        { provide: _angular_core.ErrorHandler, useFactory: errorHandler, deps: [] },\n                        { provide: MessageBus, useFactory: createMessageBus, deps: [_angular_core.NgZone] },\n                        { provide: _angular_core.APP_INITIALIZER, useValue: setupWebWorker, multi: true },\n                    ],\n                    exports: [\n                        _angular_common.CommonModule,\n                        _angular_core.ApplicationModule,\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    WorkerAppModule.ctorParameters = function () { return []; };\n    return WorkerAppModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Bootstraps the worker ui.\n *\n * \\@experimental\n * @param {?} workerScriptUri\n * @param {?=} customProviders\n * @return {?}\n */\nfunction bootstrapWorkerUi(workerScriptUri, customProviders) {\n    if (customProviders === void 0) { customProviders = []; }\n    // For now, just creates the worker ui platform...\n    var /** @type {?} */ platform = platformWorkerUi([\n        { provide: WORKER_SCRIPT, useValue: workerScriptUri }\n    ].concat(customProviders));\n    return Promise.resolve(platform);\n}\n\nexports.VERSION = VERSION;\nexports.ClientMessageBroker = ClientMessageBroker;\nexports.ClientMessageBrokerFactory = ClientMessageBrokerFactory;\nexports.FnArg = FnArg;\nexports.UiArguments = UiArguments;\nexports.MessageBus = MessageBus;\nexports.ServiceMessageBroker = ServiceMessageBroker;\nexports.ServiceMessageBrokerFactory = ServiceMessageBrokerFactory;\nexports.WORKER_UI_LOCATION_PROVIDERS = WORKER_UI_LOCATION_PROVIDERS;\nexports.WORKER_APP_LOCATION_PROVIDERS = WORKER_APP_LOCATION_PROVIDERS;\nexports.WorkerAppModule = WorkerAppModule;\nexports.platformWorkerApp = platformWorkerApp;\nexports.platformWorkerUi = platformWorkerUi;\nexports.bootstrapWorkerUi = bootstrapWorkerUi;\nexports.ɵm = ON_WEB_WORKER;\nexports.ɵa = ClientMessageBrokerFactory_;\nexports.ɵk = RenderStore;\nexports.ɵb = Serializer;\nexports.ɵc = ServiceMessageBrokerFactory_;\nexports.ɵe = appInitFnFactory;\nexports.ɵd = locationInitialized;\nexports.ɵj = WebWorkerPlatformLocation;\nexports.ɵl = WebWorkerRendererFactory2;\nexports.ɵg = createMessageBus;\nexports.ɵf = errorHandler;\nexports.ɵh = setupWebWorker;\nexports.ɵi = _WORKER_UI_PLATFORM_PROVIDERS;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=platform-webworker.umd.js.map\n"]}