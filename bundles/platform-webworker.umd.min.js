/**
 * @license Angular v4.0.0-beta.8-bb0460b
 * (c) 2010-2017 Google, Inc. https://angular.io/
 * License: MIT
 */
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/core"),require("@angular/platform-browser"),require("rxjs/Subject"),require("rxjs/Observable"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/platform-browser","rxjs/Subject","rxjs/Observable","@angular/common"],factory):factory((global.ng=global.ng||{},global.ng.platformWebworker=global.ng.platformWebworker||{}),global.ng.core,global.ng.platformBrowser,global.Rx,global.Rx,global.ng.common)}(this,function(exports,_angular_core,_angular_platformBrowser,rxjs_Subject,rxjs_Observable,_angular_common){"use strict";function stringify(token){if("string"==typeof token)return token;if(null==token)return""+token;if(token.overriddenName)return""+token.overriddenName;if(token.name)return""+token.name;var res=token.toString(),newLineIndex=res.indexOf("\n");return newLineIndex===-1?res:res.substring(0,newLineIndex)}function serializeGenericEvent(e){return serializeEvent(e,EVENT_PROPERTIES)}function serializeEventWithTarget(e){var serializedEvent=serializeEvent(e,EVENT_PROPERTIES);return addTarget(e,serializedEvent)}function serializeMouseEvent(e){return serializeEvent(e,MOUSE_EVENT_PROPERTIES)}function serializeKeyboardEvent(e){var serializedEvent=serializeEvent(e,KEYBOARD_EVENT_PROPERTIES);return addTarget(e,serializedEvent)}function serializeTransitionEvent(e){var serializedEvent=serializeEvent(e,TRANSITION_EVENT_PROPERTIES);return addTarget(e,serializedEvent)}function addTarget(e,serializedEvent){if(NODES_WITH_VALUE.has(e.target.tagName.toLowerCase())){var target=e.target;serializedEvent.target={value:target.value},target.files&&(serializedEvent.target.files=target.files)}return serializedEvent}function serializeEvent(e,properties){for(var serialized={},i=0;i<properties.length;i++){var prop=properties[i];serialized[prop]=e[prop]}return serialized}function initializeGenericWorkerRenderer(injector){var bus=injector.get(MessageBus),zone=injector.get(_angular_core.NgZone);bus.attachToZone(zone);var services=injector.get(WORKER_UI_STARTABLE_MESSAGING_SERVICE);zone.runGuarded(function(){services.forEach(function(svc){svc.start()})})}function messageBusFactory(instance){return instance.bus}function initWebWorkerRenderPlatform(injector){return function(){BrowserDomAdapter.makeCurrent(),BrowserGetTestability.init();var scriptUri;try{scriptUri=injector.get(WORKER_SCRIPT)}catch(e){throw new Error("You must provide your WebWorker's initialization script with the WORKER_SCRIPT token")}var instance=injector.get(WebWorkerInstance);spawnWebWorker(scriptUri,instance),initializeGenericWorkerRenderer(injector)}}function _exceptionHandler(){return new _angular_core.ErrorHandler}function _document(){return document}function createNgZone(){return new _angular_core.NgZone({enableLongStackTrace:_angular_core.isDevMode()})}function spawnWebWorker(uri,instance){var webWorker=new Worker(uri),sink=new PostMessageBusSink(webWorker),source=new PostMessageBusSource(webWorker),bus=new PostMessageBus(sink,source);instance.init(webWorker,bus)}function _resolveDefaultAnimationDriver(){return getDOM().supportsWebAnimation()?new WebAnimationsDriver:_angular_platformBrowser.AnimationDriver.NOOP}function initUiLocation(injector){return function(){var zone=injector.get(_angular_core.NgZone);zone.runGuarded(function(){return injector.get(MessageBasedPlatformLocation).start()})}}function appInitFnFactory(platformLocation,zone){return function(){return zone.runGuarded(function(){return platformLocation.init()})}}function eventNameWithTarget(target,eventName){return target+":"+eventName}function errorHandler(){return new _angular_core.ErrorHandler}function createMessageBus(zone){var sink=new PostMessageBusSink(_postMessage),source=new PostMessageBusSource,bus=new PostMessageBus(sink,source);return bus.attachToZone(zone),bus}function setupWebWorker(){WorkerDomAdapter.makeCurrent()}function bootstrapWorkerUi(workerScriptUri,customProviders){void 0===customProviders&&(customProviders=[]);var platform=platformWorkerUi([{provide:WORKER_SCRIPT,useValue:workerScriptUri}].concat(customProviders));return Promise.resolve(platform)}var APP_ID_RANDOM_PROVIDER=_angular_core.__core_private__.APP_ID_RANDOM_PROVIDER,BROWSER_SANITIZATION_PROVIDERS=_angular_platformBrowser.__platform_browser_private__.BROWSER_SANITIZATION_PROVIDERS,BrowserPlatformLocation=_angular_platformBrowser.__platform_browser_private__.BrowserPlatformLocation,getDOM=_angular_platformBrowser.__platform_browser_private__.getDOM,BrowserDomAdapter=_angular_platformBrowser.__platform_browser_private__.BrowserDomAdapter,BrowserGetTestability=_angular_platformBrowser.__platform_browser_private__.BrowserGetTestability,DomRootRenderer=_angular_platformBrowser.__platform_browser_private__.DomRootRenderer,DomRootRenderer_=_angular_platformBrowser.__platform_browser_private__.DomRootRenderer_,DomRendererFactoryV2=_angular_platformBrowser.__platform_browser_private__.DomRendererFactoryV2,DomEventsPlugin=_angular_platformBrowser.__platform_browser_private__.DomEventsPlugin,DomSharedStylesHost=_angular_platformBrowser.__platform_browser_private__.DomSharedStylesHost,SharedStylesHost=_angular_platformBrowser.__platform_browser_private__.SharedStylesHost,KeyEventsPlugin=_angular_platformBrowser.__platform_browser_private__.KeyEventsPlugin,HammerGesturesPlugin=_angular_platformBrowser.__platform_browser_private__.HammerGesturesPlugin,DomAdapter=_angular_platformBrowser.__platform_browser_private__.DomAdapter,setRootDomAdapter=_angular_platformBrowser.__platform_browser_private__.setRootDomAdapter,WebAnimationsDriver=_angular_platformBrowser.__platform_browser_private__.WebAnimationsDriver,ON_WEB_WORKER=new _angular_core.InjectionToken("WebWorker.onWebWorker"),MessageBus=function(){function MessageBus(){}return MessageBus.prototype.initChannel=function(channel,runInZone){},MessageBus.prototype.attachToZone=function(zone){},MessageBus.prototype.from=function(channel){},MessageBus.prototype.to=function(channel){},MessageBus}(),RenderStore=function(){function RenderStore(){this._nextIndex=0,this._lookupById=new Map,this._lookupByObject=new Map}return RenderStore.prototype.allocateId=function(){return this._nextIndex++},RenderStore.prototype.store=function(obj,id){null!=id&&(this._lookupById.set(id,obj),this._lookupByObject.set(obj,id))},RenderStore.prototype.remove=function(obj){var index=this._lookupByObject.get(obj);null!=index&&(this._lookupByObject.delete(obj),this._lookupById.delete(index))},RenderStore.prototype.deserialize=function(id){return this._lookupById.has(id)?this._lookupById.get(id):null},RenderStore.prototype.serialize=function(obj){return null==obj?null:this._lookupByObject.get(obj)},RenderStore}();RenderStore.decorators=[{type:_angular_core.Injectable}],RenderStore.ctorParameters=function(){return[]};var PRIMITIVE=1,LocationType=function(){function LocationType(href,protocol,host,hostname,port,pathname,search,hash,origin){this.href=href,this.protocol=protocol,this.host=host,this.hostname=hostname,this.port=port,this.pathname=pathname,this.search=search,this.hash=hash,this.origin=origin}return LocationType}(),Serializer=function(){function Serializer(_renderStore){this._renderStore=_renderStore}return Serializer.prototype.serialize=function(obj,type){var _this=this;if(void 0===type&&(type=1),null==obj||1===type)return obj;if(Array.isArray(obj))return obj.map(function(v){return _this.serialize(v,type)});if(2===type)return this._renderStore.serialize(obj);if(type===_angular_core.RenderComponentType)return this._serializeRenderComponentType(obj);if(0===type)return this._serializeRendererTypeV2(obj);if(type===LocationType)return this._serializeLocation(obj);throw new Error("No serializer for type "+stringify(type))},Serializer.prototype.deserialize=function(map,type,data){var _this=this;if(void 0===type&&(type=1),null==map||1===type)return map;if(Array.isArray(map))return map.map(function(val){return _this.deserialize(val,type,data)});if(2===type)return this._renderStore.deserialize(map);if(type===_angular_core.RenderComponentType)return this._deserializeRenderComponentType(map);if(0===type)return this._deserializeRendererTypeV2(map);if(type===LocationType)return this._deserializeLocation(map);throw new Error("No deserializer for type "+stringify(type))},Serializer.prototype._serializeLocation=function(loc){return{href:loc.href,protocol:loc.protocol,host:loc.host,hostname:loc.hostname,port:loc.port,pathname:loc.pathname,search:loc.search,hash:loc.hash,origin:loc.origin}},Serializer.prototype._deserializeLocation=function(loc){return new LocationType(loc.href,loc.protocol,loc.host,loc.hostname,loc.port,loc.pathname,loc.search,loc.hash,loc.origin)},Serializer.prototype._serializeRenderComponentType=function(type){return{id:type.id,templateUrl:type.templateUrl,slotCount:type.slotCount,encapsulation:this.serialize(type.encapsulation),styles:this.serialize(type.styles)}},Serializer.prototype._deserializeRenderComponentType=function(props){return new _angular_core.RenderComponentType(props.id,props.templateUrl,props.slotCount,this.deserialize(props.encapsulation),this.deserialize(props.styles),{})},Serializer.prototype._serializeRendererTypeV2=function(type){return{id:type.id,encapsulation:this.serialize(type.encapsulation),styles:this.serialize(type.styles),data:this.serialize(type.data)}},Serializer.prototype._deserializeRendererTypeV2=function(props){return{id:props.id,encapsulation:props.encapsulation,styles:this.deserialize(props.styles),data:this.deserialize(props.data)}},Serializer}();Serializer.decorators=[{type:_angular_core.Injectable}],Serializer.ctorParameters=function(){return[{type:RenderStore}]};var ANIMATION_WORKER_PLAYER_PREFIX="AnimationPlayer.",__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ClientMessageBrokerFactory=function(){function ClientMessageBrokerFactory(){}return ClientMessageBrokerFactory.prototype.createMessageBroker=function(channel,runInZone){},ClientMessageBrokerFactory}(),ClientMessageBrokerFactory_=function(_super){function ClientMessageBrokerFactory_(_messageBus,_serializer){var _this=_super.call(this)||this;return _this._messageBus=_messageBus,_this._serializer=_serializer,_this}return __extends(ClientMessageBrokerFactory_,_super),ClientMessageBrokerFactory_.prototype.createMessageBroker=function(channel,runInZone){return void 0===runInZone&&(runInZone=!0),this._messageBus.initChannel(channel,runInZone),new ClientMessageBroker_(this._messageBus,this._serializer,channel)},ClientMessageBrokerFactory_}(ClientMessageBrokerFactory);ClientMessageBrokerFactory_.decorators=[{type:_angular_core.Injectable}],ClientMessageBrokerFactory_.ctorParameters=function(){return[{type:MessageBus},{type:Serializer}]};var ClientMessageBroker=function(){function ClientMessageBroker(){}return ClientMessageBroker.prototype.runOnService=function(args,returnType){},ClientMessageBroker}(),ClientMessageBroker_=function(_super){function ClientMessageBroker_(messageBus,_serializer,channel){var _this=_super.call(this)||this;_this.channel=channel,_this._pending=new Map,_this._sink=messageBus.to(channel),_this._serializer=_serializer;var source=messageBus.from(channel);return source.subscribe({next:function(message){return _this._handleMessage(message)}}),_this}return __extends(ClientMessageBroker_,_super),ClientMessageBroker_.prototype._generateMessageId=function(name){for(var time=stringify((new Date).getTime()),iteration=0,id=name+time+stringify(iteration);this._pending.has(id);)id=""+name+time+iteration,iteration++;return id},ClientMessageBroker_.prototype.runOnService=function(args,returnType){var _this=this,fnArgs=[];args.args&&args.args.forEach(function(argument){null!=argument.type?fnArgs.push(_this._serializer.serialize(argument.value,argument.type)):fnArgs.push(argument.value)});var promise,id=null;if(null!=returnType){var completer_1;promise=new Promise(function(resolve,reject){completer_1={resolve:resolve,reject:reject}}),id=this._generateMessageId(args.method),this._pending.set(id,completer_1),promise.catch(function(err){console&&console.error&&console.error(err),completer_1.reject(err)}),promise=promise.then(function(v){return _this._serializer?_this._serializer.deserialize(v,returnType):v})}else promise=null;var message={method:args.method,args:fnArgs};return null!=id&&(message.id=id),this._sink.emit(message),promise},ClientMessageBroker_.prototype._handleMessage=function(message){if("result"===message.type||"error"===message.type){var id=message.id;this._pending.has(id)&&("result"===message.type?this._pending.get(id).resolve(message.value):this._pending.get(id).reject(message.value),this._pending.delete(id))}},ClientMessageBroker_}(ClientMessageBroker),FnArg=function(){function FnArg(value,type){void 0===type&&(type=1),this.value=value,this.type=type}return FnArg}(),UiArguments=function(){function UiArguments(method,args){this.method=method,this.args=args}return UiArguments}(),__extends$1=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},EventEmitter=function(_super){function EventEmitter(isAsync){void 0===isAsync&&(isAsync=!1);var _this=_super.call(this)||this;return _this.__isAsync=isAsync,_this}return __extends$1(EventEmitter,_super),EventEmitter.prototype.emit=function(value){_super.prototype.next.call(this,value)},EventEmitter.prototype.subscribe=function(generatorOrNext,error,complete){var schedulerFn,errorFn=function(err){return null},completeFn=function(){return null};return generatorOrNext&&"object"==typeof generatorOrNext?(schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext.next(value)})}:function(value){generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?function(err){setTimeout(function(){return generatorOrNext.error(err)})}:function(err){generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?function(){setTimeout(function(){return generatorOrNext.complete()})}:function(){generatorOrNext.complete()})):(schedulerFn=this.__isAsync?function(value){setTimeout(function(){return generatorOrNext(value)})}:function(value){generatorOrNext(value)},error&&(errorFn=this.__isAsync?function(err){setTimeout(function(){return error(err)})}:function(err){error(err)}),complete&&(completeFn=this.__isAsync?function(){setTimeout(function(){return complete()})}:function(){complete()})),_super.prototype.subscribe.call(this,schedulerFn,errorFn,completeFn)},EventEmitter}(rxjs_Subject.Subject),PostMessageBusSink=function(){function PostMessageBusSink(_postMessageTarget){this._postMessageTarget=_postMessageTarget,this._channels={},this._messageBuffer=[]}return PostMessageBusSink.prototype.attachToZone=function(zone){var _this=this;this._zone=zone,this._zone.runOutsideAngular(function(){_this._zone.onStable.subscribe({next:function(){_this._handleOnEventDone()}})})},PostMessageBusSink.prototype.initChannel=function(channel,runInZone){var _this=this;if(void 0===runInZone&&(runInZone=!0),this._channels.hasOwnProperty(channel))throw new Error(channel+" has already been initialized");var emitter=new EventEmitter((!1)),channelInfo=new _Channel(emitter,runInZone);this._channels[channel]=channelInfo,emitter.subscribe(function(data){var message={channel:channel,message:data};runInZone?_this._messageBuffer.push(message):_this._sendMessages([message])})},PostMessageBusSink.prototype.to=function(channel){if(this._channels.hasOwnProperty(channel))return this._channels[channel].emitter;throw new Error(channel+" is not set up. Did you forget to call initChannel?")},PostMessageBusSink.prototype._handleOnEventDone=function(){this._messageBuffer.length>0&&(this._sendMessages(this._messageBuffer),this._messageBuffer=[])},PostMessageBusSink.prototype._sendMessages=function(messages){this._postMessageTarget.postMessage(messages)},PostMessageBusSink}(),PostMessageBusSource=function(){function PostMessageBusSource(eventTarget){var _this=this;if(this._channels={},eventTarget)eventTarget.addEventListener("message",function(ev){return _this._handleMessages(ev)});else{var workerScope=self;workerScope.addEventListener("message",function(ev){return _this._handleMessages(ev)})}}return PostMessageBusSource.prototype.attachToZone=function(zone){this._zone=zone},PostMessageBusSource.prototype.initChannel=function(channel,runInZone){if(void 0===runInZone&&(runInZone=!0),this._channels.hasOwnProperty(channel))throw new Error(channel+" has already been initialized");var emitter=new EventEmitter((!1)),channelInfo=new _Channel(emitter,runInZone);this._channels[channel]=channelInfo},PostMessageBusSource.prototype.from=function(channel){if(this._channels.hasOwnProperty(channel))return this._channels[channel].emitter;throw new Error(channel+" is not set up. Did you forget to call initChannel?")},PostMessageBusSource.prototype._handleMessages=function(ev){for(var messages=ev.data,i=0;i<messages.length;i++)this._handleMessage(messages[i])},PostMessageBusSource.prototype._handleMessage=function(data){var channel=data.channel;if(this._channels.hasOwnProperty(channel)){var channelInfo_1=this._channels[channel];channelInfo_1.runInZone?this._zone.run(function(){channelInfo_1.emitter.emit(data.message)}):channelInfo_1.emitter.emit(data.message)}},PostMessageBusSource}(),PostMessageBus=function(){function PostMessageBus(sink,source){this.sink=sink,this.source=source}return PostMessageBus.prototype.attachToZone=function(zone){this.source.attachToZone(zone),this.sink.attachToZone(zone)},PostMessageBus.prototype.initChannel=function(channel,runInZone){void 0===runInZone&&(runInZone=!0),this.source.initChannel(channel,runInZone),this.sink.initChannel(channel,runInZone)},PostMessageBus.prototype.from=function(channel){return this.source.from(channel)},PostMessageBus.prototype.to=function(channel){return this.sink.to(channel)},PostMessageBus}();PostMessageBus.decorators=[{type:_angular_core.Injectable}],PostMessageBus.ctorParameters=function(){return[{type:PostMessageBusSink},{type:PostMessageBusSource}]};var _Channel=function(){function _Channel(emitter,runInZone){this.emitter=emitter,this.runInZone=runInZone}return _Channel}(),__extends$2=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ServiceMessageBrokerFactory=function(){function ServiceMessageBrokerFactory(){}return ServiceMessageBrokerFactory.prototype.createMessageBroker=function(channel,runInZone){},ServiceMessageBrokerFactory}(),ServiceMessageBrokerFactory_=function(_super){function ServiceMessageBrokerFactory_(_messageBus,_serializer){var _this=_super.call(this)||this;return _this._messageBus=_messageBus,_this._serializer=_serializer,_this}return __extends$2(ServiceMessageBrokerFactory_,_super),ServiceMessageBrokerFactory_.prototype.createMessageBroker=function(channel,runInZone){return void 0===runInZone&&(runInZone=!0),this._messageBus.initChannel(channel,runInZone),new ServiceMessageBroker_(this._messageBus,this._serializer,channel)},ServiceMessageBrokerFactory_}(ServiceMessageBrokerFactory);ServiceMessageBrokerFactory_.decorators=[{type:_angular_core.Injectable}],ServiceMessageBrokerFactory_.ctorParameters=function(){return[{type:MessageBus},{type:Serializer}]};var ServiceMessageBroker=function(){function ServiceMessageBroker(){}return ServiceMessageBroker.prototype.registerMethod=function(methodName,signature,method,returnType){},ServiceMessageBroker}(),ServiceMessageBroker_=function(_super){function ServiceMessageBroker_(messageBus,_serializer,channel){var _this=_super.call(this)||this;_this._serializer=_serializer,_this.channel=channel,_this._methods=new Map,_this._sink=messageBus.to(channel);var source=messageBus.from(channel);return source.subscribe({next:function(message){return _this._handleMessage(message)}}),_this}return __extends$2(ServiceMessageBroker_,_super),ServiceMessageBroker_.prototype.registerMethod=function(methodName,signature,method,returnType){var _this=this;this._methods.set(methodName,function(message){for(var serializedArgs=message.args,numArgs=signature?signature.length:0,deserializedArgs=new Array(numArgs),i=0;i<numArgs;i++){var serializedArg=serializedArgs[i];deserializedArgs[i]=_this._serializer.deserialize(serializedArg,signature[i])}var promise=method.apply(void 0,deserializedArgs);returnType&&promise&&_this._wrapWebWorkerPromise(message.id,promise,returnType)})},ServiceMessageBroker_.prototype._handleMessage=function(message){this._methods.has(message.method)&&this._methods.get(message.method)(message)},ServiceMessageBroker_.prototype._wrapWebWorkerPromise=function(id,promise,type){var _this=this;promise.then(function(result){_this._sink.emit({type:"result",value:_this._serializer.serialize(result,type),id:id})})},ServiceMessageBroker_}(ServiceMessageBroker),RENDERER_CHANNEL="ng-Renderer",EVENT_CHANNEL="ng-Events",RENDERER_V2_CHANNEL="v2.ng-Renderer",EVENT_V2_CHANNEL="v2.ng-Events",ROUTER_CHANNEL="ng-Router",MOUSE_EVENT_PROPERTIES=["altKey","button","clientX","clientY","metaKey","movementX","movementY","offsetX","offsetY","region","screenX","screenY","shiftKey"],KEYBOARD_EVENT_PROPERTIES=["altkey","charCode","code","ctrlKey","isComposing","key","keyCode","location","metaKey","repeat","shiftKey","which"],TRANSITION_EVENT_PROPERTIES=["propertyName","elapsedTime","pseudoElement"],EVENT_PROPERTIES=["type","bubbles","cancelable"],NODES_WITH_VALUE=new Set(["input","select","option","button","li","meter","progress","param","textarea"]),EventDispatcher=function(){function EventDispatcher(_sink,_serializer){this._sink=_sink,this._serializer=_serializer}return EventDispatcher.prototype.dispatchAnimationEvent=function(player,phaseName,element){return this._sink.emit({element:this._serializer.serialize(element,2),animationPlayer:this._serializer.serialize(player,2),phaseName:phaseName}),!0},EventDispatcher.prototype.dispatchRenderEvent=function(element,eventTarget,eventName,event){var serializedEvent;switch(event.type){case"click":case"mouseup":case"mousedown":case"dblclick":case"contextmenu":case"mouseenter":case"mouseleave":case"mousemove":case"mouseout":case"mouseover":case"show":serializedEvent=serializeMouseEvent(event);break;case"keydown":case"keypress":case"keyup":serializedEvent=serializeKeyboardEvent(event);break;case"input":case"change":case"blur":serializedEvent=serializeEventWithTarget(event);break;case"abort":case"afterprint":case"beforeprint":case"cached":case"canplay":case"canplaythrough":case"chargingchange":case"chargingtimechange":case"close":case"dischargingtimechange":case"DOMContentLoaded":case"downloading":case"durationchange":case"emptied":case"ended":case"error":case"fullscreenchange":case"fullscreenerror":case"invalid":case"languagechange":case"levelfchange":case"loadeddata":case"loadedmetadata":case"obsolete":case"offline":case"online":case"open":case"orientatoinchange":case"pause":case"pointerlockchange":case"pointerlockerror":case"play":case"playing":case"ratechange":case"readystatechange":case"reset":case"scroll":case"seeked":case"seeking":case"stalled":case"submit":case"success":case"suspend":case"timeupdate":case"updateready":case"visibilitychange":case"volumechange":case"waiting":serializedEvent=serializeGenericEvent(event);break;case"transitionend":serializedEvent=serializeTransitionEvent(event);break;default:throw new Error(eventName+" not supported on WebWorkers")}return this._sink.emit({element:this._serializer.serialize(element,2),eventName:eventName,eventTarget:eventTarget,event:serializedEvent}),!1},EventDispatcher}(),MessageBasedRenderer=function(){function MessageBasedRenderer(_brokerFactory,_bus,_serializer,_renderStore,_rootRenderer){this._brokerFactory=_brokerFactory,this._bus=_bus,this._serializer=_serializer,this._renderStore=_renderStore,this._rootRenderer=_rootRenderer}return MessageBasedRenderer.prototype.start=function(){var _this=this,broker=this._brokerFactory.createMessageBroker(RENDERER_CHANNEL);this._bus.initChannel(EVENT_CHANNEL),this._eventDispatcher=new EventDispatcher(this._bus.to(EVENT_CHANNEL),this._serializer);var _a=[_angular_core.RenderComponentType,2,1],RCT=_a[0],RSO=_a[1],P=_a[2],methods=[["renderComponent",this._renderComponent,RCT,P],["selectRootElement",this._selectRootElement,RSO,P,P],["createElement",this._createElement,RSO,RSO,P,P],["createViewRoot",this._createViewRoot,RSO,RSO,P],["createTemplateAnchor",this._createTemplateAnchor,RSO,RSO,P],["createText",this._createText,RSO,RSO,P,P],["projectNodes",this._projectNodes,RSO,RSO,RSO],["attachViewAfter",this._attachViewAfter,RSO,RSO,RSO],["detachView",this._detachView,RSO,RSO],["destroyView",this._destroyView,RSO,RSO,RSO],["setElementProperty",this._setElementProperty,RSO,RSO,P,P],["setElementAttribute",this._setElementAttribute,RSO,RSO,P,P],["setBindingDebugInfo",this._setBindingDebugInfo,RSO,RSO,P,P],["setElementClass",this._setElementClass,RSO,RSO,P,P],["setElementStyle",this._setElementStyle,RSO,RSO,P,P],["invokeElementMethod",this._invokeElementMethod,RSO,RSO,P,P],["setText",this._setText,RSO,RSO,P],["listen",this._listen,RSO,RSO,P,P],["listenGlobal",this._listenGlobal,RSO,P,P,P],["listenDone",this._listenDone,RSO,RSO],["animate",this._animate,RSO,RSO,P,P,P,P,P,P,P]];methods.forEach(function(_a){var name=_a[0],method=_a[1],argTypes=_a.slice(2);broker.registerMethod(name,argTypes,method.bind(_this))}),this._bindAnimationPlayerMethods(broker)},MessageBasedRenderer.prototype._bindAnimationPlayerMethods=function(broker){var _this=this,_a=[1,2],P=_a[0],RSO=_a[1];broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"play",[RSO,RSO],function(player,element){return player.play()}),broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"pause",[RSO,RSO],function(player,element){return player.pause()}),broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"init",[RSO,RSO],function(player,element){return player.init()}),broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"restart",[RSO,RSO],function(player,element){return player.restart()}),broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"destroy",[RSO,RSO],function(player,element){player.destroy(),_this._renderStore.remove(player)}),broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"finish",[RSO,RSO],function(player,element){return player.finish()}),broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"getPosition",[RSO,RSO],function(player,element){return player.getPosition()}),broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"onStart",[RSO,RSO,P],function(player,element){return _this._listenOnAnimationPlayer(player,element,"onStart")}),broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"onDone",[RSO,RSO,P],function(player,element){return _this._listenOnAnimationPlayer(player,element,"onDone")}),broker.registerMethod(ANIMATION_WORKER_PLAYER_PREFIX+"setPosition",[RSO,RSO,P],function(player,element,position){return player.setPosition(position)})},MessageBasedRenderer.prototype._renderComponent=function(renderComponentType,rendererId){var renderer=this._rootRenderer.renderComponent(renderComponentType);this._renderStore.store(renderer,rendererId)},MessageBasedRenderer.prototype._selectRootElement=function(renderer,selector,elId){this._renderStore.store(renderer.selectRootElement(selector,null),elId)},MessageBasedRenderer.prototype._createElement=function(renderer,parentElement,name,elId){this._renderStore.store(renderer.createElement(parentElement,name,null),elId)},MessageBasedRenderer.prototype._createViewRoot=function(renderer,hostElement,elId){var viewRoot=renderer.createViewRoot(hostElement);this._renderStore.serialize(hostElement)!==elId&&this._renderStore.store(viewRoot,elId)},MessageBasedRenderer.prototype._createTemplateAnchor=function(renderer,parentElement,elId){this._renderStore.store(renderer.createTemplateAnchor(parentElement,null),elId)},MessageBasedRenderer.prototype._createText=function(renderer,parentElement,value,elId){this._renderStore.store(renderer.createText(parentElement,value,null),elId)},MessageBasedRenderer.prototype._projectNodes=function(renderer,parentElement,nodes){renderer.projectNodes(parentElement,nodes)},MessageBasedRenderer.prototype._attachViewAfter=function(renderer,node,viewRootNodes){renderer.attachViewAfter(node,viewRootNodes)},MessageBasedRenderer.prototype._detachView=function(renderer,viewRootNodes){renderer.detachView(viewRootNodes)},MessageBasedRenderer.prototype._destroyView=function(renderer,hostElement,viewAllNodes){renderer.destroyView(hostElement,viewAllNodes);for(var i=0;i<viewAllNodes.length;i++)this._renderStore.remove(viewAllNodes[i])},MessageBasedRenderer.prototype._setElementProperty=function(renderer,renderElement,propertyName,propertyValue){renderer.setElementProperty(renderElement,propertyName,propertyValue)},MessageBasedRenderer.prototype._setElementAttribute=function(renderer,renderElement,attributeName,attributeValue){renderer.setElementAttribute(renderElement,attributeName,attributeValue)},MessageBasedRenderer.prototype._setBindingDebugInfo=function(renderer,renderElement,propertyName,propertyValue){renderer.setBindingDebugInfo(renderElement,propertyName,propertyValue)},MessageBasedRenderer.prototype._setElementClass=function(renderer,renderElement,className,isAdd){renderer.setElementClass(renderElement,className,isAdd)},MessageBasedRenderer.prototype._setElementStyle=function(renderer,renderElement,styleName,styleValue){renderer.setElementStyle(renderElement,styleName,styleValue)},MessageBasedRenderer.prototype._invokeElementMethod=function(renderer,renderElement,methodName,args){renderer.invokeElementMethod(renderElement,methodName,args)},MessageBasedRenderer.prototype._setText=function(renderer,renderNode,text){renderer.setText(renderNode,text)},MessageBasedRenderer.prototype._listen=function(renderer,renderElement,eventName,unlistenId){var _this=this,unregisterCallback=renderer.listen(renderElement,eventName,function(event){return _this._eventDispatcher.dispatchRenderEvent(renderElement,null,eventName,event)});this._renderStore.store(unregisterCallback,unlistenId)},MessageBasedRenderer.prototype._listenGlobal=function(renderer,eventTarget,eventName,unlistenId){var _this=this,unregisterCallback=renderer.listenGlobal(eventTarget,eventName,function(event){return _this._eventDispatcher.dispatchRenderEvent(null,eventTarget,eventName,event)});this._renderStore.store(unregisterCallback,unlistenId)},MessageBasedRenderer.prototype._listenDone=function(renderer,unlistenCallback){unlistenCallback()},MessageBasedRenderer.prototype._animate=function(renderer,element,startingStyles,keyframes,duration,delay,easing,previousPlayers,playerId){var normalizedPreviousPlayers,_this=this;previousPlayers&&previousPlayers.length&&(normalizedPreviousPlayers=previousPlayers.map(function(playerId){return _this._renderStore.deserialize(playerId)}));var player=renderer.animate(element,startingStyles,keyframes,duration,delay,easing,normalizedPreviousPlayers);this._renderStore.store(player,playerId)},MessageBasedRenderer.prototype._listenOnAnimationPlayer=function(player,element,phaseName){var _this=this,onEventComplete=function(){_this._eventDispatcher.dispatchAnimationEvent(player,phaseName,element)};"onDone"==phaseName?player.onDone(function(){return onEventComplete()}):player.onStart(function(){return onEventComplete()})},MessageBasedRenderer}();MessageBasedRenderer.decorators=[{type:_angular_core.Injectable}],MessageBasedRenderer.ctorParameters=function(){return[{type:ServiceMessageBrokerFactory},{type:MessageBus},{type:Serializer},{type:RenderStore},{type:_angular_core.RootRenderer}]};var MessageBasedRendererV2=function(){function MessageBasedRendererV2(_brokerFactory,_bus,_serializer,_renderStore,_rendererFactory){
this._brokerFactory=_brokerFactory,this._bus=_bus,this._serializer=_serializer,this._renderStore=_renderStore,this._rendererFactory=_rendererFactory}return MessageBasedRendererV2.prototype.start=function(){var _this=this,broker=this._brokerFactory.createMessageBroker(RENDERER_V2_CHANNEL);this._bus.initChannel(EVENT_V2_CHANNEL),this._eventDispatcher=new EventDispatcher(this._bus.to(EVENT_V2_CHANNEL),this._serializer);var _a=[2,1,0],RSO=_a[0],P=_a[1],CRT=_a[2],methods=[["createRenderer",this.createRenderer,RSO,CRT,P],["createElement",this.createElement,RSO,P,P,P],["createComment",this.createComment,RSO,P,P],["createText",this.createText,RSO,P,P],["appendChild",this.appendChild,RSO,RSO,RSO],["insertBefore",this.insertBefore,RSO,RSO,RSO,RSO],["removeChild",this.removeChild,RSO,RSO,RSO],["selectRootElement",this.selectRootElement,RSO,P,P],["parentNode",this.parentNode,RSO,RSO,P],["nextSibling",this.nextSibling,RSO,RSO,P],["setAttribute",this.setAttribute,RSO,RSO,P,P,P],["removeAttribute",this.removeAttribute,RSO,RSO,P,P],["addClass",this.addClass,RSO,RSO,P],["removeClass",this.removeClass,RSO,RSO,P],["setStyle",this.setStyle,RSO,RSO,P,P,P,P],["removeStyle",this.removeStyle,RSO,RSO,P,P],["setProperty",this.setProperty,RSO,RSO,P,P],["setValue",this.setValue,RSO,RSO,P],["listen",this.listen,RSO,RSO,P,P,P],["unlisten",this.unlisten,RSO,RSO],["destroy",this.destroy,RSO],["destroyNode",this.destroyNode,RSO,P]];methods.forEach(function(_a){var name=_a[0],method=_a[1],argTypes=_a.slice(2);broker.registerMethod(name,argTypes,method.bind(_this))})},MessageBasedRendererV2.prototype.destroy=function(r){r.destroy()},MessageBasedRendererV2.prototype.destroyNode=function(r,node){r.destroyNode&&r.destroyNode(node),this._renderStore.remove(node)},MessageBasedRendererV2.prototype.createRenderer=function(el,type,id){this._renderStore.store(this._rendererFactory.createRenderer(el,type),id)},MessageBasedRendererV2.prototype.createElement=function(r,name,namespace,id){this._renderStore.store(r.createElement(name,namespace),id)},MessageBasedRendererV2.prototype.createComment=function(r,value,id){this._renderStore.store(r.createComment(value),id)},MessageBasedRendererV2.prototype.createText=function(r,value,id){this._renderStore.store(r.createText(value),id)},MessageBasedRendererV2.prototype.appendChild=function(r,parent,child){r.appendChild(parent,child)},MessageBasedRendererV2.prototype.insertBefore=function(r,parent,child,ref){r.insertBefore(parent,child,ref)},MessageBasedRendererV2.prototype.removeChild=function(r,parent,child){r.removeChild(parent,child)},MessageBasedRendererV2.prototype.selectRootElement=function(r,selector,id){this._renderStore.store(r.selectRootElement(selector),id)},MessageBasedRendererV2.prototype.parentNode=function(r,node,id){this._renderStore.store(r.parentNode(node),id)},MessageBasedRendererV2.prototype.nextSibling=function(r,node,id){this._renderStore.store(r.nextSibling(node),id)},MessageBasedRendererV2.prototype.setAttribute=function(r,el,name,value,namespace){r.setAttribute(el,name,value,namespace)},MessageBasedRendererV2.prototype.removeAttribute=function(r,el,name,namespace){r.removeAttribute(el,name,namespace)},MessageBasedRendererV2.prototype.addClass=function(r,el,name){r.addClass(el,name)},MessageBasedRendererV2.prototype.removeClass=function(r,el,name){r.removeClass(el,name)},MessageBasedRendererV2.prototype.setStyle=function(r,el,style,value,hasVendorPrefix,hasImportant){r.setStyle(el,style,value,hasVendorPrefix,hasImportant)},MessageBasedRendererV2.prototype.removeStyle=function(r,el,style,hasVendorPrefix){r.removeStyle(el,style,hasVendorPrefix)},MessageBasedRendererV2.prototype.setProperty=function(r,el,name,value){r.setProperty(el,name,value)},MessageBasedRendererV2.prototype.setValue=function(r,node,value){r.setValue(node,value)},MessageBasedRendererV2.prototype.listen=function(r,el,elName,eventName,unlistenId){var _this=this,listener=function(event){return _this._eventDispatcher.dispatchRenderEvent(el,elName,eventName,event)},unlisten=r.listen(el||elName,eventName,listener);this._renderStore.store(unlisten,unlistenId)},MessageBasedRendererV2.prototype.unlisten=function(r,unlisten){unlisten()},MessageBasedRendererV2}();MessageBasedRendererV2.decorators=[{type:_angular_core.Injectable}],MessageBasedRendererV2.ctorParameters=function(){return[{type:ServiceMessageBrokerFactory},{type:MessageBus},{type:Serializer},{type:RenderStore},{type:_angular_core.RendererFactoryV2}]};var WebWorkerInstance=function(){function WebWorkerInstance(){}return WebWorkerInstance.prototype.init=function(worker,bus){this.worker=worker,this.bus=bus},WebWorkerInstance}();WebWorkerInstance.decorators=[{type:_angular_core.Injectable}],WebWorkerInstance.ctorParameters=function(){return[]};var WORKER_SCRIPT=new _angular_core.InjectionToken("WebWorkerScript"),WORKER_UI_STARTABLE_MESSAGING_SERVICE=new _angular_core.InjectionToken("WorkerRenderStartableMsgService"),_WORKER_UI_PLATFORM_PROVIDERS=[{provide:_angular_core.NgZone,useFactory:createNgZone,deps:[]},MessageBasedRenderer,{provide:WORKER_UI_STARTABLE_MESSAGING_SERVICE,useExisting:MessageBasedRenderer,multi:!0},BROWSER_SANITIZATION_PROVIDERS,{provide:_angular_core.ErrorHandler,useFactory:_exceptionHandler,deps:[]},{provide:_angular_platformBrowser.DOCUMENT,useFactory:_document,deps:[]},{provide:_angular_platformBrowser.EVENT_MANAGER_PLUGINS,useClass:DomEventsPlugin,multi:!0},{provide:_angular_platformBrowser.EVENT_MANAGER_PLUGINS,useClass:KeyEventsPlugin,multi:!0},{provide:_angular_platformBrowser.EVENT_MANAGER_PLUGINS,useClass:HammerGesturesPlugin,multi:!0},{provide:_angular_platformBrowser.HAMMER_GESTURE_CONFIG,useClass:_angular_platformBrowser.HammerGestureConfig},APP_ID_RANDOM_PROVIDER,{provide:DomRootRenderer,useClass:DomRootRenderer_},{provide:_angular_core.RootRenderer,useExisting:DomRootRenderer},DomRendererFactoryV2,{provide:_angular_core.RendererFactoryV2,useExisting:DomRendererFactoryV2},{provide:SharedStylesHost,useExisting:DomSharedStylesHost},{provide:ServiceMessageBrokerFactory,useClass:ServiceMessageBrokerFactory_},{provide:ClientMessageBrokerFactory,useClass:ClientMessageBrokerFactory_},{provide:_angular_platformBrowser.AnimationDriver,useFactory:_resolveDefaultAnimationDriver,deps:[]},Serializer,{provide:ON_WEB_WORKER,useValue:!1},RenderStore,DomSharedStylesHost,_angular_core.Testability,_angular_platformBrowser.EventManager,WebWorkerInstance,{provide:_angular_core.PLATFORM_INITIALIZER,useFactory:initWebWorkerRenderPlatform,multi:!0,deps:[_angular_core.Injector]},{provide:MessageBus,useFactory:messageBusFactory,deps:[WebWorkerInstance]}],platformWorkerUi=_angular_core.createPlatformFactory(_angular_core.platformCore,"workerUi",_WORKER_UI_PLATFORM_PROVIDERS),VERSION=new _angular_core.Version("4.0.0-beta.8-bb0460b"),MessageBasedPlatformLocation=function(){function MessageBasedPlatformLocation(_brokerFactory,_platformLocation,bus,_serializer){this._brokerFactory=_brokerFactory,this._platformLocation=_platformLocation,this._serializer=_serializer,this._platformLocation.onPopState(this._sendUrlChangeEvent.bind(this)),this._platformLocation.onHashChange(this._sendUrlChangeEvent.bind(this)),this._broker=this._brokerFactory.createMessageBroker(ROUTER_CHANNEL),this._channelSink=bus.to(ROUTER_CHANNEL)}return MessageBasedPlatformLocation.prototype.start=function(){var P=1;this._broker.registerMethod("getLocation",null,this._getLocation.bind(this),LocationType),this._broker.registerMethod("setPathname",[P],this._setPathname.bind(this)),this._broker.registerMethod("pushState",[P,P,P],this._platformLocation.pushState.bind(this._platformLocation)),this._broker.registerMethod("replaceState",[P,P,P],this._platformLocation.replaceState.bind(this._platformLocation)),this._broker.registerMethod("forward",null,this._platformLocation.forward.bind(this._platformLocation)),this._broker.registerMethod("back",null,this._platformLocation.back.bind(this._platformLocation))},MessageBasedPlatformLocation.prototype._getLocation=function(){return Promise.resolve(this._platformLocation.location)},MessageBasedPlatformLocation.prototype._sendUrlChangeEvent=function(e){this._channelSink.emit({event:{type:e.type},location:this._serializer.serialize(this._platformLocation.location,LocationType)})},MessageBasedPlatformLocation.prototype._setPathname=function(pathname){this._platformLocation.pathname=pathname},MessageBasedPlatformLocation}();MessageBasedPlatformLocation.decorators=[{type:_angular_core.Injectable}],MessageBasedPlatformLocation.ctorParameters=function(){return[{type:ServiceMessageBrokerFactory},{type:BrowserPlatformLocation},{type:MessageBus},{type:Serializer}]};var WORKER_UI_LOCATION_PROVIDERS=[MessageBasedPlatformLocation,BrowserPlatformLocation,{provide:_angular_core.PLATFORM_INITIALIZER,useFactory:initUiLocation,multi:!0,deps:[_angular_core.Injector]}],__extends$3=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},WebWorkerPlatformLocation=function(_super){function WebWorkerPlatformLocation(brokerFactory,bus,_serializer){var _this=_super.call(this)||this;return _this._serializer=_serializer,_this._popStateListeners=[],_this._hashChangeListeners=[],_this._location=null,_this._broker=brokerFactory.createMessageBroker(ROUTER_CHANNEL),_this._channelSource=bus.from(ROUTER_CHANNEL),_this._channelSource.subscribe({next:function(msg){var listeners=null;if(msg.hasOwnProperty("event")){var type=msg.event.type;"popstate"===type?listeners=_this._popStateListeners:"hashchange"===type&&(listeners=_this._hashChangeListeners),listeners&&(_this._location=_this._serializer.deserialize(msg.location,LocationType),listeners.forEach(function(fn){return fn(msg.event)}))}}}),_this}return __extends$3(WebWorkerPlatformLocation,_super),WebWorkerPlatformLocation.prototype.init=function(){var _this=this,args=new UiArguments("getLocation");return this._broker.runOnService(args,LocationType).then(function(val){return _this._location=val,!0},function(err){throw new Error(err)})},WebWorkerPlatformLocation.prototype.getBaseHrefFromDOM=function(){throw new Error("Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.")},WebWorkerPlatformLocation.prototype.onPopState=function(fn){this._popStateListeners.push(fn)},WebWorkerPlatformLocation.prototype.onHashChange=function(fn){this._hashChangeListeners.push(fn)},Object.defineProperty(WebWorkerPlatformLocation.prototype,"pathname",{get:function(){return this._location?this._location.pathname:null},set:function(newPath){if(null===this._location)throw new Error("Attempt to set pathname before value is obtained from UI");this._location.pathname=newPath;var fnArgs=[new FnArg(newPath,1)],args=new UiArguments("setPathname",fnArgs);this._broker.runOnService(args,null)},enumerable:!0,configurable:!0}),Object.defineProperty(WebWorkerPlatformLocation.prototype,"search",{get:function(){return this._location?this._location.search:null},enumerable:!0,configurable:!0}),Object.defineProperty(WebWorkerPlatformLocation.prototype,"hash",{get:function(){return this._location?this._location.hash:null},enumerable:!0,configurable:!0}),WebWorkerPlatformLocation.prototype.pushState=function(state,title,url){var fnArgs=[new FnArg(state,1),new FnArg(title,1),new FnArg(url,1)],args=new UiArguments("pushState",fnArgs);this._broker.runOnService(args,null)},WebWorkerPlatformLocation.prototype.replaceState=function(state,title,url){var fnArgs=[new FnArg(state,1),new FnArg(title,1),new FnArg(url,1)],args=new UiArguments("replaceState",fnArgs);this._broker.runOnService(args,null)},WebWorkerPlatformLocation.prototype.forward=function(){var args=new UiArguments("forward");this._broker.runOnService(args,null)},WebWorkerPlatformLocation.prototype.back=function(){var args=new UiArguments("back");this._broker.runOnService(args,null)},WebWorkerPlatformLocation}(_angular_common.PlatformLocation);WebWorkerPlatformLocation.decorators=[{type:_angular_core.Injectable}],WebWorkerPlatformLocation.ctorParameters=function(){return[{type:ClientMessageBrokerFactory},{type:MessageBus},{type:Serializer}]};var WORKER_APP_LOCATION_PROVIDERS=[{provide:_angular_common.PlatformLocation,useClass:WebWorkerPlatformLocation},{provide:_angular_core.APP_INITIALIZER,useFactory:appInitFnFactory,multi:!0,deps:[_angular_common.PlatformLocation,_angular_core.NgZone]}],NamedEventEmitter=function(){function NamedEventEmitter(){}return NamedEventEmitter.prototype.listen=function(eventName,callback){this._getListeners(eventName).push(callback)},NamedEventEmitter.prototype.unlisten=function(eventName,listener){var listeners=this._getListeners(eventName),index=listeners.indexOf(listener);index>-1&&listeners.splice(index,1)},NamedEventEmitter.prototype.dispatchEvent=function(eventName,event){for(var listeners=this._getListeners(eventName),i=0;i<listeners.length;i++)listeners[i](event)},NamedEventEmitter.prototype._getListeners=function(eventName){this._listeners||(this._listeners=new Map);var listeners=this._listeners.get(eventName);return listeners||(listeners=[],this._listeners.set(eventName,listeners)),listeners},NamedEventEmitter}(),WebWorkerRootRenderer=function(){function WebWorkerRootRenderer(messageBrokerFactory,bus,_serializer,renderStore){var _this=this;this._serializer=_serializer,this.renderStore=renderStore,this.globalEvents=new NamedEventEmitter,this._componentRenderers=new Map,this._messageBroker=messageBrokerFactory.createMessageBroker(RENDERER_CHANNEL),bus.initChannel(EVENT_CHANNEL);var source=bus.from(EVENT_CHANNEL);source.subscribe({next:function(message){return _this._dispatchEvent(message)}})}return WebWorkerRootRenderer.prototype._dispatchEvent=function(message){var element=this._serializer.deserialize(message.element,2),playerData=message.animationPlayer;if(playerData){var phaseName=message.phaseName,player=this._serializer.deserialize(playerData,2);element.animationPlayerEvents.dispatchEvent(player,phaseName)}else{var eventName=message.eventName,target=message.eventTarget,event_1=message.event;target?this.globalEvents.dispatchEvent(eventNameWithTarget(target,eventName),event_1):element.events.dispatchEvent(eventName,event_1)}},WebWorkerRootRenderer.prototype.renderComponent=function(componentType){var result=this._componentRenderers.get(componentType.id);if(!result){result=new WebWorkerRenderer(this,componentType),this._componentRenderers.set(componentType.id,result);var id=this.renderStore.allocateId();this.renderStore.store(result,id),this.runOnService("renderComponent",[new FnArg(componentType,_angular_core.RenderComponentType),new FnArg(result,2)])}return result},WebWorkerRootRenderer.prototype.runOnService=function(fnName,fnArgs){var args=new UiArguments(fnName,fnArgs);this._messageBroker.runOnService(args,null)},WebWorkerRootRenderer.prototype.allocateNode=function(){var result=new WebWorkerRenderNode,id=this.renderStore.allocateId();return this.renderStore.store(result,id),result},WebWorkerRootRenderer.prototype.allocateId=function(){return this.renderStore.allocateId()},WebWorkerRootRenderer.prototype.destroyNodes=function(nodes){for(var i=0;i<nodes.length;i++)this.renderStore.remove(nodes[i])},WebWorkerRootRenderer}();WebWorkerRootRenderer.decorators=[{type:_angular_core.Injectable}],WebWorkerRootRenderer.ctorParameters=function(){return[{type:ClientMessageBrokerFactory},{type:MessageBus},{type:Serializer},{type:RenderStore}]};var WebWorkerRenderer=function(){function WebWorkerRenderer(_rootRenderer,_componentType){this._rootRenderer=_rootRenderer,this._componentType=_componentType}return WebWorkerRenderer.prototype._runOnService=function(fnName,fnArgs){var fnArgsWithRenderer=[new FnArg(this,2)].concat(fnArgs);this._rootRenderer.runOnService(fnName,fnArgsWithRenderer)},WebWorkerRenderer.prototype.selectRootElement=function(selectorOrNode,debugInfo){var node=this._rootRenderer.allocateNode();return this._runOnService("selectRootElement",[new FnArg(selectorOrNode),new FnArg(node,2)]),node},WebWorkerRenderer.prototype.createElement=function(parentElement,name,debugInfo){var node=this._rootRenderer.allocateNode();return this._runOnService("createElement",[new FnArg(parentElement,2),new FnArg(name),new FnArg(node,2)]),node},WebWorkerRenderer.prototype.createViewRoot=function(hostElement){var viewRoot=this._componentType.encapsulation===_angular_core.ViewEncapsulation.Native?this._rootRenderer.allocateNode():hostElement;return this._runOnService("createViewRoot",[new FnArg(hostElement,2),new FnArg(viewRoot,2)]),viewRoot},WebWorkerRenderer.prototype.createTemplateAnchor=function(parentElement,debugInfo){var node=this._rootRenderer.allocateNode();return this._runOnService("createTemplateAnchor",[new FnArg(parentElement,2),new FnArg(node,2)]),node},WebWorkerRenderer.prototype.createText=function(parentElement,value,debugInfo){var node=this._rootRenderer.allocateNode();return this._runOnService("createText",[new FnArg(parentElement,2),new FnArg(value),new FnArg(node,2)]),node},WebWorkerRenderer.prototype.projectNodes=function(parentElement,nodes){this._runOnService("projectNodes",[new FnArg(parentElement,2),new FnArg(nodes,2)])},WebWorkerRenderer.prototype.attachViewAfter=function(node,viewRootNodes){this._runOnService("attachViewAfter",[new FnArg(node,2),new FnArg(viewRootNodes,2)])},WebWorkerRenderer.prototype.detachView=function(viewRootNodes){this._runOnService("detachView",[new FnArg(viewRootNodes,2)])},WebWorkerRenderer.prototype.destroyView=function(hostElement,viewAllNodes){this._runOnService("destroyView",[new FnArg(hostElement,2),new FnArg(viewAllNodes,2)]),this._rootRenderer.destroyNodes(viewAllNodes)},WebWorkerRenderer.prototype.setElementProperty=function(renderElement,propertyName,propertyValue){this._runOnService("setElementProperty",[new FnArg(renderElement,2),new FnArg(propertyName),new FnArg(propertyValue)])},WebWorkerRenderer.prototype.setElementAttribute=function(renderElement,attributeName,attributeValue){this._runOnService("setElementAttribute",[new FnArg(renderElement,2),new FnArg(attributeName),new FnArg(attributeValue)])},WebWorkerRenderer.prototype.setBindingDebugInfo=function(renderElement,propertyName,propertyValue){this._runOnService("setBindingDebugInfo",[new FnArg(renderElement,2),new FnArg(propertyName),new FnArg(propertyValue)])},WebWorkerRenderer.prototype.setElementClass=function(renderElement,className,isAdd){this._runOnService("setElementClass",[new FnArg(renderElement,2),new FnArg(className),new FnArg(isAdd)])},WebWorkerRenderer.prototype.setElementStyle=function(renderElement,styleName,styleValue){this._runOnService("setElementStyle",[new FnArg(renderElement,2),new FnArg(styleName),new FnArg(styleValue)])},WebWorkerRenderer.prototype.invokeElementMethod=function(renderElement,methodName,args){this._runOnService("invokeElementMethod",[new FnArg(renderElement,2),new FnArg(methodName),new FnArg(args)])},WebWorkerRenderer.prototype.setText=function(renderNode,text){this._runOnService("setText",[new FnArg(renderNode,2),new FnArg(text)])},WebWorkerRenderer.prototype.listen=function(renderElement,name,callback){var _this=this;renderElement.events.listen(name,callback);var unlistenCallbackId=this._rootRenderer.allocateId();return this._runOnService("listen",[new FnArg(renderElement,2),new FnArg(name),new FnArg(unlistenCallbackId)]),function(){renderElement.events.unlisten(name,callback),_this._runOnService("listenDone",[new FnArg(unlistenCallbackId)])}},WebWorkerRenderer.prototype.listenGlobal=function(target,name,callback){var _this=this;this._rootRenderer.globalEvents.listen(eventNameWithTarget(target,name),callback);var unlistenCallbackId=this._rootRenderer.allocateId();return this._runOnService("listenGlobal",[new FnArg(target),new FnArg(name,null),new FnArg(unlistenCallbackId)]),function(){_this._rootRenderer.globalEvents.unlisten(eventNameWithTarget(target,name),callback),_this._runOnService("listenDone",[new FnArg(unlistenCallbackId)])}},WebWorkerRenderer.prototype.animate=function(renderElement,startingStyles,keyframes,duration,delay,easing,previousPlayers){var _this=this;void 0===previousPlayers&&(previousPlayers=[]);var playerId=this._rootRenderer.allocateId(),previousPlayerIds=previousPlayers.map(function(player){return _this._rootRenderer.renderStore.serialize(player)});this._runOnService("animate",[new FnArg(renderElement,2),new FnArg(startingStyles),new FnArg(keyframes),new FnArg(duration),new FnArg(delay),new FnArg(easing),new FnArg(previousPlayerIds),new FnArg(playerId)]);var player=new _AnimationWorkerRendererPlayer(this._rootRenderer,renderElement);return this._rootRenderer.renderStore.store(player,playerId),player},WebWorkerRenderer}(),WebWorkerRendererFactoryV2=function(){function WebWorkerRendererFactoryV2(messageBrokerFactory,bus,_serializer,renderStore){var _this=this;this._serializer=_serializer,this.renderStore=renderStore,this.globalEvents=new NamedEventEmitter,this._messageBroker=messageBrokerFactory.createMessageBroker(RENDERER_V2_CHANNEL),bus.initChannel(EVENT_V2_CHANNEL);var source=bus.from(EVENT_V2_CHANNEL);source.subscribe({next:function(message){return _this._dispatchEvent(message)}})}return WebWorkerRendererFactoryV2.prototype.createRenderer=function(element,type){var renderer=new WebWorkerRendererV2(this),id=this.renderStore.allocateId();return this.renderStore.store(renderer,id),this.callUI("createRenderer",[new FnArg(element,2),new FnArg(type,0),new FnArg(renderer,2)]),renderer},WebWorkerRendererFactoryV2.prototype.callUI=function(fnName,fnArgs){var args=new UiArguments(fnName,fnArgs);this._messageBroker.runOnService(args,null)},WebWorkerRendererFactoryV2.prototype.allocateNode=function(){var result=new WebWorkerRenderNode,id=this.renderStore.allocateId();return this.renderStore.store(result,id),result},WebWorkerRendererFactoryV2.prototype.freeNode=function(node){this.renderStore.remove(node)},WebWorkerRendererFactoryV2.prototype.allocateId=function(){return this.renderStore.allocateId()},WebWorkerRendererFactoryV2.prototype._dispatchEvent=function(message){var element=this._serializer.deserialize(message.element,2),eventName=message.eventName,target=message.eventTarget,event=message.event;target?this.globalEvents.dispatchEvent(eventNameWithTarget(target,eventName),event):element.events.dispatchEvent(eventName,event)},WebWorkerRendererFactoryV2}();WebWorkerRendererFactoryV2.decorators=[{type:_angular_core.Injectable}],WebWorkerRendererFactoryV2.ctorParameters=function(){return[{type:ClientMessageBrokerFactory},{type:MessageBus},{type:Serializer},{type:RenderStore}]};var WebWorkerRendererV2=function(){function WebWorkerRendererV2(_rendererFactory){this._rendererFactory=_rendererFactory,this.asFnArg=new FnArg(this,2)}return WebWorkerRendererV2.prototype.destroy=function(){this.callUIWithRenderer("destroy")},WebWorkerRendererV2.prototype.destroyNode=function(node){this.callUIWithRenderer("destroyNode",[new FnArg(node,2)]),this._rendererFactory.freeNode(node)},WebWorkerRendererV2.prototype.createElement=function(name,namespace){var node=this._rendererFactory.allocateNode();return this.callUIWithRenderer("createElement",[new FnArg(name),new FnArg(namespace),new FnArg(node,2)]),node},WebWorkerRendererV2.prototype.createComment=function(value){var node=this._rendererFactory.allocateNode();return this.callUIWithRenderer("createComment",[new FnArg(value),new FnArg(node,2)]),node},WebWorkerRendererV2.prototype.createText=function(value){var node=this._rendererFactory.allocateNode();return this.callUIWithRenderer("createText",[new FnArg(value),new FnArg(node,2)]),node},WebWorkerRendererV2.prototype.appendChild=function(parent,newChild){this.callUIWithRenderer("appendChild",[new FnArg(parent,2),new FnArg(newChild,2)])},WebWorkerRendererV2.prototype.insertBefore=function(parent,newChild,refChild){parent&&this.callUIWithRenderer("insertBefore",[new FnArg(parent,2),new FnArg(newChild,2),new FnArg(refChild,2)])},WebWorkerRendererV2.prototype.removeChild=function(parent,oldChild){this.callUIWithRenderer("removeChild",[new FnArg(parent,2),new FnArg(oldChild,2)])},WebWorkerRendererV2.prototype.selectRootElement=function(selectorOrNode){var node=this._rendererFactory.allocateNode();return this.callUIWithRenderer("selectRootElement",[new FnArg(selectorOrNode),new FnArg(node,2)]),node},WebWorkerRendererV2.prototype.parentNode=function(node){var res=this._rendererFactory.allocateNode();return this.callUIWithRenderer("parentNode",[new FnArg(node,2),new FnArg(res,2)]),res},WebWorkerRendererV2.prototype.nextSibling=function(node){var res=this._rendererFactory.allocateNode();return this.callUIWithRenderer("nextSibling",[new FnArg(node,2),new FnArg(res,2)]),res},WebWorkerRendererV2.prototype.setAttribute=function(el,name,value,namespace){this.callUIWithRenderer("setAttribute",[new FnArg(el,2),new FnArg(name),new FnArg(value),new FnArg(namespace)])},WebWorkerRendererV2.prototype.removeAttribute=function(el,name,namespace){this.callUIWithRenderer("removeAttribute",[new FnArg(el,2),new FnArg(name),new FnArg(namespace)])},WebWorkerRendererV2.prototype.addClass=function(el,name){this.callUIWithRenderer("addClass",[new FnArg(el,2),new FnArg(name)])},WebWorkerRendererV2.prototype.removeClass=function(el,name){this.callUIWithRenderer("removeClass",[new FnArg(el,2),new FnArg(name)])},WebWorkerRendererV2.prototype.setStyle=function(el,style,value,hasVendorPrefix,hasImportant){this.callUIWithRenderer("setStyle",[new FnArg(el,2),new FnArg(style),new FnArg(value),new FnArg(hasVendorPrefix),new FnArg(hasImportant)])},WebWorkerRendererV2.prototype.removeStyle=function(el,style,hasVendorPrefix){this.callUIWithRenderer("removeStyle",[new FnArg(el,2),new FnArg(style),new FnArg(hasVendorPrefix)])},WebWorkerRendererV2.prototype.setProperty=function(el,name,value){this.callUIWithRenderer("setProperty",[new FnArg(el,2),new FnArg(name),new FnArg(value)])},WebWorkerRendererV2.prototype.setValue=function(node,value){this.callUIWithRenderer("setValue",[new FnArg(node,2),new FnArg(value)])},WebWorkerRendererV2.prototype.listen=function(target,eventName,listener){var _this=this,unlistenId=this._rendererFactory.allocateId(),_a="string"==typeof target?[null,target,target+":"+eventName]:[target,null,null],targetEl=_a[0],targetName=_a[1],fullName=_a[2];return fullName?this._rendererFactory.globalEvents.listen(fullName,listener):targetEl.events.listen(eventName,listener),this.callUIWithRenderer("listen",[new FnArg(targetEl,2),new FnArg(targetName),new FnArg(eventName),new FnArg(unlistenId)]),function(){fullName?_this._rendererFactory.globalEvents.unlisten(fullName,listener):targetEl.events.unlisten(eventName,listener),_this.callUIWithRenderer("unlisten",[new FnArg(unlistenId)])}},WebWorkerRendererV2.prototype.callUIWithRenderer=function(fnName,fnArgs){void 0===fnArgs&&(fnArgs=[]),this._rendererFactory.callUI(fnName,[this.asFnArg].concat(fnArgs))},WebWorkerRendererV2}(),AnimationPlayerEmitter=function(){function AnimationPlayerEmitter(){}return AnimationPlayerEmitter.prototype._getListeners=function(player,phaseName){this._listeners||(this._listeners=new Map);var phaseMap=this._listeners.get(player);phaseMap||this._listeners.set(player,phaseMap={});var phaseFns=phaseMap[phaseName];return phaseFns||(phaseFns=phaseMap[phaseName]=[]),phaseFns},AnimationPlayerEmitter.prototype.listen=function(player,phaseName,callback){this._getListeners(player,phaseName).push(callback)},AnimationPlayerEmitter.prototype.unlisten=function(player){this._listeners.delete(player)},AnimationPlayerEmitter.prototype.dispatchEvent=function(player,phaseName){for(var listeners=this._getListeners(player,phaseName),i=0;i<listeners.length;i++)listeners[i]()},AnimationPlayerEmitter}(),WebWorkerRenderNode=function(){function WebWorkerRenderNode(){this.events=new NamedEventEmitter,this.animationPlayerEvents=new AnimationPlayerEmitter}return WebWorkerRenderNode}(),_AnimationWorkerRendererPlayer=function(){function _AnimationWorkerRendererPlayer(_rootRenderer,_renderElement){this._rootRenderer=_rootRenderer,this._renderElement=_renderElement,this.parentPlayer=null,this._destroyed=!1,this._started=!1}return _AnimationWorkerRendererPlayer.prototype._runOnService=function(fnName,fnArgs){if(!this._destroyed){var fnArgsWithRenderer=[new FnArg(this,2),new FnArg(this._renderElement,2)].concat(fnArgs);this._rootRenderer.runOnService(ANIMATION_WORKER_PLAYER_PREFIX+fnName,fnArgsWithRenderer)}},_AnimationWorkerRendererPlayer.prototype.onStart=function(fn){this._renderElement.animationPlayerEvents.listen(this,"onStart",fn),this._runOnService("onStart",[])},_AnimationWorkerRendererPlayer.prototype.onDone=function(fn){this._renderElement.animationPlayerEvents.listen(this,"onDone",fn),this._runOnService("onDone",[])},_AnimationWorkerRendererPlayer.prototype.onDestroy=function(fn){this._renderElement.animationPlayerEvents.listen(this,"onDestroy",fn),this._runOnService("onDestroy",[])},_AnimationWorkerRendererPlayer.prototype.hasStarted=function(){return this._started},_AnimationWorkerRendererPlayer.prototype.init=function(){this._runOnService("init",[])},_AnimationWorkerRendererPlayer.prototype.play=function(){this._started=!0,this._runOnService("play",[])},_AnimationWorkerRendererPlayer.prototype.pause=function(){this._runOnService("pause",[])},_AnimationWorkerRendererPlayer.prototype.restart=function(){this._runOnService("restart",[])},_AnimationWorkerRendererPlayer.prototype.finish=function(){this._runOnService("finish",[])},_AnimationWorkerRendererPlayer.prototype.destroy=function(){this._destroyed||(this._renderElement.animationPlayerEvents.unlisten(this),this._runOnService("destroy",[]),this._rootRenderer.renderStore.remove(this),this._destroyed=!0)},_AnimationWorkerRendererPlayer.prototype.reset=function(){this._runOnService("reset",[])},_AnimationWorkerRendererPlayer.prototype.setPosition=function(p){this._runOnService("setPosition",[new FnArg(p)])},_AnimationWorkerRendererPlayer.prototype.getPosition=function(){return 0},_AnimationWorkerRendererPlayer}(),__extends$4=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},WorkerDomAdapter=function(_super){function WorkerDomAdapter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends$4(WorkerDomAdapter,_super),WorkerDomAdapter.makeCurrent=function(){setRootDomAdapter(new WorkerDomAdapter)},WorkerDomAdapter.prototype.logError=function(error){console.error?console.error(error):console.log(error)},WorkerDomAdapter.prototype.log=function(error){console.log(error)},WorkerDomAdapter.prototype.logGroup=function(error){console.group?(console.group(error),this.logError(error)):console.log(error)},WorkerDomAdapter.prototype.logGroupEnd=function(){console.groupEnd&&console.groupEnd()},WorkerDomAdapter.prototype.hasProperty=function(element,name){throw"not implemented"},WorkerDomAdapter.prototype.setProperty=function(el,name,value){throw"not implemented"},WorkerDomAdapter.prototype.getProperty=function(el,name){throw"not implemented"},WorkerDomAdapter.prototype.invoke=function(el,methodName,args){throw"not implemented"},Object.defineProperty(WorkerDomAdapter.prototype,"attrToPropMap",{get:function(){throw"not implemented"},set:function(value){throw"not implemented"},enumerable:!0,configurable:!0}),WorkerDomAdapter.prototype.parse=function(templateHtml){throw"not implemented"},WorkerDomAdapter.prototype.querySelector=function(el,selector){throw"not implemented"},WorkerDomAdapter.prototype.querySelectorAll=function(el,selector){throw"not implemented"},WorkerDomAdapter.prototype.on=function(el,evt,listener){throw"not implemented"},WorkerDomAdapter.prototype.onAndCancel=function(el,evt,listener){throw"not implemented"},WorkerDomAdapter.prototype.dispatchEvent=function(el,evt){throw"not implemented"},WorkerDomAdapter.prototype.createMouseEvent=function(eventType){
throw"not implemented"},WorkerDomAdapter.prototype.createEvent=function(eventType){throw"not implemented"},WorkerDomAdapter.prototype.preventDefault=function(evt){throw"not implemented"},WorkerDomAdapter.prototype.isPrevented=function(evt){throw"not implemented"},WorkerDomAdapter.prototype.getInnerHTML=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getTemplateContent=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getOuterHTML=function(el){throw"not implemented"},WorkerDomAdapter.prototype.nodeName=function(node){throw"not implemented"},WorkerDomAdapter.prototype.nodeValue=function(node){throw"not implemented"},WorkerDomAdapter.prototype.type=function(node){throw"not implemented"},WorkerDomAdapter.prototype.content=function(node){throw"not implemented"},WorkerDomAdapter.prototype.firstChild=function(el){throw"not implemented"},WorkerDomAdapter.prototype.nextSibling=function(el){throw"not implemented"},WorkerDomAdapter.prototype.parentElement=function(el){throw"not implemented"},WorkerDomAdapter.prototype.childNodes=function(el){throw"not implemented"},WorkerDomAdapter.prototype.childNodesAsList=function(el){throw"not implemented"},WorkerDomAdapter.prototype.clearNodes=function(el){throw"not implemented"},WorkerDomAdapter.prototype.appendChild=function(el,node){throw"not implemented"},WorkerDomAdapter.prototype.removeChild=function(el,node){throw"not implemented"},WorkerDomAdapter.prototype.replaceChild=function(el,newNode,oldNode){throw"not implemented"},WorkerDomAdapter.prototype.remove=function(el){throw"not implemented"},WorkerDomAdapter.prototype.insertBefore=function(parent,el,node){throw"not implemented"},WorkerDomAdapter.prototype.insertAllBefore=function(parent,el,nodes){throw"not implemented"},WorkerDomAdapter.prototype.insertAfter=function(parent,el,node){throw"not implemented"},WorkerDomAdapter.prototype.setInnerHTML=function(el,value){throw"not implemented"},WorkerDomAdapter.prototype.getText=function(el){throw"not implemented"},WorkerDomAdapter.prototype.setText=function(el,value){throw"not implemented"},WorkerDomAdapter.prototype.getValue=function(el){throw"not implemented"},WorkerDomAdapter.prototype.setValue=function(el,value){throw"not implemented"},WorkerDomAdapter.prototype.getChecked=function(el){throw"not implemented"},WorkerDomAdapter.prototype.setChecked=function(el,value){throw"not implemented"},WorkerDomAdapter.prototype.createComment=function(text){throw"not implemented"},WorkerDomAdapter.prototype.createTemplate=function(html){throw"not implemented"},WorkerDomAdapter.prototype.createElement=function(tagName,doc){throw"not implemented"},WorkerDomAdapter.prototype.createElementNS=function(ns,tagName,doc){throw"not implemented"},WorkerDomAdapter.prototype.createTextNode=function(text,doc){throw"not implemented"},WorkerDomAdapter.prototype.createScriptTag=function(attrName,attrValue,doc){throw"not implemented"},WorkerDomAdapter.prototype.createStyleElement=function(css,doc){throw"not implemented"},WorkerDomAdapter.prototype.createShadowRoot=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getShadowRoot=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getHost=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getDistributedNodes=function(el){throw"not implemented"},WorkerDomAdapter.prototype.clone=function(node){throw"not implemented"},WorkerDomAdapter.prototype.getElementsByClassName=function(element,name){throw"not implemented"},WorkerDomAdapter.prototype.getElementsByTagName=function(element,name){throw"not implemented"},WorkerDomAdapter.prototype.classList=function(element){throw"not implemented"},WorkerDomAdapter.prototype.addClass=function(element,className){throw"not implemented"},WorkerDomAdapter.prototype.removeClass=function(element,className){throw"not implemented"},WorkerDomAdapter.prototype.hasClass=function(element,className){throw"not implemented"},WorkerDomAdapter.prototype.setStyle=function(element,styleName,styleValue){throw"not implemented"},WorkerDomAdapter.prototype.removeStyle=function(element,styleName){throw"not implemented"},WorkerDomAdapter.prototype.getStyle=function(element,styleName){throw"not implemented"},WorkerDomAdapter.prototype.hasStyle=function(element,styleName,styleValue){throw"not implemented"},WorkerDomAdapter.prototype.tagName=function(element){throw"not implemented"},WorkerDomAdapter.prototype.attributeMap=function(element){throw"not implemented"},WorkerDomAdapter.prototype.hasAttribute=function(element,attribute){throw"not implemented"},WorkerDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){throw"not implemented"},WorkerDomAdapter.prototype.getAttribute=function(element,attribute){throw"not implemented"},WorkerDomAdapter.prototype.getAttributeNS=function(element,ns,attribute){throw"not implemented"},WorkerDomAdapter.prototype.setAttribute=function(element,name,value){throw"not implemented"},WorkerDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){throw"not implemented"},WorkerDomAdapter.prototype.removeAttribute=function(element,attribute){throw"not implemented"},WorkerDomAdapter.prototype.removeAttributeNS=function(element,ns,attribute){throw"not implemented"},WorkerDomAdapter.prototype.templateAwareRoot=function(el){throw"not implemented"},WorkerDomAdapter.prototype.createHtmlDocument=function(){throw"not implemented"},WorkerDomAdapter.prototype.getBoundingClientRect=function(el){throw"not implemented"},WorkerDomAdapter.prototype.getTitle=function(doc){throw"not implemented"},WorkerDomAdapter.prototype.setTitle=function(doc,newTitle){throw"not implemented"},WorkerDomAdapter.prototype.elementMatches=function(n,selector){throw"not implemented"},WorkerDomAdapter.prototype.isTemplateElement=function(el){throw"not implemented"},WorkerDomAdapter.prototype.isTextNode=function(node){throw"not implemented"},WorkerDomAdapter.prototype.isCommentNode=function(node){throw"not implemented"},WorkerDomAdapter.prototype.isElementNode=function(node){throw"not implemented"},WorkerDomAdapter.prototype.hasShadowRoot=function(node){throw"not implemented"},WorkerDomAdapter.prototype.isShadowRoot=function(node){throw"not implemented"},WorkerDomAdapter.prototype.importIntoDoc=function(node){throw"not implemented"},WorkerDomAdapter.prototype.adoptNode=function(node){throw"not implemented"},WorkerDomAdapter.prototype.getHref=function(element){throw"not implemented"},WorkerDomAdapter.prototype.getEventKey=function(event){throw"not implemented"},WorkerDomAdapter.prototype.resolveAndSetHref=function(element,baseUrl,href){throw"not implemented"},WorkerDomAdapter.prototype.supportsDOMEvents=function(){throw"not implemented"},WorkerDomAdapter.prototype.supportsNativeShadowDOM=function(){throw"not implemented"},WorkerDomAdapter.prototype.getGlobalEventTarget=function(doc,target){throw"not implemented"},WorkerDomAdapter.prototype.getHistory=function(){throw"not implemented"},WorkerDomAdapter.prototype.getLocation=function(){throw"not implemented"},WorkerDomAdapter.prototype.getBaseHref=function(doc){throw"not implemented"},WorkerDomAdapter.prototype.resetBaseElement=function(){throw"not implemented"},WorkerDomAdapter.prototype.getUserAgent=function(){throw"not implemented"},WorkerDomAdapter.prototype.setData=function(element,name,value){throw"not implemented"},WorkerDomAdapter.prototype.getComputedStyle=function(element){throw"not implemented"},WorkerDomAdapter.prototype.getData=function(element,name){throw"not implemented"},WorkerDomAdapter.prototype.setGlobalVar=function(name,value){throw"not implemented"},WorkerDomAdapter.prototype.performanceNow=function(){throw"not implemented"},WorkerDomAdapter.prototype.getAnimationPrefix=function(){throw"not implemented"},WorkerDomAdapter.prototype.getTransitionEnd=function(){throw"not implemented"},WorkerDomAdapter.prototype.supportsAnimation=function(){throw"not implemented"},WorkerDomAdapter.prototype.supportsWebAnimation=function(){throw"not implemented"},WorkerDomAdapter.prototype.supportsCookies=function(){return!1},WorkerDomAdapter.prototype.getCookie=function(name){throw"not implemented"},WorkerDomAdapter.prototype.setCookie=function(name,value){throw"not implemented"},WorkerDomAdapter}(DomAdapter),platformWorkerApp=_angular_core.createPlatformFactory(_angular_core.platformCore,"workerApp"),_postMessage={postMessage:function(message,transferrables){postMessage(message,transferrables)}},WorkerAppModule=function(){function WorkerAppModule(){}return WorkerAppModule}();WorkerAppModule.decorators=[{type:_angular_core.NgModule,args:[{providers:[BROWSER_SANITIZATION_PROVIDERS,Serializer,{provide:_angular_platformBrowser.DOCUMENT,useValue:null},{provide:ClientMessageBrokerFactory,useClass:ClientMessageBrokerFactory_},{provide:ServiceMessageBrokerFactory,useClass:ServiceMessageBrokerFactory_},WebWorkerRootRenderer,{provide:_angular_core.RootRenderer,useExisting:WebWorkerRootRenderer},WebWorkerRendererFactoryV2,{provide:_angular_core.RendererFactoryV2,useExisting:WebWorkerRendererFactoryV2},{provide:ON_WEB_WORKER,useValue:!0},RenderStore,{provide:_angular_core.ErrorHandler,useFactory:errorHandler,deps:[]},{provide:MessageBus,useFactory:createMessageBus,deps:[_angular_core.NgZone]},{provide:_angular_core.APP_INITIALIZER,useValue:setupWebWorker,multi:!0}],exports:[_angular_common.CommonModule,_angular_core.ApplicationModule]}]}],WorkerAppModule.ctorParameters=function(){return[]},exports.VERSION=VERSION,exports.ClientMessageBroker=ClientMessageBroker,exports.ClientMessageBrokerFactory=ClientMessageBrokerFactory,exports.FnArg=FnArg,exports.UiArguments=UiArguments,exports.MessageBus=MessageBus,exports.PRIMITIVE=PRIMITIVE,exports.ServiceMessageBroker=ServiceMessageBroker,exports.ServiceMessageBrokerFactory=ServiceMessageBrokerFactory,exports.WORKER_UI_LOCATION_PROVIDERS=WORKER_UI_LOCATION_PROVIDERS,exports.WORKER_APP_LOCATION_PROVIDERS=WORKER_APP_LOCATION_PROVIDERS,exports.WorkerAppModule=WorkerAppModule,exports.platformWorkerApp=platformWorkerApp,exports.platformWorkerUi=platformWorkerUi,exports.bootstrapWorkerUi=bootstrapWorkerUi});