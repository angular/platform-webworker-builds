/**
 * @license Angular v11.0.0-next.0+13.sha-73001b4
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@angular/platform-webworker",["exports","@angular/common","@angular/core","@angular/platform-browser"],t):t(((e=e||self).ng=e.ng||{},e.ng.platformWebworker={}),e.ng.common,e.ng.core,e.ng.platformBrowser)}(this,(function(e,t,r,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var c=new r.InjectionToken("WebWorker.onWebWorker"),l=function l(){},u=function(){function e(){this._nextIndex=0,this._lookupById=new Map,this._lookupByObject=new Map}return e.prototype.allocateId=function(){return this._nextIndex++},e.prototype.store=function(e,t){null!=t&&(this._lookupById.set(t,e),this._lookupByObject.set(e,t))},e.prototype.remove=function(e){var t=this._lookupByObject.get(e);null!=t&&(this._lookupByObject.delete(e),this._lookupById.delete(t))},e.prototype.deserialize=function(e){return this._lookupById.has(e)?this._lookupById.get(e):null},e.prototype.serialize=function(e){return null==e?null:this._lookupByObject.get(e)},e}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */u.decorators=[{type:r.Injectable}];
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var p=function p(e,t,r,n,o,i,s,a,c){this.href=e,this.protocol=t,this.host=r,this.hostname=n,this.port=o,this.pathname=i,this.search=s,this.hash=a,this.origin=c},h=function(){function e(e){this._renderStore=e}return e.prototype.serialize=function(e,t){var n=this;if(void 0===t&&(t=1),null==e||1===t)return e;if(Array.isArray(e))return e.map((function(e){return n.serialize(e,t)}));if(2===t)return this._renderStore.serialize(e);if(0===t)return this._serializeRendererType2(e);if(t===p)return this._serializeLocation(e);throw new Error("No serializer for type "+r.ɵstringify(t))},e.prototype.deserialize=function(e,t,n){var o=this;if(void 0===t&&(t=1),null==e||1===t)return e;if(Array.isArray(e))return e.map((function(e){return o.deserialize(e,t,n)}));if(2===t)return this._renderStore.deserialize(e);if(0===t)return this._deserializeRendererType2(e);if(t===p)return this._deserializeLocation(e);throw new Error("No deserializer for type "+r.ɵstringify(t))},e.prototype._serializeLocation=function(e){return{href:e.href,protocol:e.protocol,host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash,origin:e.origin}},e.prototype._deserializeLocation=function(e){return new p(e.href,e.protocol,e.host,e.hostname,e.port,e.pathname,e.search,e.hash,e.origin)},e.prototype._serializeRendererType2=function(e){return{id:e.id,encapsulation:this.serialize(e.encapsulation),styles:this.serialize(e.styles),data:this.serialize(e.data)}},e.prototype._deserializeRendererType2=function(e){return{id:e.id,encapsulation:e.encapsulation,styles:this.deserialize(e.styles),data:this.deserialize(e.data)}},e}();h.decorators=[{type:r.Injectable}],h.ctorParameters=function(){return[{type:u}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var d=function(){function e(e,t){this._messageBus=e,this._serializer=t}return e.prototype.createMessageBroker=function(e,t){return void 0===t&&(t=!0),this._messageBus.initChannel(e,t),new f(this._messageBus,this._serializer,e)},e}();d.decorators=[{type:r.Injectable}],d.ctorParameters=function(){return[{type:l},{type:h}]};var f=function(){function e(e,t,r){var n=this;this.channel=r,this._pending=new Map,this._sink=e.to(r),this._serializer=t,e.from(r).subscribe({next:function(e){return n._handleMessage(e)}})}return e.prototype._generateMessageId=function(e){for(var t=r.ɵstringify((new Date).getTime()),n=0,o=e+t+r.ɵstringify(n);this._pending.has(o);)o=""+e+t+n,n++;return o},e.prototype.runOnService=function(e,t){var r,n=this,o=[];e.args&&e.args.forEach((function(e){o.push(null!=e.type?n._serializer.serialize(e.value,e.type):e.value)}));var i=null;if(null!=t){var s=void 0;r=new Promise((function(e,t){s={resolve:e,reject:t}})),i=this._generateMessageId(e.method),this._pending.set(i,s),r.catch((function(e){console&&console.error&&console.error(e),s.reject(e)})),r=r.then((function(e){return n._serializer?n._serializer.deserialize(e,t):e}))}else r=null;var a={method:e.method,args:o};return null!=i&&(a.id=i),this._sink.emit(a),r},e.prototype._handleMessage=function(e){if("result"===e.type||"error"===e.type){var t=e.id;this._pending.has(t)&&("result"===e.type?this._pending.get(t).resolve(e.value):this._pending.get(t).reject(e.value),this._pending.delete(t))}},e}(),y=function y(e,t){void 0===t&&(t=1),this.value=e,this.type=t},_=function _(e,t){this.method=e,this.args=t},m=function(){function e(e){this._postMessageTarget=e,this._channels={},this._messageBuffer=[]}return e.prototype.attachToZone=function(e){var t=this;this._zone=e,this._zone.runOutsideAngular((function(){t._zone.onStable.subscribe({next:function(){t._handleOnEventDone()}})}))},e.prototype.initChannel=function(e,t){var n=this;if(void 0===t&&(t=!0),this._channels.hasOwnProperty(e))throw new Error(e+" has already been initialized");var o=new r.EventEmitter(!1),i=new w(o,t);this._channels[e]=i,o.subscribe((function(r){var o={channel:e,message:r};t?n._messageBuffer.push(o):n._sendMessages([o])}))},e.prototype.to=function(e){if(this._channels.hasOwnProperty(e))return this._channels[e].emitter;throw new Error(e+" is not set up. Did you forget to call initChannel?")},e.prototype._handleOnEventDone=function(){this._messageBuffer.length>0&&(this._sendMessages(this._messageBuffer),this._messageBuffer=[])},e.prototype._sendMessages=function(e){this._postMessageTarget.postMessage(e)},e}(),g=function(){function e(e){var t=this;this._channels={},e?e.addEventListener("message",(function(e){return t._handleMessages(e)})):self.addEventListener("message",(function(e){return t._handleMessages(e)}))}return e.prototype.attachToZone=function(e){this._zone=e},e.prototype.initChannel=function(e,t){if(void 0===t&&(t=!0),this._channels.hasOwnProperty(e))throw new Error(e+" has already been initialized");var n=new r.EventEmitter(!1),o=new w(n,t);this._channels[e]=o},e.prototype.from=function(e){if(this._channels.hasOwnProperty(e))return this._channels[e].emitter;throw new Error(e+" is not set up. Did you forget to call initChannel?")},e.prototype._handleMessages=function(e){for(var t=e.data,r=0;r<t.length;r++)this._handleMessage(t[r])},e.prototype._handleMessage=function(e){var t=e.channel;if(this._channels.hasOwnProperty(t)){var r=this._channels[t];r.runInZone?this._zone.run((function(){r.emitter.emit(e.message)})):r.emitter.emit(e.message)}},e}(),v=function(){function e(e,t){this.sink=e,this.source=t}return e.prototype.attachToZone=function(e){this.source.attachToZone(e),this.sink.attachToZone(e)},e.prototype.initChannel=function(e,t){void 0===t&&(t=!0),this.source.initChannel(e,t),this.sink.initChannel(e,t)},e.prototype.from=function(e){return this.source.from(e)},e.prototype.to=function(e){return this.sink.to(e)},e}();v.decorators=[{type:r.Injectable}],v.ctorParameters=function(){return[{type:m},{type:g}]};var w=function w(e,t){this.emitter=e,this.runInZone=t},b=function(){function e(e,t){this._messageBus=e,this._serializer=t}return e.prototype.createMessageBroker=function(e,t){return void 0===t&&(t=!0),this._messageBus.initChannel(e,t),new k(this._messageBus,this._serializer,e)},e}();b.decorators=[{type:r.Injectable}],b.ctorParameters=function(){return[{type:l},{type:h}]};var k=function(){function e(e,t,r){var n=this;this._serializer=t,this.channel=r,this._methods=new Map,this._sink=e.to(r),e.from(r).subscribe({next:function(e){return n._handleMessage(e)}})}return e.prototype.registerMethod=function(e,t,r,n){var o=this;this._methods.set(e,(function(e){for(var i=e.args,s=t?t.length:0,c=[],l=0;l<s;l++)c[l]=o._serializer.deserialize(i[l],t[l]);var u=r.apply(void 0,a(c));n&&u&&o._wrapWebWorkerPromise(e.id,u,n)}))},e.prototype._handleMessage=function(e){this._methods.has(e.method)&&this._methods.get(e.method)(e)},e.prototype._wrapWebWorkerPromise=function(e,t,r){var n=this;t.then((function(t){n._sink.emit({type:"result",value:n._serializer.serialize(t,r),id:e})}))},e}(),E=["altKey","button","clientX","clientY","metaKey","movementX","movementY","offsetX","offsetY","region","screenX","screenY","shiftKey"],I=["altkey","charCode","code","ctrlKey","isComposing","key","keyCode","location","metaKey","repeat","shiftKey","which"],R=["propertyName","elapsedTime","pseudoElement"],S=["type","bubbles","cancelable"],C=new Set(["input","select","option","button","li","meter","progress","param","textarea"]);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function P(e,t){if(C.has(e.target.tagName.toLowerCase())){var r=e.target;t.target={value:r.value},r.files&&(t.target.files=r.files)}return t}function O(e,t){for(var r={},n=0;n<t.length;n++){var o=t[n];r[o]=e[o]}return r}var M=function(){function e(e,t){this._sink=e,this._serializer=t}return e.prototype.dispatchAnimationEvent=function(e,t,r){return this._sink.emit({element:this._serializer.serialize(r,2),animationPlayer:this._serializer.serialize(e,2),phaseName:t}),!0},e.prototype.dispatchRenderEvent=function(e,t,r,n){var o;switch(n.type){case"click":case"mouseup":case"mousedown":case"dblclick":case"contextmenu":case"mouseenter":case"mouseleave":case"mousemove":case"mouseout":case"mouseover":case"show":o=function i(e){return O(e,E)}(n);break;case"keydown":case"keypress":case"keyup":o=function s(e){return P(e,O(e,I))}(n);break;case"input":case"change":case"blur":o=function a(e){return P(e,O(e,S))}(n);break;case"abort":case"afterprint":case"beforeprint":case"cached":case"canplay":case"canplaythrough":case"chargingchange":case"chargingtimechange":case"close":case"dischargingtimechange":case"DOMContentLoaded":case"downloading":case"durationchange":case"emptied":case"ended":case"error":case"fullscreenchange":case"fullscreenerror":case"invalid":case"languagechange":case"levelfchange":case"loadeddata":case"loadedmetadata":case"obsolete":case"offline":case"online":case"open":case"orientatoinchange":case"pause":case"pointerlockchange":case"pointerlockerror":case"play":case"playing":case"ratechange":case"readystatechange":case"reset":case"scroll":case"seeked":case"seeking":case"stalled":case"submit":case"success":case"suspend":case"timeupdate":case"updateready":case"visibilitychange":case"volumechange":case"waiting":o=function c(e){return O(e,S)}(n);break;case"transitionend":o=function l(e){return P(e,O(e,R))}(n);break;default:throw new Error(r+" not supported on WebWorkers")}return this._sink.emit({element:this._serializer.serialize(e,2),eventName:r,eventTarget:t,event:o}),!1},e}(),N=function(){function e(e,t,r,n,o){this._brokerFactory=e,this._bus=t,this._serializer=r,this._renderStore=n,this._rendererFactory=o}return e.prototype.start=function(){var e=this,t=this._brokerFactory.createMessageBroker("v2.ng-Renderer");this._bus.initChannel("v2.ng-Events"),this._eventDispatcher=new M(this._bus.to("v2.ng-Events"),this._serializer);var r=s([2,1,0],3),n=r[0],o=r[1];[["createRenderer",this.createRenderer,n,r[2],o],["createElement",this.createElement,n,o,o,o],["createComment",this.createComment,n,o,o],["createText",this.createText,n,o,o],["appendChild",this.appendChild,n,n,n],["insertBefore",this.insertBefore,n,n,n,n],["removeChild",this.removeChild,n,n,n],["selectRootElement",this.selectRootElement,n,o,o],["parentNode",this.parentNode,n,n,o],["nextSibling",this.nextSibling,n,n,o],["setAttribute",this.setAttribute,n,n,o,o,o],["removeAttribute",this.removeAttribute,n,n,o,o],["addClass",this.addClass,n,n,o],["removeClass",this.removeClass,n,n,o],["setStyle",this.setStyle,n,n,o,o,o],["removeStyle",this.removeStyle,n,n,o,o],["setProperty",this.setProperty,n,n,o,o],["setValue",this.setValue,n,n,o],["listen",this.listen,n,n,o,o,o],["unlisten",this.unlisten,n,n],["destroy",this.destroy,n],["destroyNode",this.destroyNode,n,o]].forEach((function(r){var n=s(r),o=n[0],i=n[1],a=n.slice(2);t.registerMethod(o,a,i.bind(e))}))},e.prototype.destroy=function(e){e.destroy()},e.prototype.destroyNode=function(e,t){e.destroyNode&&e.destroyNode(t),this._renderStore.remove(t)},e.prototype.createRenderer=function(e,t,r){this._renderStore.store(this._rendererFactory.createRenderer(e,t),r)},e.prototype.createElement=function(e,t,r,n){this._renderStore.store(e.createElement(t,r),n)},e.prototype.createComment=function(e,t,r){this._renderStore.store(e.createComment(t),r)},e.prototype.createText=function(e,t,r){this._renderStore.store(e.createText(t),r)},e.prototype.appendChild=function(e,t,r){e.appendChild(t,r)},e.prototype.insertBefore=function(e,t,r,n){e.insertBefore(t,r,n)},e.prototype.removeChild=function(e,t,r){e.removeChild(t,r)},e.prototype.selectRootElement=function(e,t,r){this._renderStore.store(e.selectRootElement(t),r)},e.prototype.parentNode=function(e,t,r){this._renderStore.store(e.parentNode(t),r)},e.prototype.nextSibling=function(e,t,r){this._renderStore.store(e.nextSibling(t),r)},e.prototype.setAttribute=function(e,t,r,n,o){e.setAttribute(t,r,n,o)},e.prototype.removeAttribute=function(e,t,r,n){e.removeAttribute(t,r,n)},e.prototype.addClass=function(e,t,r){e.addClass(t,r)},e.prototype.removeClass=function(e,t,r){e.removeClass(t,r)},e.prototype.setStyle=function(e,t,r,n,o){e.setStyle(t,r,n,o)},e.prototype.removeStyle=function(e,t,r,n){e.removeStyle(t,r,n)},e.prototype.setProperty=function(e,t,r,n){e.setProperty(t,r,n)},e.prototype.setValue=function(e,t,r){e.setValue(t,r)},e.prototype.listen=function(e,t,r,n,o){var i=this,s=e.listen(t||r,n,(function(e){return i._eventDispatcher.dispatchRenderEvent(t,r,n,e)}));this._renderStore.store(s,o)},e.prototype.unlisten=function(e,t){t()},e}();N.decorators=[{type:r.Injectable}],N.ctorParameters=function(){return[{type:b},{type:l},{type:h},{type:u},{type:r.RendererFactory2}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var A=function(){function e(){}return e.prototype.init=function(e,t){this.worker=e,this.bus=t},e}();A.decorators=[{type:r.Injectable}];var z=new r.InjectionToken("WebWorkerScript"),L=new r.InjectionToken("WorkerRenderStartableMsgService"),T=[{provide:r.NgZone,useFactory:function B(){return new r.NgZone({enableLongStackTrace:r.isDevMode()})},deps:[]},{provide:N,deps:[b,l,h,u,r.RendererFactory2]},{provide:L,useExisting:N,multi:!0},n.ɵBROWSER_SANITIZATION_PROVIDERS,{provide:r.ErrorHandler,useFactory:function F(){return new r.ErrorHandler},deps:[]},{provide:t.DOCUMENT,useFactory:function W(){return r.ɵsetDocument(document),document},deps:[]},{provide:n.EVENT_MANAGER_PLUGINS,useClass:n.ɵDomEventsPlugin,deps:[t.DOCUMENT,r.NgZone],multi:!0},{provide:n.EVENT_MANAGER_PLUGINS,useClass:n.ɵKeyEventsPlugin,deps:[t.DOCUMENT],multi:!0},{provide:n.EVENT_MANAGER_PLUGINS,useClass:n.ɵHammerGesturesPlugin,deps:[t.DOCUMENT,n.HAMMER_GESTURE_CONFIG],multi:!0},{provide:n.HAMMER_GESTURE_CONFIG,useClass:n.HammerGestureConfig,deps:[]},r.ɵAPP_ID_RANDOM_PROVIDER,{provide:n.ɵDomRendererFactory2,deps:[n.EventManager,n.ɵDomSharedStylesHost]},{provide:r.RendererFactory2,useExisting:n.ɵDomRendererFactory2},{provide:n.ɵSharedStylesHost,useExisting:n.ɵDomSharedStylesHost},{provide:b,useClass:b,deps:[l,h]},{provide:d,useClass:d,deps:[l,h]},{provide:h,deps:[u]},{provide:c,useValue:!1},{provide:u,deps:[]},{provide:n.ɵDomSharedStylesHost,deps:[t.DOCUMENT]},{provide:r.Testability,deps:[r.NgZone]},{provide:n.EventManager,deps:[n.EVENT_MANAGER_PLUGINS,r.NgZone]},{provide:A,deps:[]},{provide:r.PLATFORM_INITIALIZER,useFactory:function U(e){return function(){var t;n.ɵBrowserDomAdapter.makeCurrent(),n.ɵBrowserGetTestability.init();try{t=e.get(z)}catch(e){throw new Error("You must provide your WebWorker's initialization script with the WORKER_SCRIPT token")}!function o(e,t){var r=new Worker(e),n=new m(r),o=new g(r),i=new v(n,o);t.init(r,i)}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(t,e.get(A)),function i(e){var t=e.get(l),n=e.get(r.NgZone);t.attachToZone(n);var o=e.get(L);n.runGuarded((function(){o.forEach((function(e){e.start()}))}))}(e)}},multi:!0,deps:[r.Injector]},{provide:r.PLATFORM_ID,useValue:t.ɵPLATFORM_WORKER_UI_ID},{provide:l,useFactory:function D(e){return e.bus},deps:[A]}],j=r.createPlatformFactory(r.platformCore,"workerUi",T),x=new r.Version("11.0.0-next.0+13.sha-73001b4"),V=function(){function e(e,t,r,n){this._brokerFactory=e,this._platformLocation=t,this._serializer=n,this._platformLocation.onPopState(this._sendUrlChangeEvent.bind(this)),this._platformLocation.onHashChange(this._sendUrlChangeEvent.bind(this)),this._broker=this._brokerFactory.createMessageBroker("ng-Router"),this._channelSink=r.to("ng-Router")}return e.prototype.start=function(){this._broker.registerMethod("getLocation",null,this._getLocation.bind(this),p),this._broker.registerMethod("setPathname",[1],this._setPathname.bind(this)),this._broker.registerMethod("pushState",[1,1,1],this._platformLocation.pushState.bind(this._platformLocation)),this._broker.registerMethod("replaceState",[1,1,1],this._platformLocation.replaceState.bind(this._platformLocation)),this._broker.registerMethod("forward",null,this._platformLocation.forward.bind(this._platformLocation)),this._broker.registerMethod("back",null,this._platformLocation.back.bind(this._platformLocation))},e.prototype._getLocation=function(){return Promise.resolve(this._platformLocation.location)},e.prototype._sendUrlChangeEvent=function(e){this._channelSink.emit({event:{type:e.type},location:this._serializer.serialize(this._platformLocation.location,p)})},e.prototype._setPathname=function(e){this._platformLocation.pathname=e},e}();V.decorators=[{type:r.Injectable}],V.ctorParameters=function(){return[{type:b},{type:t.ɵBrowserPlatformLocation},{type:l},{type:h}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var Z=[{provide:V,deps:[b,t.ɵBrowserPlatformLocation,l,h]},{provide:t.ɵBrowserPlatformLocation,deps:[t.DOCUMENT]},{provide:r.PLATFORM_INITIALIZER,useFactory:function G(e){return function(){e.get(r.NgZone).runGuarded((function(){return e.get(V).start()}))}},multi:!0,deps:[r.Injector]}],H=function(e){function t(t,r,n){var o=e.call(this)||this;return o._serializer=n,o._popStateListeners=[],o._hashChangeListeners=[],o._location=null,o._broker=t.createMessageBroker("ng-Router"),o._channelSource=r.from("ng-Router"),o._channelSource.subscribe({next:function(e){var t=null;if(e.hasOwnProperty("event")){var r=e.event.type;"popstate"===r?t=o._popStateListeners:"hashchange"===r&&(t=o._hashChangeListeners),t&&(o._location=o._serializer.deserialize(e.location,p),t.forEach((function(t){return t(e.event)})))}}}),o.initialized=new Promise((function(e){return o.initializedResolve=e})),o}return i(t,e),t.prototype.init=function(){var e=this,t=new _("getLocation");return this._broker.runOnService(t,p).then((function(t){return e._location=t,e.initializedResolve(),!0}),(function(e){throw new Error(e)}))},t.prototype.getBaseHrefFromDOM=function(){throw new Error("Attempt to get base href from DOM from WebWorker. You must either provide a value for the APP_BASE_HREF token through DI or use the hash location strategy.")},t.prototype.onPopState=function(e){this._popStateListeners.push(e)},t.prototype.onHashChange=function(e){this._hashChangeListeners.push(e)},Object.defineProperty(t.prototype,"href",{get:function(){return this._location?this._location.href:"<unknown>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hostname",{get:function(){return this._location?this._location.host:"<unknown>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this._location?this._location.port:"<unknown>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._location?this._location.protocol:"<unknown>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this._location?this._location.search:"<unknown>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this._location?this._location.hash:"<unknown>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pathname",{set:function(e){if(null===this._location)throw new Error("Attempt to set pathname before value is obtained from UI");this._location.pathname=e;var t=[new y(e,1)],r=new _("setPathname",t);this._broker.runOnService(r,null)},enumerable:!1,configurable:!0}),t.prototype.pushState=function(e,t,r){var n=[new y(e,1),new y(t,1),new y(r,1)],o=new _("pushState",n);this._broker.runOnService(o,null)},t.prototype.replaceState=function(e,t,r){var n=[new y(e,1),new y(t,1),new y(r,1)],o=new _("replaceState",n);this._broker.runOnService(o,null)},t.prototype.forward=function(){var e=new _("forward");this._broker.runOnService(e,null)},t.prototype.back=function(){var e=new _("back");this._broker.runOnService(e,null)},t.prototype.getState=function(){},t}(t.PlatformLocation);H.decorators=[{type:r.Injectable}],H.ctorParameters=function(){return[{type:d},{type:l},{type:h}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var K=[{provide:t.PlatformLocation,useClass:H},{provide:r.APP_INITIALIZER,useFactory:X,multi:!0,deps:[t.PlatformLocation,r.NgZone]},{provide:t.LOCATION_INITIALIZED,useFactory:Y,deps:[t.PlatformLocation]}];function Y(e){return e.initialized}function X(e,t){return function(){return t.runGuarded((function(){return e.init()}))}}var q=function(){function e(){}return e.prototype.listen=function(e,t){this._getListeners(e).push(t)},e.prototype.unlisten=function(e,t){var r=this._getListeners(e),n=r.indexOf(t);n>-1&&r.splice(n,1)},e.prototype.dispatchEvent=function(e,t){for(var r=this._getListeners(e),n=0;n<r.length;n++)r[n](t)},e.prototype._getListeners=function(e){this._listeners||(this._listeners=new Map);var t=this._listeners.get(e);return t||this._listeners.set(e,t=[]),t},e}(),J=function(){function e(e,t,r,n){var o=this;this._serializer=r,this.renderStore=n,this.globalEvents=new q,this._messageBroker=e.createMessageBroker("v2.ng-Renderer"),t.initChannel("v2.ng-Events"),t.from("v2.ng-Events").subscribe({next:function(e){return o._dispatchEvent(e)}})}return e.prototype.createRenderer=function(e,t){var r=new Q(this),n=this.renderStore.allocateId();return this.renderStore.store(r,n),this.callUI("createRenderer",[new y(e,2),new y(t,0),new y(r,2)]),r},e.prototype.begin=function(){},e.prototype.end=function(){},e.prototype.callUI=function(e,t){var r=new _(e,t);this._messageBroker.runOnService(r,null)},e.prototype.allocateNode=function(){var e=new $,t=this.renderStore.allocateId();return this.renderStore.store(e,t),e},e.prototype.freeNode=function(e){this.renderStore.remove(e)},e.prototype.allocateId=function(){return this.renderStore.allocateId()},e.prototype._dispatchEvent=function(e){var t=this._serializer.deserialize(e.element,2),r=e.eventName,n=e.eventTarget,o=e.event;n?this.globalEvents.dispatchEvent(function i(e,t){return e+":"+t}(n,r),o):t.events.dispatchEvent(r,o)},e}();J.decorators=[{type:r.Injectable}],J.ctorParameters=function(){return[{type:d},{type:l},{type:h},{type:u}]};var Q=function(){function e(e){this._rendererFactory=e,this.data=Object.create(null),this.asFnArg=new y(this,2)}return e.prototype.destroy=function(){this.callUIWithRenderer("destroy")},e.prototype.destroyNode=function(e){this.callUIWithRenderer("destroyNode",[new y(e,2)]),this._rendererFactory.freeNode(e)},e.prototype.createElement=function(e,t){var r=this._rendererFactory.allocateNode();return this.callUIWithRenderer("createElement",[new y(e),new y(t),new y(r,2)]),r},e.prototype.createComment=function(e){var t=this._rendererFactory.allocateNode();return this.callUIWithRenderer("createComment",[new y(e),new y(t,2)]),t},e.prototype.createText=function(e){var t=this._rendererFactory.allocateNode();return this.callUIWithRenderer("createText",[new y(e),new y(t,2)]),t},e.prototype.appendChild=function(e,t){this.callUIWithRenderer("appendChild",[new y(e,2),new y(t,2)])},e.prototype.insertBefore=function(e,t,r){e&&this.callUIWithRenderer("insertBefore",[new y(e,2),new y(t,2),new y(r,2)])},e.prototype.removeChild=function(e,t){this.callUIWithRenderer("removeChild",[new y(e,2),new y(t,2)])},e.prototype.selectRootElement=function(e){var t=this._rendererFactory.allocateNode();return this.callUIWithRenderer("selectRootElement",[new y(e),new y(t,2)]),t},e.prototype.parentNode=function(e){var t=this._rendererFactory.allocateNode();return this.callUIWithRenderer("parentNode",[new y(e,2),new y(t,2)]),t},e.prototype.nextSibling=function(e){var t=this._rendererFactory.allocateNode();return this.callUIWithRenderer("nextSibling",[new y(e,2),new y(t,2)]),t},e.prototype.setAttribute=function(e,t,r,n){this.callUIWithRenderer("setAttribute",[new y(e,2),new y(t),new y(r),new y(n)])},e.prototype.removeAttribute=function(e,t,r){this.callUIWithRenderer("removeAttribute",[new y(e,2),new y(t),new y(r)])},e.prototype.addClass=function(e,t){this.callUIWithRenderer("addClass",[new y(e,2),new y(t)])},e.prototype.removeClass=function(e,t){this.callUIWithRenderer("removeClass",[new y(e,2),new y(t)])},e.prototype.setStyle=function(e,t,r,n){this.callUIWithRenderer("setStyle",[new y(e,2),new y(t),new y(r),new y(n)])},e.prototype.removeStyle=function(e,t,r){this.callUIWithRenderer("removeStyle",[new y(e,2),new y(t),new y(r)])},e.prototype.setProperty=function(e,t,r){this.callUIWithRenderer("setProperty",[new y(e,2),new y(t),new y(r)])},e.prototype.setValue=function(e,t){this.callUIWithRenderer("setValue",[new y(e,2),new y(t)])},e.prototype.listen=function(e,t,r){var n=this,o=this._rendererFactory.allocateId(),i=s("string"==typeof e?[null,e,e+":"+t]:[e,null,null],3),a=i[0],c=i[1],l=i[2];return l?this._rendererFactory.globalEvents.listen(l,r):a.events.listen(t,r),this.callUIWithRenderer("listen",[new y(a,2),new y(c),new y(t),new y(o)]),function(){l?n._rendererFactory.globalEvents.unlisten(l,r):a.events.unlisten(t,r),n.callUIWithRenderer("unlisten",[new y(o)])}},e.prototype.callUIWithRenderer=function(e,t){void 0===t&&(t=[]),this._rendererFactory.callUI(e,a([this.asFnArg],t))},e}(),$=function $(){this.events=new q},ee=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.makeCurrent=function(){t.ɵsetRootDomAdapter(new r)},r.prototype.log=function(e){console.log(e)},r.prototype.logGroup=function(e){console.group?(console.group(e),console.error?console.error(e):console.log(e)):console.log(e)},r.prototype.logGroupEnd=function(){console.groupEnd&&console.groupEnd()},r.prototype.getProperty=function(e,t){throw"not implemented"},r.prototype.onAndCancel=function(e,t,r){throw"not implemented"},r.prototype.dispatchEvent=function(e,t){throw"not implemented"},r.prototype.remove=function(e){throw"not implemented"},r.prototype.createElement=function(e,t){throw"not implemented"},r.prototype.createHtmlDocument=function(){throw"not implemented"},r.prototype.getDefaultDocument=function(){throw"not implemented"},r.prototype.isElementNode=function(e){throw"not implemented"},r.prototype.isShadowRoot=function(e){throw"not implemented"},r.prototype.supportsDOMEvents=function(){throw"not implemented"},r.prototype.getGlobalEventTarget=function(e,t){throw"not implemented"},r.prototype.getHistory=function(){throw"not implemented"},r.prototype.getLocation=function(){throw"not implemented"},r.prototype.getBaseHref=function(e){throw"not implemented"},r.prototype.resetBaseElement=function(){throw"not implemented"},r.prototype.getUserAgent=function(){return"Fake user agent"},r.prototype.performanceNow=function(){throw"not implemented"},r.prototype.supportsCookies=function(){return!1},r.prototype.getCookie=function(e){throw"not implemented"},r}(t.ɵDomAdapter),te=r.createPlatformFactory(r.platformCore,"workerApp",[{provide:r.PLATFORM_ID,useValue:t.ɵPLATFORM_WORKER_APP_ID}]);function re(){return new r.ErrorHandler}var ne,oe={postMessage:function(e,t){postMessage(e,t)}};function ie(e){var t=new m(oe),r=new g,n=new v(t,r);return n.attachToZone(e),n}function se(){ee.makeCurrent()}(ne=function ne(){}).decorators=[{type:r.NgModule,args:[{providers:[n.ɵBROWSER_SANITIZATION_PROVIDERS,{provide:r.ɵINJECTOR_SCOPE,useValue:"root"},h,{provide:t.DOCUMENT,useValue:null},d,b,J,{provide:r.RendererFactory2,useExisting:J},{provide:c,useValue:!0},u,{provide:r.ErrorHandler,useFactory:re,deps:[]},{provide:l,useFactory:ie,deps:[r.NgZone]},{provide:r.APP_INITIALIZER,useValue:se,multi:!0},{provide:t.ViewportScroller,useClass:t.ɵNullViewportScroller,deps:[]}],exports:[t.CommonModule,r.ApplicationModule]}]}],
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
e.ClientMessageBroker=f,e.ClientMessageBrokerFactory=d,e.FnArg=y,e.MessageBus=l,e.ServiceMessageBroker=k,e.ServiceMessageBrokerFactory=b,e.UiArguments=_,e.VERSION=x,e.WORKER_APP_LOCATION_PROVIDERS=K,e.WORKER_UI_LOCATION_PROVIDERS=Z,e.WorkerAppModule=ne,e.bootstrapWorkerUi=function ae(e,t){void 0===t&&(t=[]);var r=j(a([{provide:z,useValue:e}],t));return Promise.resolve(r)},e.platformWorkerApp=te,e.platformWorkerUi=j,e.ɵangular_packages_platform_webworker_platform_webworker_a=h,e.ɵangular_packages_platform_webworker_platform_webworker_b=Y,e.ɵangular_packages_platform_webworker_platform_webworker_c=X,e.ɵangular_packages_platform_webworker_platform_webworker_d=re,e.ɵangular_packages_platform_webworker_platform_webworker_e=ie,e.ɵangular_packages_platform_webworker_platform_webworker_f=se,e.ɵangular_packages_platform_webworker_platform_webworker_g=T,e.ɵangular_packages_platform_webworker_platform_webworker_h=u,e.ɵangular_packages_platform_webworker_platform_webworker_i=H,e.ɵangular_packages_platform_webworker_platform_webworker_j=J,e.ɵangular_packages_platform_webworker_platform_webworker_k=c,Object.defineProperty(e,"__esModule",{value:!0})}));